# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=129.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('5968c5801bb11e2d206dc7bfe317832cacd8b8976f253bdc4433928549fdd996e124c0c6db90e8666cb07d569e916b32da3db6a4c651d677e5f3563d697bfafa'
            '261c59e806ca018794e6cf84bfea0df49985a8bb09b3c78c6c2be29ae8e65d835813e364741b4b636c8ce1c8554fd03c3c23f648e40415298190697559014dba'
            '29347cbe60a2b6c4e1740ba33fabd0f850aec3951313039a382349e36b701b8dbe41964479068f24bfa838542dcfb4c0f6486e0dbc5e4b46f634df299461e993'
            '2fd2c74cbe730e70164abba5e71c1716680d6f212206ade7a3b01b2477c1a46ae27613fec24aaf3a82a134f48526df673b8e0cf4e0d0c462a7d06de9e12769ea'
            '74e5930683d2497a4390402cb4b50feb0ebed477600378207c0f21cc08d6bfe618182e084cc0a0807488dee44bbdb6cb1f96644115ff2e80e203cf5522f0be46'
            'bad78d104010dc0c500f0d614ce6a5423427615093443743a1e5cec96fa621a0304974ae4a7852078107e2141db82530d530de46a899b67c128d40983331eaf5'
            '65ae14efaf5b4147cebaf621e7ca64fe4c2ca68b220d599edf478e3142aab48cc3b0056c65ce6a10a48a159bb53fe12e4141a0b2cdce385f48fc8a4050ad5fc5'
            'b776a9ec94946bb4623320fbd67bc5803ae91530fdfb33e246c64943da9cb4632c15800172e6e3722097053143c224f1b0bcb1e7aff4f022b44661818d01cd65'
            '28c56a5235cf31f2124f6ebc1335f246aaf7a0f4eab3aea3eeed885bcfd91783bd3e3ccde31db8b0fb2f0df01c8ad2dacbafc16ac340ace807cf3c3dd88b34f2'
            '85eb05395d93b49d9c040c9496464e2078ffa0a042fe89dafefa90a9a677f0f677bef6bfdba1ab223108684d28e99c5e889d9170dfe776f56fa2ac5524a99db6'
            '19f4824e17cba0a6e5712244bd42ed1f2b777964d4b72c0306fb92b2b20e850d824c994a0a7c050327500451d82fe61aa570deb9233f37eacb3bdff3e9c33855'
            '094d48128f395bb2688521e9282bcf4378fa79c9bcd937b83a25c6f5dc27c95fda9d29f4b4cd305c8789afe9e937b9c89466fda8ea99715f03bd6db60ce256ae'
            'b0ad69de3dd01defc1f3217749dd29ac7bb3ab50e051bbbcf14f5a6bfabed6ab62625794a11ba6528f18de5faa03ae0d7df3d3c465c1416cb0b1b4acccbbcc44'
            '4e41301c4e11fbbe6f983fab2a378ed6679acc8b7d31e1cc8bc84a230c16a37e3f45056d8767fbd491b4f4a0bdfc2a83ff1e50a440259de85207ff9d56362dd9'
            'c6fd7be327f6240c539ee8d4250d4f16d1ed449248db76a577e4432724acb11929bdf610584e2d96264ffdd8788d34f269422907a75a55353e5e1b4e51892512'
            '0c534bf0b7998fd54b61a8d0e6e708a93ea03ca18cbd2159bff4ce79753621f2ae6463842c6e7cda417f756dfdae9e1367df9aa6095d5796eb763003ee435aef'
            'c1a7f9e37722ca78835b935b583625314e12709569bff853c62c175175f5dc1cf97afe2062e1f8e429417324ec6314d3e787debccb605f7bb95bf6d10bf1b32b'
            '32faa5ed2b84538192323fcc641e3940ec083c7ac363073bb877baa8e102fdf771ee2c362f206d1a6f6c9efbc011654d2f84d8c2cc341045b978af795a01217a'
            '3f0c8fe08565f5e2325fcb7e984ab665bfd4a772bd374b57c233366b8b04eb3c0ab2c38f91e0ceea67e01ea13b6a8368da4a48d906764b030a74f502afdd5fe8'
            'dec6c6e8376c7df40baf7b5d10f04dbbcc9c86533162792dfc00c763a10b204f90c520158b7608fc601b23495815b7961c97d69dcb632c1cc8a8192eb1ed23c7'
            '28b7f1dcf724af7f41011d535052a6b2b9969a4411b8ae12c7b11e2955cd7966e9b64f97d381f8bd0a7b32a0245ecd44136024956015a3d3864c51a38855933a'
            '480f6ebb03438a95da52d62803acb3b9a03c78d401ebd4cd111f1fa274ee0baa63e9b76f5db6ec39629105efde785eb78d8816c3a0294ab436fef87022ccd7de'
            'cf5aba2c5d59e52443e0b3cfc68e16c72765099e7becb5215a4d50b183d1809e09190c943cb403fd187ec3f3385d9d06b09a2be70af66d68d1a0eeb7d9e17d40'
            '36f4c5746ea20a53bd2ea4438e3c92d9d2a5c0448fd2524f718e2a8d466615cae38dc7f81a1fe6c08988215f89b42166bd45a10cfd6efd3ec6f67f9b1a30615b'
            'c7f0831ed838c3320a3e1e4a518fc2f45844d9f0ecfe374d9427651f29f0c4d8e355e1e76efa2bb09f9f8d79e0bbfc943023b2590a5b09ac5aa4c2433af28af0'
            '950b21b44fc0c1810e423dfe356a172affe4cc2e59e33d8b1439ab6ef8799861e6cb92a49a2fd32fe43581e9254e919de3e6ddb3abde25b820610ad493045592'
            'ba5dbd97648c80a7a9188808d97e1dae7c6e68fc8a40b7aa4fc76ec30b7fa955f8b559ea5081cb3653e8308ca765c9a08cf1170de5425849f36c0452b7dc815a'
            '16625b063c1722342a92cdd3b13790c1300aadedf2616652e1627c4412b60c5347eb9c6b1cbc13f7e274349972cb083ec6105d136467c36bad6029badf20f331'
            '5e43787ff9b5e0190a8fbf8b1f60d38bcde9cd6b6fbc4b4bb264e53b61ae3052fbc7f9257d64df5ff4089bc04727b963d8fa6048ac158c6847f55a84d7cdfc37'
            '0525accf0a1a8c00d1c01747685c9f1095ce85aa07fc6cb15048a111666840d96aac8e9091155a90e78f01cab1614d578681c1a13ceb0b59215655765eb10926'
            '30f9ae4c8dd5ecfeb3331166c4e84a5fa2658c68a0315e5a5dbf5d8dd6b2ac2255f9eb4f6495731710f981f11eac0a7a865c8235899a89a1da2622befbd23728'
            '3d246a3f20e170cb6d4958ab208f8ffc87db9f8410b98f3d865d562cb33020c577d437546b1e5745518184c65ae771dfb3c460ababe2e93e8e7ae871476c1926'
            '0aa5656563657a5693d1238d5cf34e1040a78dffeeb96e3c86833acd41b97e9d43451e64cda33b88f0f497ba30f50e025adf7b42233a49d437996e3bce787605'
            'a5c0a155205d5f1f543f6c007179431cf9314b9aa52fef31fb44b7fe5ba4c0d9c2c3ae96a7f49a4e3f3727e7b1f4bebad6e9c1d50ffcaf4957cecdada82e6671'
            'b3518c6b4c8863565f480b8a59c29cede1173a391e53587b63956458ab2be4e7f8f71cccb5b15ce86d522a5b438b9ad5854412005b1a764bf2bdda60ced3ea03'
            '2cf70e3426f150cea4b898072479c70b2fbbd8c047cb3d35e69afa61d728780965c6596c2a73840d092eeffa2d45fbf0a30d1e5f9fe79915326a549ccc64eb7b'
            'a3217bda6d92e636c2fe8eeeeee5a6691c42a37c6974e1ba50609caf65c216f8581d607a7b331dd9779e50a887576d027c193d6fe2c6c3e586274b66d61963e4'
            'effa0e3a94737410dd6be9d99073a91e9b6ea192df921d5133f794a3c2ae6ae3d592f786d5a25103980ee706ea2d286848b0df03f4e7e4e6d4758d274fce9af6'
            '76f1fc407d5d9099e878f4942d6906819d7f84905110947538f8b03a05e1f8d1fbc9f5730b2ceb0f2d7a3c39f423b4f1f139f2053cee5d2b88de9e0e00dd0e9f'
            'df180c4ea0fb74660784d2093c434bb7daaa2b1caff80da8100798deb488943c11f280bd971d0ea6cf1cccc48b7639432a3d6839e5ccf854bb3f002156cc7275'
            'f1b2dafa518cb137a3f54c943939b9a3a00bfd5b691f4872fc25025e0fc38d28bc84011ba543594f12a43d7c686851137436cd6972ec1ee6a4e0d7c03374db01'
            'd1f2bc03e66a6b3924b1b11bc6b294b2c76e162e4cabd396c31c7cf30637859a023980d7df8469781f4dc339b1251490f3b5fffba862cdb362242d74e82e8049'
            '27ea57b36bcb9962588073bb731ead7c92f27e14cb61623af7f93964bc5354457fa80994829a4bdf5e5d88c49c82c8433ab9869f74db50a803e160f627a6e190'
            '52a45421c9a9e9e567c90497acff8cfa8f6f32c45bb63ccd36a1a90d13c7b3efd551fed1d2f51582f19aaf4c9ab7a9622a66ec018642481c17d73268cf4720d3'
            'db5204803ad13814be6180fece34491e61e88c7646c73cfcaa692bf0150a6f382548b4f5f93a26587ab0d8e8b2c1b97e4e7bf48e5b3e27a2c5de65258cf261d4'
            'fe0b0f41b4d76079746928ebfdce6bf785a8c555d28e0bc215ad711c9a9d2d48a61b8c1b4afd6b5603c2d5bf4818b49506fb04a48935c74b5180af75fee57014'
            'fbaa97232ee5a4c2460f658a780f72a70b1038e0a71e4bef3b5d25cc6c87c1d79c46742c809459d610a66440864678e429676d5947b5075c97d216498f18fbeb'
            'f7abeb35ee4fe1a9e3fe0c7e2e3db40295f0b814fbaa0c27ec82ca21b081c95fb7b01a91dc9cd32fdad3903c5ecbef392ec75b9bfb666b8b2c5429225a3b774a'
            'acc9004a0cbdda8597c26d3d9feedb1695db497c53a691fb1697ae2aa7ab75648724953f465a705bf858ebde98c97539d2f13899926bfa86d79e8b3e94b58f18'
            '3b8129415e31575758609813837ccb2793ddc5ed9c9900d320c47b889aaec1cbd623d8cbb6c22b59f4924426b1b0db159b057ce7e8b97467118f38ff978aa88b'
            '410d5177e672d970effe47e67cf1c06b44c1c0c1bbb891a66797b21c4a1f02592d2a427d16da519b768d6751c6eca7ec51ca96323ea58749d7e9b28ff0c501b8'
            '53f66c2bca67a8fb8d7e118da13fd2c4f1ffdf56d1e9fd620607893d97bfa86799fd8a09051fcfedda8327004f9b3ae3e0f46de01ca6ba441946743015858967'
            'b69eeec25e535d4a4e715fe5fa2c707ce445c17294bf4940f71fd08adb514bb9def8a7034eb7ad0b542c8320ab07a246d30a59416a1ee9afda1e3181758a80e0'
            '9e8dc5dd717aad83d0e8bd8ee8a8690c749e5dc523b6e595c9c11a13a2bc09b0e82b53a0f333578a8cc4ed71be91be66c9881724ad8b8d1767565ecfa6e23eca'
            '5eabf2e4672d85770a8b1c55968698ad17cf8c781e47f1dc7c87ae98b374b230d0e6a4640a7fdfcdf31520a2077c52b6f96e4fd620acd0b0ac10ff6286eb1851'
            '6ab175135effea5363f3d4cfb78f90ce0295f904d7acb4609444f4d70b65caaea2180ee9adf5504a428582e2b8d41a30fab53a29627775de0f03ed6cc94d9054'
            'e700372c8f4e2422e91aebc1abac5ec022ba547f32a58f8f16fe7e43d9f146e9dfc808af689df46bb47b185c8846b8b2f207b8f6a207a46e4923d62b84bfae26'
            '43e3a51a85cf686dd287cfd9ef21d6c09c2f5458d1ec78ab91a2c5a6f4d42a5994e6c599ae30586e2773aa71e10051784ab564a9bd123c25b8ea1301656832f4'
            '81a734c4560e8e47e99ab97d2383a538e474854bc36edf1a6847806d0cc3361901cb3aa48d87a1ec56ed4e31d15979f6d37821cb0483d9e7ee7627a4fd3f2c1d'
            '9f755674201ce66e295e15c21a14d362b37d8528f81dd0375afa8efdaec8eaed559e5a8f8a3056948194296d7f021e4b818f4825b2fcde3cfc7246b495ee07ff'
            '7ee6467a54cc3c9b656140b25a6baca84b3462074f9a8e41255b5df5f380d69acc881787cfe8f36f67596e766dd4663f0c4b5e9d7ffebb1b5ce5238b996ae331'
            '91f4aab26f66880fd65a2caa21056b001759fa4cb6901c97c54d003f3cb05de5251e184cea5b982b24b543e64ab3a434b63de40aa367e9c27ae0106ed54f3674'
            'e2f63b4013df39d7da394a5ed801a79c659698b2f54dc7ca153eae109d61cc25258e2565b79c6f6895c6ec057fbfb8e795f3705aebff31005bdd356d0bb85d67'
            '26253df7a3c08cc6f76b011fa74a8bbe74061ef8d20924a69def2ff5280867285b1bce3efdf38f859ca2a52117908b35c1e6f7b13510690766ffbe002d74dbff'
            'e84eaab88f4eb015a2e54b2d0db3d4f8cb6c5c13cf427a8e2dea3ed39be83a73d15939eea3c0705eb2b2c1ca6a8173abca4aa535239b78c10a5f7964fff0447a'
            '3cf69fcf8bbd29c9009635de66f92cfe4e4d26044122e5275b4d0b150113346bbc249f6db200b3a4b6ec3d251e3c9f42aad7ebca425d1237ef74de84ff4ea9c1'
            '0dc3257d82a4ab1286853f3ee1f27c79bf6b773b1663cc7113372451563912924137eb051f2d7d14ad26b9ea2b84758e393eb3fd2e072edca7d80aec4db86999'
            'c4a88c3e6e91993270ad91fa18d409d522cc8246f75dcb7dc94d1b235db2feebdb27770b8f06eee5f3a905f1ac26b580b37ac10e7bebcb8198a62059b01e63f9'
            '73b9e57e101824f5e433ecd14f8ab2736bf20e80c9807adccba4ac3294fcb7029cb92902025db69938c13e81747e807714cc3c1197417228a37160cf43c07e52'
            '881aab3aed5154dbdb0bf71ad1f01e0c3fbbb834bee358588c2b788b70f11d1d70b342ec1fa36c34be3c70a531a7ee39e872df02fa1d8bc426cac63150a22ced'
            'ab495530b4cd6785ff26c723d11ee5b7eb7a3e4eb227475d78da64e6c8fe42092164549d912a2278f27c1d06e8e81783e989de8fbd4b5f7ab87641d33b314c3d'
            '697349f28fc045388589fb6b7d2143830f269980f09881be80f57d7777bdbd3dee17bfbaffb4c0aff08f4c289d433e120f1359c0121ad762f6aaed254d2487a8'
            'b8d49babcab1e6fdbe74e34251968ef56d0d780425762f4abab6d918813ad871a4b9ac6456da3b2a55c50a8ebe5bc089e97b19e504f4c1a69dea80671ad9d7d8'
            '434d4247ba064b81e7042371321b5ee24aa0a6af9117fb8e93278bc3eaf3d94a54a653b5eeb178432e4f2be7462ebb2aa63e31a1a9ce5c4791614aa098bc45a1'
            'f27bf80dd6fa4d72517d2fb14a32d54739c1ba9e5a4ed9b8de8051768d7893cb1d52c6df91b4801eaefe5e7d8650462d2439c29d0ef462bb238b1735dd12aef2'
            '61b7beb2cb8e53969eb0b04a92a93b921b7b290dcb84dc94e1c812ea6677a34678a7d945683c3726c1144996f0bc1f96cdd23ee164e84d70aeaa1a56843458b0'
            'ab48d4683678fa6cf518c5e316e7b88f82dd36f5baa1e8bb17eca151cac7660358cf297eaaa6c6c5c3fc1827fa493f1bf4c779899678abf485f354a4621df17e'
            'bd13f63a35a48b6107fd0920258a4f6bc6203dab6715357792ba11bf57f423794245c9af094c21f8a1dc32577b80fbb5fecb1e87d0289c56492832f96640f485'
            '63122f611c153fdc091596e37d0aa301767dc2bd7de81dd26a14787af6cbf1a16b772486038b2961c372ad5d88ae1f2dcb56bae8c1c081075666e145d638d384'
            '2acc8855bb8461a6d0d63773322aef491eba4435de01396f8628cf493aec2429d953d07afeeb59e012eb73f4c43fef10607c08aedbc74db333025394f82cc107'
            '383be0e75a23d44ea3811727cd26eb0b3ee4869573505c72e934b55cfdf60259fce770715664d02eef95916aaae15d11ad05a302b1c2f333ccb58162020aaeba'
            'f5fcf889c0306b42be73e0b58a2ef2c82164465537e679668cea68c6d2dd85dbf7f156246768537a43bcf428ad61a9d7dbe89e6b9f245b9bd57360ddf4c3419f'
            '67a0bfb234d11409f818112f497ecc0f9d67a018bc619ff493ea4133996e8b855749ffd66f8bda6385d423d05d08e1bf2785074853a0af23fac0fd5f550180a8'
            '402ae61672f8b3ed5dfd042d5d79185ccf28175bee2bea39f2c245ab9450f03869e476f6101c2f74747c338c006450a685e5c68e15862b977f68e2bd64e410ae'
            '08ab9d79269b532eda8256f1ae68c5b20262eb9277e075e59af8dee0b5a356a220d187e4a9561ff01f1b9843031751e23811f746491278d16d8d1f489d8d860e'
            '6f745cb69f3416c80b31d9e843cbc78fcea46eb446513ac326882db7c1ce0ba8889722fd8ca41d59db09e80cc2068510425a7d336e9ace4239047a849d681fb0'
            '93a8939ed828a45cf880914bc6f0f372d4c65affa6c051a254439e2fd99b442c321fc5af1d5863ced2852cf90e77bf3003bc8e15c6c3a54218925df340212080'
            'e68f327c42b42f092d6421e385546fa0fbbbdd6c7364480adf351147f8b0a62151f9bead892721fbc26eecc407d742126524508a113b5bab602b667fa741884b'
            'c33b150d96a42cce1f9822eb6118ae5e3166f1e05cadfbc376b56c248deb2abcadf133af222ecd8c5f98174cd5276bc15ad3c03c6b19dda5b0aa05d47de4f4f2'
            'ee078240075a8b37e177a94038f80abccdd39b031032779695cee5bca0304037b033f4b8fc3a1656c5967a625147f0c9b1bd519f32e08a9d24ea503ded66a969'
            '3a2393007b8903749d1df97018e2fb743ceff672290ad482dcc8a71e57c3042d2283bc858493ca54c1ede421cd648a7b57fd472011e8ac460c89683eba57e6af'
            'f844ac1778159c55e5104e4c57a646ade599d495a2baf14d00303340cc982e90b212f02c5a1c5331c13e0d22219dd8e3c2babe340d884240a1541c13379ac1b4'
            '0740d1aee822a7e0b009dfdfdd6c3332fc50925ff78a3406ddd62d38a5f1ba0606e35a79d82c517b8738cf02b5130d522ec573981b9ba66e9a9a3fe71d8c7801'
            'cb43c941f0bff3263ffbc75b43d27d17c4959be4813069970bb2bd5dafe4b08ba340d04b6cd726fc9e8130cda93b0c66b354874f8558722387a0d5a2851b1db1'
            'ed0ccb71b3bc199d4fe6ba9ef096f6a678238f8b639a9be474d1d4d29feac143e5db213e4a72b4cebef009ab2ccecb3c15fad1f9feeba169e36b45ebfcc77db6'
            'deecdd06993e213e5251dfb3f7634b1c874cafcae3f14a2695a2ac84fc581e421e13dbe6fd8fe7a21fe53be3c74ecb107513a6b9560413f04b8d65b5e3f845fa'
            '6e6ea40a4704078f4ba6227216c7acae81f09f571eda7460bff7772dcd6c0cd751bbc1d3fce28c214563ef03d218e9809657bfeec4ce7c408099fe3170acbcdb'
            'd34071436c9db0f4b65a59f1bb8b96b4c7c102607a1260c14e87cfb2b7d5ec2b25c159c9695742930dbaba731dfbc5f733818fb977fdc430de256abe877cc724'
            '57590fd1151f1b890fe2bf4a0a5b97aa2fe52f7fcaa4bc4ecb634ece2446272404de8bad8c5671e16c2a0f9ceed336857d0079aa623cc51ed6c658208c4dec30'
            '6cbbc739e68b211ee93b7601ba0a00543f2664a924c5a6107d1c63b17a60c4dd4cc727e760f5753ffb7643c1a1d62bd519f121103dfbe46289cd95efff747966'
            '949f7553b0d50df1b6a8c74b97bc65d0226ef883d0dfcd1f35704bc00f69fe520f42ed854298a3567eeeae4077f9ca50a0ef38d009ddb879525ee832fd903fdd'
            '600b187ea9e2c2b0795052c0dda9bd7ecd9961e3a135fabf5ca656120445d4326c89e6ac8c9905460218a5b85fb0e02d4fd625d055529bccbdf05907c2db04f0'
            '1cf2a02b4b7d9680d661fb969d1f249f1e4e7b3af16fdeb60f45b6825e893052206331df2b05cb603546601f9ba98f3e840672390c067991d30c6803b1bf78eb')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
