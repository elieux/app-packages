# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=148.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('b35bc167f87972d4272c784b717f70a1733548764993943728e6a17ec884f1e7cea1e8e46d82849cc1568fe80b9f4fa46887e883faaa8aef3bf9f79d38242b33'
            'bb2e291dfa3cc90133f5bd1f5e3389239082d6ccdb7412f4138f97f652e693f2c76224d17dfc23553a1b0d4e5a196b9d55779fa2f913e22c2c8a58cf18f3beec'
            '114baf22d18a91de4bd9f239948c06365621f513494007e1903bdb8419d46ca1f57def1dc128d32ba24bb54da606134d6baf1d2c7052efeb9d873aa11d7f9f35'
            '5cb5e29e3e1dfaaab448c1fbaf44b4839e73e4663d03d2336cb3119cb0a8c23eae8c6ea6f16da906cf5221e6bfb2e34cfe1bb6adc4ee62b0020e7c5cbdf83aac'
            '9e2c9262b05ccc930c8bf0687d713bb2ae980b73c29bbcb93373f78bc524dc1f4ecf24519c5be941101b7ae7aaa343cbe2f5a5f660b172f3a8e12d414678adf8'
            'aa400f04f2227d4424cdf8558b5046505f3f7e5b01635ed2fd2428596633eb24c17e00f4d4e282097c8f6bcccf45e920ff3e35fd6eb88572a1548be8e683ff8f'
            '94dd8515a86bd486ba1fa44fb10d454534b934762e8d197aa094b3e7f9633cd5b5e13dd8fc3450d6cbf0a996db12fb07a457a46083150c037adb17d59a6fa8a5'
            '1710d23e43ea0ec71a429691bf77a5654b5f63ced8599f9a52ec836c2e06d37d9deddb7491da23f59d6ba68b68b60e3cee459cd6279ddf7c13da65f4cc0309ce'
            'c64d161e28460a46bfd416a43d1e5f9633f5c3aacfee7f1dd845dfb3ff14ea6c25bcdb53c379d2671b5d9c5c06e915e2807820e8d317ada4f931c680bc106ae7'
            '49c366bb10b18c60be43b9f1b84225c54f4edf9a7354a502f0cd42b004d2d4a58a4713885d145ecd4983497c63bcf8bb7d8f886b1288cf7fe724fc34ea3827ac'
            '7064163917882b4f7b11a575c289673757af1fba6fb2517f5c2c29109a8c01fdd92a6ae5cfe6f362dff78ecfdd4827bb8e5e61aadb8851e486949bd40ceba383'
            'c3de6d647d2091ae308e237fe32092af04c1aa7cba8b51cd817fd69d12301356e60fe802060394321ed44e2c83a54b8163dfab267f91a57f0df7842d4a5161b4'
            '980913753470dbf274fee59d9cfbb9de25108eb3d3fbc35bdb37505d6a0b33bf3bfe2c5ac6fd096a68628604f0c3cd4fc6cea0eca120b24c0eeafce63c0829ba'
            'f223401d1a565d5c31523a22b482f522a63229295197a5f7f4a089376da305cb5b63c9ee1b713b3f14e7f54e370b191196ec293eed507a3ce6c754eb807cc3ee'
            '7ec2798d3b70ead073e915b2801cd591cc97147176993b9657909e83719a6565776810f64d6e6fde6f9824a164b2de132d0400bb03262813eb0c44fcceb9352d'
            '834aff246d1608102761504171b1afe19ccbf975f396981b7108866170a01e45c9a7994ceba36e6d4f80eb8a5e834554131323075b94166149602ada91b4b3ca'
            'e9724ae49928a7a9149e7fa8c728fb0dc51d290f90220b2ca4d2ff4a0665cc9b94b38ee3be419450d9e1a6a56ab8393e0883a5a8a728edc4646037c00fe5117c'
            '434098b75a2ab1e652e5f5663f2d589dc6bfb6bee637fece655af0a8cc541f596bdaef3013df6726b465d44c7b82e2201ec09562133b93823f1f1541e617c610'
            '3133f6b79952ba64137dbf6d1f51a22aa70bda9a5016412ecc57aef4cb32cb4282e07da8608126b0a551093cbd3295222ac53f146bae0c8564b65c77b86cbaa1'
            '153e898e65c39cf95f0fa58f8bbe0e548aec42c97505209474063044e84dbd35d2fdb5aaa59e9203c1504df75e950be15b2d8c01a50c574ee7e97b8d0abf071a'
            'b623b83de55ae39aafeefceddf9c80fdea879edd1312535348ac61775888de1a523dd76ce4d3fb11bc21f18e2519a9ba720f05b35b881341a273c23037486a1d'
            'c353afa7cf98a164a3cf0023494c007ee040bf503bb3da66be9ec4c5373d2debd34cc88adb7dd13350b8bb5fcc5e6723696def1735e9378b7908e133cc0785d7'
            '840d84e3e7d914493b9e3734ed8782759aca8f0a805d884678bcc17692a297733d111eda414ae5bfe40c5447aaa7c1f53a72b32808e33dc6e72b94b385105e19'
            '0a2448b6ff9436b57909630d9d99d830619b0ef062cba2691d0a20966eb9483c11b22af040f73c5af3a77e099654a367b9a2f650ee56e28630361cee677aa2cb'
            '2e63633396f7f5a382e5d857271b781080b0caeb5c1e6c830873b04c4d47b5ee6ea27da6d8e33d608d853030b02b8ae074939d7526c39087eeb9c56eb4d2b3ca'
            'bde9590a1b8dca1bd2c9f0ab15f1b6d4c404033333037e80a149868e8014a9b15270485b0d197359c2d69b81282e327fba93148f94c6689440885f7766a5bb5c'
            'b8d7dc76b3eecfa6481fe5e01c8f08eabfe69bd8529aac51242b0905024debeb05783a48ec77c9cdc81a9e6f427aac80256390189ae8a3b5efd75242abbb4a20'
            '524a7ce94da39e8290679c4886728ab1ae718e4b79871d4cda49274908f6480dcb68adab0176c1a21a28cba74611d5bed5020feaceaca5370429d18fee54acd3'
            'bd86239bc9ff1c94420d94e60a860805f5262c50fcaea8e28f3b74d06a5a873bd601423f5b651dff23729c2a19c50baf2f8b16f735f57fdee17e9685a3ef5067'
            'fa941367f75adc7fe29fee4bf877b888e2a5ea5a6821853d336d97952ba25eb9358d9ce9b4d604e4b13a42b8a7ca55eaf872847420a562713cf2d2c409e53b0a'
            '03992b3cef687e7d1cc407061600b698d46dbb1d9efc5b8a1d7d2526e606fa1e5e2ffe864b47db2d19ae9f683ce87984e535252a5b3dab52ae0b0b829fd61d09'
            'fc8a0cd226bed13ab997babb3befc006ac357f588af4e93780a6de312115f817ec5b843bc54546822b04176b3c76af0eb7c930968a2bbcab7d8681ce7161714f'
            '5a986df5b3248e8a061e0b222c2b84ab54587053168712160e8762c36eb504636ee872c4da0dda9808b0d58f63c5d60286d5613f0f2c37d82792a91af5116362'
            '83cd9cbef2834c01b3bd0143ca31a9f71ecac03ce301188e8a6b9437c8393e021c2063484c3f27d4b80459bb00c25240ca05fd8a02a880613186e31439c1a162'
            '6d96943867150f5a259359cca17ad8cfc19976cc62e5cc3603af0417acf1b53839eefe4ca9658d792f3b5ef0341160fb0618e82b5c44f64bd08ba2320b46268b'
            'a2172466698773e74395a1d94a7406602f70888228a972a4cc4e6f43c54842305f568f581d795ad8959fb9eb4e8c6c04ce30da2c6c2a824853bfffe9340a8092'
            'e305bc9fc8d4b53eaa196cfa1048f97f5a2ef620e5c99dd92a7969e8c3d20b5351085dd04603502e33688cc08ab7629c65e9fd4c6c58d6b4f57678e94894eb69'
            '2f88b7a252f879a04bcfaf798931a4ee3eda4b5f6837e16c01d7bf929538f1fc11caceae98400469c2e5718359ef5c8b610fe833bee47f2a3de7fbd923d4a2c0'
            'f4b77920373f6453b63437993d147770d29525e59cac1995f9febe8274495fe461123613785648cdef9bd80f2cf6ff91e279f564f4e9dc304090ac9e2b367081'
            'd6492feb35f125cc7399133b59167add87306f1f576cb6df3a8ecf61d7dcf835a06c63dce3f6ab19cd7128b44ff5e567bfbd14ec9ab70a3d2299200f4baff58d'
            'd2e7fc0ab3abd8b94cdbd231e5a45d9d7e2785ffbf4930784ecd084c22353d9fd908826c3300fd3c8359738e55fdb54a0bf5ead9c3e61007330294d0907727cf'
            '041aa8d6970b37652afb4d8d6da5e6c288d1632c29c9df983f85afe2a43c23d5390ae5fc1236d6e4c988d55970cdda3827c9c44d4bcb469dfa1b8e06bdb02d59'
            '6c4cbcb5de262bb0e73c7966cce7043f18dc0035f4200cd3f8ec828e0890aaad5ee71c16e4b1da6bb16b6e231140e026f0cb8a740ab311217081456bac875f07'
            'a30e06118c2b75c7b7ca90402f88e30c21147a3c47892da075d005b168668923f7ef61ecce23dc7262d4a4bc2077d80d6ab5c2b766385a64d8a3b9580b47296a'
            'ae4c4f1e03fc00dbb0df16bcfb8e6b5df630332e63cc38b9a20bbf3fe80c631d5ee8ed57e67993e18213b759aa9f7133fa6249fa919a8b142cdae5dbd3adec84'
            '978a19c9c4a8d31963b39f49e5a3b98e7bbd642600dceaefc2975fed01f829e615d5b7e13314f784fb9bc08060021db411f05232472c254bfc8bb2b187556c05'
            'a04ffd285b72f9c30f62003889234c3e852c09728eb42865d2ed2ab24a4268070c5998448d637a4695abbdbc7907b605f5ddf1e8c45452a40c39ce01c51fd301'
            '415af34967a6c2263d244120b4431d3bd1e0923ee0ee508c252d48245ac06128a6746e47ef0de3dfb86fcdd788e2cdcb678293274d2d22a4f72162ad107f395f'
            'd42a3a1b10cc19010b256d48f27ebc6bffd416f4c2ac319c7659b0bc15d2ecfd618f5dc95d8823087f8a28cfa63c123bb9051d2092274cdade1b733f85ab1fdb'
            '071fdf427d1663e5d6ebb882b45b7dfdaef8c5fc982686c144a6dd07a4b858676e6c80e1ec61402de21c72fdb3639c085013288b3c4b7bf8f5a5297e1c874983'
            '384dc8f05188d1254e5e80863e07f4e5bf0712d834932b2cdaaed09afd54232b64f38d755eb5b36e4184168bf0917a195ad865dfe632bf6dbe632146abbbe816'
            '64032cfc4b942fe0a1375e1d99334e564c47fa0b57f9ace0f775a4f1c00bb8eb32372fda679b7c4b3a903a71c13ace99bc3e39ce079bc9569adab21bdcb469d0'
            '49e863f00b0dc3139cb689da1da163d9d1702a1e85317a08c0b45c7fc1a873a2501ff75795483b0b37036a3cb1bbc71aef8052341f816ab3873c14ddc76953c0'
            '5385a94b27758a187329b5523e7eae59003893f12638015e5bcdf3e87b80801580c504c765ca8d1971c1db9138bbf195dac28859e2fdf1501772ad5ecc5e7bcf'
            'e633d5deef8ca3194e221c986f1447da8a1b9e1605c109362a072c38576cf390dc3d8dcd2f79cc7be21c6834786e71de53c988d4c64ff8b798aae18151caeb36'
            'ed78e34916632908fc8ca629983be44187768d03c555cd5588450eba4441a3a97619e7402c4515a3f48aa3a0357254597aebef040a01a85af83019fc2a47bafb'
            '5b1525192d087acbb899962edb2ff68e1f754652a548fe3bb50c579113a0ee0dd8573d51cfc2d9fd0904ae5678e9c0c8675a516612be123f48b26b69fb7285eb'
            'e780212eac5ae97ba8fa36d850ff023bfed6e7c170e17e2fdf5d476a8b0b3bc2cfb58deaf8709fb91498fcd2d6c482c5328f6f2401387bd11d61dd7ce69d87db'
            'eb4bb800515619d444fcaca91489abfc74a6c5596bc4482de596ebf35964457e0e640f43b7b9f7c6cf401614cd73a1d10f98e9fcce013423799a8d00c97fc20c'
            '8084770f441f36ca8512c264ef994c995a7aa5c06f6e258aee579fc723267907ca107f205be907b906109e7ffee2db1437871db34a643130196f4f47cb5e21d9'
            '8734ecbc04feda8d8f562526b1350752bd0273202a65a91a8b449d81781e22b6feff1cfc8b4ff7fc8f2af032a4245c6c68f2211d362fdfdba9787290f2e45a82'
            'c746e0382cfbaf0f02c1b4f0fcd0b87b6af816bf1e5c6994967d84b732f326151887fb254920bf39b1f9a4e55a3b335685388ea539f4d561b2e88c6f468d5a8b'
            '24badb287a2c33d770c12f12577b23d5b42d11e4cd8de74f3125e9856472c5c2b29872727d59885b399a31ce67a96e1fe13742ff5eabc24fd706983d66333fc6'
            '883778773868808e690ba62cfed76cfda50ea1df2c1505c2afce9ccd91c6456ac14536c910a6647b80c32dab057af0aa5a19aa5cc54eb8b207d142e1eb0fe716'
            '642dfd5ceec6737ee12cf2b9359ebd24ce65f336e0bb8a1ac1ae29cdbed0b92bd5b6ba39e2288322033f8f2b0ba31ed1b39415a8f651efa7ecedc697836b4b84'
            '3b95386c0f36a7381c37af2d87f45294509f10238ea3e648017ebb4cb51c36944c51383efaeb499bb80463e74bda05f42cf96e4f2ad1ee332dab58b3f3c98e2f'
            '6a7a795adc3a0a12995a0243b73e606ccd3c06ff58a068b12b6694194330161a4ef9a6701e6ca9b082c2acfa0b1601074fbf6c0bd57014046f27c9ad6d7507a4'
            '0c8915f8869563fff0185be9f103da45528cb6275a8129cba09cf00eb3cd552a598cabf3c8c69bc2bd3e74d7fd5b71b8bc17d93f7d9db4ca067d2f1d3d58f816'
            '3cee8a39102f17eeecff3cddc32f2962d151c06028fe659c3183a420754fc00f7fb75536132ec2ad4f94efd1d56acf839a52b4173e0b1bb3bec21ca154a9ba5d'
            'a34c471a8b4362276076b55b54812806d66c25392cb688d37a49006aecc600e278ab34c882de1d58ae3b03c62661dffdd4a5e8bb3386666db4d1bb0e8d50a9a9'
            'f8c4cdea625b3247cdf2c53a64a79cee84e622a602acf587ddc20a8b3498dbab9531eaf250a54e2bf039c90dd5d87da8bf94594bb3b240750b6c6ed49b3dc698'
            'f57bae7b0511d82d79f56817168834e1f80cce518c7db5d9a9573f3311c214f41630ab87779c681956036a667c46db85fcec15061576522f070b4ad221929dcc'
            '8bd6675f5155827cc2e4fc6f236ee58beade16b6ca531be4894148bc358b460118fe661b4871ef63d6b2e2f26bf69bccfd0b763904a4bcf6de00bc2104a486f7'
            '82a9e15f12998c32222ce1ce9905b68748b43c9ffdf485bebf8317fe3d9be35a8fa40e03aa8ac335df07962191d3956028feaf58a7fd260bf1ac94252eaf231b'
            'c0c149be47dcdfad3ad229a71402b3ae47c1a5e45043cc953f3fd15efc6c284d2f4473733c8b7ed7347f65f35cde5a2a97ed62beee28d8cdf3b040f3e5b20adf'
            '5937d630766569b66f120b290ed6f9b3e151ce0ea32060b1f9a9a576aed16a69569d9f4b4b1242fac2825bd3825e361731fdd088e0cb61ba179ea39633700ac6'
            '654dd6690afd4fe9b07ab8a2cd917accb6867da3db25f3222b6217ccc5a12622ae08ca4726ccdb1220cccfbb92f89982e4aef674d4db9df8454fc887a91547a3'
            '4683302460c424260b47f3f4980e02237c0b64356dc91c489784b5c67224f9e73d2999d4ca88c90b42147f29942bdcb64290c5b07d8efe3de02b0744dc688e3b'
            '62b086c0f90f7dbe9f246acf7a389b2bfabc21f4d14db26f13dd8715b92d1273dbb0c3b3a1c39d5e8404056567745be91b714b47abc62afb3348ec49dec44f10'
            'df66850eac9aa85093131e42c2a95d9d300c25ad654afb0166de2ef4c8f4718dccc8b047050a398e3886c9f2f64bc40e54d6e7e790d91c87e228f72fd030d773'
            'a9a0b7dd2320a9408b1455581010b9b32cac69b7e27f02d9b0a711a2dc2213df7024119b3a2fd0c3451a5d855a11b4945e39e210c216e9075ea275cc92d6f054'
            'e4ba5683e4505e9c57855f487e1d14328a9a68c2433b1b6023a29524fdd278b810af77c8abd149a2a01fd16efc8a1f20f4415a358f70c4ba5a029b79cbcbda0a'
            '6227457544a9f2d24c482cfd957598b80c1fb29fb3baf90fd7c7985d294ea50e0d7d3b46e7fb434d33fe581b4197d2a343ee987e50339c9c33e28c66e414c691'
            '916709479c661983db81e7d0d31c3cdbc15a593e77b67659ed4c43db2320de8f3f73f4be65d21d93f5be127ca2bc5a4f2263896afffa85767bf75f25461ebc1c'
            'b185ac9cd86094c79eb6612270a2a6bb49bff542c2671d5ef04acd5672b2b2b59ba4e72dc2a56a7f49e69e9e5d9fb5f09c5aed86b5d87df21c00b08d160f09d1'
            '23b3da35e8c099c8239efaeb8abd9714dd9cc3e9b621aa44f2cd390dd66e45cba7ad0f34afe1dc2f692897fee1646f4c666d4682c4ccfdb4cf8a563200307cbe'
            'e006245ffb77183b3bd37df5ff49ffe247023c90cdaf4b1c29f7c3aeab6a9fc38ef5ecfb2d39faaaea9c35f394c159f321b115d0cc8fa5ff34061a28c9a5e1b9'
            '61fe661c2b927b9ab4fab46880dd0cff45373f748fba9e04d4d037b34fa9c4eca27034a2bcb2b575849c26d84990ca07ab41fa156affc349c65ca1b617c65c0f'
            'a21159086b87fa11f5fc2c3e37b31d378ebc49853afb3be87ea9cfd94e74c6b62bffba83e6615397db1a6e718b2b6fb0c22ddf14ceb278c07e17994cbd2ca396'
            'd8190ea7ad0fe3a4608b957b9f9aed4fccca0a770c57184fb7c6743e90e94bd69d269bc4a2e3431eb233732d4a4779f6def2ac5b9c3873ad1ac8f03087e85a0f'
            '8bbba93f12cc4c09c8edef399899ada39950332a6f408356b0a4a01b923c602f117facefc9595bfdef14283cb6ba5bccf44e6a7f1ac4313200d976bd2bc2c027'
            '8dfaf67784a4a22bd89fdd73dc56e3846cea25e44269c7da8a7d1cbf55dd36ba6dbef0d5d58084e40b0ac42bb228de00771455517e7f4cdaa6d7f0aa54df5f3d'
            'e939cb959028ff969b5ae568ba5289a8e26a254a187c5b571db0275cd3ec6a6a86d66b9ce39d66cf18bf5106f3a4b4db01fefd75a45d5718fa05278471a09afb'
            'e99a6bf81db391927360c33d6772dfa91c17c6b174cdb0c5884137d0b81d8067d36eac2bf35c00dc973ed2d83975252b2af9320634b52b120613c9609e0ec99f'
            'ca4801823da49d84a427472787e587e7e183cd43f48f0a9202eea1c23406bcb708ec214d7739667f393159e8198825908c656ff89a4a231e1c64be0732a57349'
            'b1afc45fc5076d3cab7cc7a887789b71ac05deb59b605dc2c6d558e1e21a0c112e24b11597248f7b81d8937d33c401c779a9190ae14231b6bcfe2a065ad5d599'
            '7817e3ea01348ae404e154849fe07e7a6ce8554bb53ab70e26bc292d998fe8bd0ff4010571cbf84145dfc0c7a50797e33073a10dec40d512d58e14b8a614f9a1'
            '04d99df19cf32f440ac88d61c2dd5a84b60dba7456ef775414af4233ad0d308114b2a8ce85908bc884a0528a74cab93e8ea14f541448df039b0cad84774d8901'
            'ead3490e538b68bd2eaf09f2fefa866ae35b7b3711b48869127f35d7f7ef695f6f3e2404569420a464b903fd4b7f280308daac0c5b9f41d897c3a6446c9a21e5'
            '8e7e83756542434f88a94b5f81c7e8d96e7c1098c5110c1668ce7ebfe4c9e42ceaaeee7dff76fa17c153ef0d489f3b36cbbe28a94313219f45844254e907ecfe'
            '7cfe288ba2b92652e5d7e8483ae0f2b5b1706cfc04983a6c10b19c988498b509fb03d959259218bf2052c1328d31bddf4e9e17d4cfad414f02e6062d786b3235'
            '61c495457ef4443fb9ce56125d2ca5f4756f4f0d027183f65d4359f868bf8aea6614cec03b308894c1f30744828dd86c3de254d7ca05c3f89f34e66a74a0c0db'
            '65c6f0e7af629ed0609076164fd2c16ea3b31860166c0a283699503c6a08af72f753c9db642439f8447924483d24fd4eb9ce6a4ae8fcfed12d25831f5f191788'
            '86ba6d2a1917f6b8428f195b4dacf078a79d832d4e3b785477a9631ee9c26eb179f6d5941583f7939be304c8761fa76ab8afbd4fb68dac5aa26aa2b35d2dc714')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
