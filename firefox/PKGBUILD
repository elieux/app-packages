# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=143.0.4
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('ddbba0b91847ba3370ca330c7232f226b7b6e42cef90998df3db36d9c6b39881b1b419a5b8fa71d7a1e84ca115ca522b9177d08d4a73746189718a6794cd4266'
            '812a2fdca20cb7452be71cce208c786b442b34bbb97283482867fc97113e424de627228d5424343f68360749b15eba610642d02be00d79ff5261726730cde132'
            '49788f0fdbb28d4b09045177905c5e8eb7158f4d8ff63f03aa8bdcbb51bc6987ff6ea3cc3f4360007b2d8fa393bef5428a69ac1464b3a4cc826b5e6fe5def7a2'
            '5f249295b5e2112bda3207c679217095099f332f362ce058cc0b8f5d0c182a1c68cb31195be4805c9485b0093a6c663a2ed5bd04774cf62eb2746a6658c22ec1'
            'ece822a66ef55c4a24df295027af85edfdfd242994e64182b8e4efa38546e834e55af72301d416ffdee6d2894de7fc7f53d6a654dad867e21c1e1a2f57fa6473'
            'd42244bc779542c0074bd5c344226821edb0d80dc51350247b13e31b38913cfd5f3383f5fc7ac7a2cfbf6bfc06e1177e897e3fdbf39ed634b917f393a20e0dec'
            '63dd80d22dc6fd7c1677b5d0303e3f74f4fd70404bf377651c50afe19b216a015a879156b9ae41bda31c17ef3a0b0dc6fbc56e54c325c0204976d31a6e110951'
            '8999122a9ba0e0a0439f40e46789c9229acf687921196e6a533dd2b2120060442d01c4eae88557ac159c4ef5ca9cf63a8d0d46b55f0e9dbcbf0fcaba47a88633'
            '8b0c88600478f62251c12fd4bc5233ef424098e62809a5c43683b4cfd183ed412af77e17e42db6d0ebb1855a93849a2ebaf9150c6dd3ddc7c2dacb99b927c032'
            '98d57e18b42c4adab3d735a117f353767f36dda38144ed54edaec9628c5550f3a5557701e5a8e864119fae62b9bc1cd7a908c234caa3d4bd7a0701a897471667'
            '9f54638f414ffaaca01445910bce8e028558c9925b844a43de6291bf905612fac1fad843103633229b2408b318ba321a5b41be3254ba2fd61e4d5dca652704a0'
            'cd1f2da42b27ae1664ec2ab92c2e1bb89543fdc5f661d12ea3a50086b81fc95312151453122edbb7e693555f80ed4657a7356c9c3fd7399cdbf78f001f8946b6'
            '5411e87767e3ab64cefc32e60e6d6aa0619d86adc5f21aa455771fb90fa13cbf4a77bebbaaa9a8caf5f9d492bc0f982a01a9f942ad62cb58d6133d097d4bc43c'
            '320b6a791d8cd90186bc232a10ce8b9968f2ff0049e3cdf4ff4add24d542fe370b4f471c1091ee43530d1e66c585ce2099b1ed52eb327aae761d1dbf81de8b86'
            '6360062af5032f340b422f2c83494c64f772de7c978ed317997ab7adc08878e38d7b13e5ece4fab6619dcc855e3afec3f6b45c6c95381ee1174f7a76464e7458'
            '05702db0e472dcae980468e339e98408e73c059970b99d9a410dfd40315065b773182431f1edcc95c134265e0316eb98a05ebd0e438df7ca38a1b52cf4758522'
            'e575c93f487635804e2029a682008756520e17b665b8460f6a9024859eb7d6a68b030c4a79204cb597b384a413c6e5940c410d4478fed27326e98a6e8ee063cb'
            '233181b19f651185f49882f21f93fc82bfd6e1718166e970c9ea808a8983eae06c3814f8e5550a240b557f037476e005bef3cea622923fc839411f79f990626b'
            '5a389814a1eadcea2decdb9c3d89e0fd9c0501f063e56c4db72f74c24382f6423d3275695fba00ebb2eadaff9906c849c8683f98d9a50de7d8ae860c38e5c0dd'
            'bb37cd6b83de603827716873484228b978e22742efdead7a42181ff746350a593e4efe4ac50bba34404cf8acf498791881c6f526738f9d393d39de37dbec5271'
            '9a688d99b0108b9a09ce7ef86ad794e7f8b73674daf6b2ab8a843eb731e3a438fa4c4295956fb13d9d3a284cdf9a8741418e0f750b53b16838dac42f51456334'
            '9165387f000a93a0cb7082fe2d4baade0ffec1b15eb285fbfd53908b8113d5b4ff00e8e7355a76416a0980c9ad7abbd711413387f22dbd0cf66d11f1ca18b002'
            'c8e640a53e663dbadfa84ddf785ed3322fce172192f6b73c7c6ce5ccda4381ec66bf3c699a1618e24c2b7f7c2c71ff874f929ac511b90b1fed6c4cf57ef821b0'
            '0995ca3a65142d2e810d27384f183cb44b60311a8ef4714363ee001fb802928c8eaf6b4ae86875c0c8acbae20274670c22296b7c0403c53dbf02364a659e6948'
            '9606a2e89ef5cb1a9c66dab5ca18668281c43426a510151109c832cd9916a2d29256b2baa21d5ca3c21d178456f2b490e419c33ca56fc485487ebd3f989cb22a'
            '719f6221080b8a5cc2ce09326be280daca22263e1324a1468d3d8ed9b68d3fa0d868a2d7573b0e89fa6805773f3f3958afacd7e61092d8a0d89d9dde71dde98c'
            '8840cb8e2c928a8a8837f36c88971613a5d87a53ccc741e5d77f148b3b6f1524e17096493ada7112625177f13e6f8cf2b04c1b9a6b3545ad9296d5c1e9df6a2a'
            '815101f0db8b69243f448395866ffceb584bd60d4b5d4e03fcdaf588cb7f2d96eb830a0a392600ed96f714519882d26ea794c606c2544cd53ede487a0a9715b0'
            'f3902523df6eb5cb039132a2f443018adfab40deb9d6cd9c7c385e0ecf8089e1a627b81916090921afa1326a533a8f6377f7be970c612302175a1b311bdc77bc'
            'e09b74663ce4fe34065ce0a88df11ccd54224960f42029f29c0b04186dc44b6f41ba1f5e0d815c9a6b529d90013757e9199c3863b9fa646377aec98531f0033a'
            '808f6c75bd756558ac72d484191de2b7ff9a182b3bb2b1bd33b627c628dd68545d6d6c8b13a7562880af25450b5c576bef53bbe6182e7d91d1849ecd0bbeb6ce'
            '32557df3b66161bd6c0571778b18e5c24432963e7168da9c838a6e737382b0ded96864eecbc0d7b6c2889db8895669cdc628d361c8598dc3f68e1c0d562b12cb'
            '57caa37ea72e6b6375d67932903aa8ee561ac044bd8fca4d270beff12a3427b21072e2012acc9ba2188eb5149ef42bcac549602a1ab4493f79d3172766c78f84'
            'cbb219c178cc477efe44ec9f82475056ae1e88602ab3446c1e53ae79015b6dab851f9cc80187ad62edefc29afb3c991b6262147f620b5e185fee789dc662f36b'
            '0921edc6b294e6138185c27b7812437da2e8324876d94d52bd2ae19a31aaab17f8735be935d08901472fca5848c7f9368110313f7274ddc5884fd3cc37afb7e7'
            '247e8b61acf001d6957cb03d1954dfcd8bd5d51b51999de2045a23d5831c8e4904b2687492abc9284aec21623f617a680656bbf766ccc4ca90c24fa095bc75d9'
            '29167cb1e10eef39378477026fd16c6f18cefd8f8afe24a70500eb49bb7db8426e3312eb1a371df78d11d1e149aecd0836604d2835f904eca993494b6fe8058e'
            'ddfeeea783f3ceb6ecd76ff365e9cabc4ccc9ba42608b6119c7b60a99565cfc23df61c3be014de23a73aedbad7379edb4cfb0d92e5f09b5902442f7966bb91b2'
            '11279d7126d53c04338336cf158de623f1bdcc09bc6454bcfa1a1d827a255241db3c6f7da5fb14b2fa57fd028ba8233634f40c90f84949ef54dc792b4ef51ca3'
            '4742298f60147aaadccc161d0e94adfdefbc04845d177e61f633657326689542c3c58d0fbb1dce1c9630ec8f2d1a6706b19548ab0d9061e2a0e26a4a752a425b'
            'e06662ada6ace2bfc0d471b596d107d8d603c3b561c9a1e847359f517f839373cfc52def036efaa15a255c2cf1e1d9df99c6e4f19ed2af3032cfe357bee38593'
            '4734a40fca8486ddb28cff3584ce976bdd49837534495b790501611bcc30da7dabd76bbd69cd34e949e89901f08f1618c407d312742c6c6cb5ff740e3a877329'
            'fef541b4075738ef61f69fad9fd1fae740283feeacb043676948e4fa22c7091f2341f825c0804c6935860422ce790d2ceb282e08f116d15594e20e1c0aef1377'
            '01156c1b2a4b971fb5ff85b5f37161141c5b06b43786d77c9cb5f4d380a851d26d4b75ed6bb0a8a7cefed0a38dda720b139cfba1f2940a311db9d5a5a3a826b8'
            '7a641a12f8af44b93d350df3f055e359a60c786e4ddbfa770232592472e922d0d2fd150c2ce59127db949511e6edcfdf62cedab9d5d83141e16f1543a79a65ee'
            '47c1fc0a36dd7dc5a6d20ff7b7aeebed5fc68308f051b6fa0c2c4514d3b6e59c8cec1ee6eeb0cb3a7812534299c8645251dec0e97500d4113cd27462e50e476e'
            '84f9b063ca72529a9aeb2a16e7978dd5ebfd1e217f2c7fbcee005ab08e021032864d425e24a58cc15e96d6212ba6f5ae09858a10f0531c8f9fcf6f0c26acc65f'
            '94de1ff627eaf38634f12b6c0ad728d5696c113f3f7cf5e61a42e9f679960e2d521be378d78f6c26e5a2dc880f090dc17b3ccb4467c13602f625f310a1feb88b'
            '11031f7a03bd3b8484e3b99964bc46aa182da107296fcbf363cb65308d4e58f2d9cf9fd9b584ea2a6fb81ed5faebf61d41f117db53ad8264ba2e7bdecb48a2c8'
            'c43b37ea8d176a2a01afaa5091eea1191a711a081274d248c9e3f353e8df94335b43dc7623c86dce7f31a4f42612e99d8620223a8739d8028cac70e3a14da97f'
            'caf7a99106f5ec0f41f2a5dfe2d446ab7d87ce2438d1cd6b6d93a7990a8533bca7f45861065d4cff35882f1c63b18c84dc3dc1cef25386dd43e2840d533ae1e9'
            '505b4a552760c66d5fac5aff7ce98e597f53b956de750269b82b87c63fe09d7e26da96958cc5a465500ec81f9a48ebcee66feefdb0ceba9c4403531e4b810ee0'
            '9e90973f37d60cf5be15e3d9f4075027023ef262b18f660bede20464cee52d96a13d5aa62bd01442a648b8dbc1d2dc92a65c3584851f391a699ed9936f85ab0c'
            'f0de250be66833f79423bf370f1318b73084bf3af331398d29164a6ce0e440fbe62f38936958609454d77ccef153bf70c962e405542c7d257abc547418726647'
            '1eeade08b9a03c13ded3d31e103a1ac3cdec3e78bd8277d2d95c64247d9d05ab31f7334a2bd62997250f9a91aaccfb3d98fed2a3962d503f4de6890948661eed'
            'eaa1ba9a12d070a2b238565695034a70c7cae8e1c1ed267cb380b6c41e36db84550a1024f2079545df0492b09785db80de931a8a9087fa465ad9f03507bdbe50'
            'd89bfe1e29a1fffe3aeb492c384099dda7296f8c40249e237ad7059307803eadba8aee7d6d600349f8fe16c8aadc9f43f400f75009f00b79bb1d0fa044ef6311'
            'b76ec05810749028436229f0bc7d4d6a3ed4c0cc2fc6f254a83a312888ea23e7221e45e0589015cbdc948fdcfdf4d4c457e5d96f008d92166430d8d22ad303fe'
            'e5a626b17e37dbbef3907bbc7fde7a1279d01b8348e7dced0af72b3b7e4ed75d03fb29d5af505dabfd06a4260e3be622a239a619cb8f4addf57f6cbe220e1f30'
            'cdab32b5fab353caee92470578ae12526a81bf97681dbea4ea98f57ed60c84d9259d3613e76ffd1622be446ce90b2aaddd5f00e2394637528cddb1274de03412'
            'e066bbffbc3b3a682ccdf2437f1d844d9d803dd15b783244a012fdff9de2f93cf78155ff205baddee7fde1c38337a997802dddff16d4eb053cfc4ba82d986e34'
            '98dbd5f1ca79b1fdb8ce283267ff9c50f7f132b8a4eca82a0a341f2e6e90d8c68a08481e3e062c2c3959b0a3f894793d39a6cd9f40676d0372e9364bdc0d5518'
            '1c9b201e85be6e96aac5933dd857f965f0239f9ffa235dce8d776fbc44a80dd05463bf50785b44d9a0ac153d8ebd292154b78d6b7ac1bd2d1eedcbb095b4ede6'
            'e3d3f458c4d7d40f541385d0f53c14a4cb6041d48ea876ca1f1701b64b12fbf877a6afda64fec52e27f615c7f72f4d38bb204a4c9083308de069417c12f45201'
            '10b528093ca8bfb9649f001483b1113000f1d11b3e770857175e45f018f83f59aafc0ec25bcfc3e1784b4950a1c4f43a60b51141037d4407fb63a0377d065d79'
            'a608b5e4a59829507be883a1872715bfe2117866b0d897130841c40ac26dc39f61cf9a9ca253b6ff1264c5dd7021eef6a339e7eb96a75e1e0abc7a3b72b80e87'
            'da31b46907f68ffe40ac25ce036ab936e449423a0d3515e4b56a14f22c33ed0a6e1bdd7f483854bfaec40fa1bccd2e76f1c5bb4942337b0c05b521644f79ced5'
            '8482f33c59747c13ce1e105e593f3f1f1ff6e8c8c3168b8f2bf540a9b5599efe1faa6f4a3417f38953f5fb993d787a6e482d842911c84dcc95a9bf0cdbe136db'
            'cd33822105aa4dc91ffe4cdad9d3450c1afab00cd8c4cc828a03af4c039d0a9f5d6ef17813384002e13d0ffeae0431ccfbe6d82ec846af1f0fe171f9b28ffec2'
            '57ec79f69b8670843d8b8eddefcdec8fa62ca03a22d4ae174c937314012dadb7d236f06c4b7fb495e94fff040528c9a64b6c9734b0b110359f320b6796becf0f'
            'f79faf6a155cab369ae584fdd89c2396d4c8dc46ed609c85c811d96962867e16b519392332ac59d1c23cc0aa241a09c3baff73c6d537e802559894614d9e398d'
            '87e55d3395fdefb235fe493e417f9250c00da2d8bcbb29261c83c026000243436cc9a2892497c6177257a8857cbf92d82aaeafd8c23a0d089a0c4f73b843defb'
            '4946ec6319ca5c295b4a1cef5f0240140b69d7fa9278416dc9ab7030ee5b08388323ebe5c09a327513cc5dbe8af4ffccdb22c837f925c8fb8aea1b2cf95213e9'
            '8be58c991a9646c9ba895865acd68151f020652f9b0f4cb23b17a39eba43dbea40c0940331dcb86fbecec20b5a602ea3a4637d581fe2c9f03078260396140346'
            '6e125cf73a6cdba2b002574b35d5a3ee49c4bee70123058d3a94c614695e72e68845f399002abde100d3373722eedfea076441ee93d24821ad46b49e688edafd'
            '3439b169ea880a78f7b0e25b65524d7e1cd20beab824e3fcd25834d87057988d6763d58b00007f1f8125ed999665404fbc7aa6d96882368ac1d3a8cd3db8bf46'
            '5a49d5198fa1fe384f86625ba549b2492466c7c4866468dbf9b2aa2cbd3b2fa3306496f6dc93362ef999efc2c93ff8c15d223a803f015935d745e37127f8be32'
            '192d0c9e72e2ebf28bf98ea48906c9ad8f74709e608c97e9a3705a051ba28de8641b5e3715c53da416d35a7880e4cda7576cd87e31d25b52e14f1bb1266d8353'
            '6fbcdb28ca8271cacbb29989093d9e9027ef9c7752484cb0917157b51a3ff9d3ecd0ad80ed4d3fb1c1c29cb15f220f41f62c344eafe844d8d0b4e3577ec83cf6'
            'e133d66eb76238304e6cf50bd1c5f247704b3745c363191c1ae68b858acf465e8967b70fe92faaf8173248330d32c53f168218861981f966917302ad28efb9d6'
            '1f559b4f6a163756b0e0d63114cc78b4c2dbeda80059adbe3a65ea2f87e55c29d37aeee1b74e83bdf3bfb01ac348b64d66760432ab4b02db56856c78633f4ce0'
            '072a11c2279af3ef6e6f9e385e6a7c5be713a6abb35135aac5ec868113f13dd588a02a9a927221c515a9a5e645a72329e21fcc6c801614df70c2e6387092c274'
            'df8837ca21be202a0de0fff635c8a41d8230bf112481bfd7dae2b62f0871b641554c48f991dcefa902783fcecdd2dbedbe7f0cbb0bade4a9155c6652f2f71da4'
            'f79b2dba4ed463cf70b85ec7521843c7a1d985233a8c3dbecf8a15fd3341fad51bb636168375c2f96430766b018e3fc4d40b45505f6026f2d6cd542fb325bbfe'
            '6a8a7be71be6179f6bef9297ac1fe8f99135479d89d828163f691e508d5114545bc715435b92208722b2cce794c51acf6a3311d2adaa8ef4054258740faeb56a'
            '05ce9eda787d78237f7cc9706835a71dfff37ee2aeccbf5b10d75ca736ec0d3e748dc0e9a0a9c8607002a2066b519da067c4d9da967e7f03457dc49df4712a01'
            'c79239bab00deee6b75955ebfcbefe672e8eb564660903803b73a4ac6c2398864db609c207bbfa94d48640ae2fca1bc8858248148484fdb33c39b7afb3792e95'
            'afba386b50f040e5547f21df783d86500f58124008e345826b877cf838635c24d2a298ea066bf0a998b7973610b3e09c3d1f44ad571cfaf1e6f651a8093cf760'
            '5fcdfe59c0b63b97aaf75ba8658a3afdc0f18a5d06893b982e30220c07bb8547431e89488c1d9810947b34e3986de22759a94a0f0f0b972ab38cef2643330660'
            '62134a41c2a83ab5807e8b37ecf1865784d4f9e8ca3485bc9be122cff06a9fb3853b9f53810d1647ed22cde336363df96efc36ae4539f82decfe3d5ae8b5ca65'
            '5038192022a08b6f8f974ec100ddabc3ce6ebe8f337b4b80a971938a6ff27b5af485552e3fe18f856ff3f8c3c9277b2b3af2aa92acd666cbdd00c2b90f2f1cd7'
            '2170ecfd052001bdb7f3a84fa44f8bca810664afafc8353a2c4f76af3ec0a89899a94f00fa18c0948db7420230e7e4b850f97591bf53c5f40b8777e3ea081631'
            '2f933fb9681a331c22a32be732c670ae638b767bcdccc78f75027d0807b520d36d974513d8547273f97f7f8c4ae55849a2526e6872d0589ad6a0b65d3554c147'
            '8a7c9a6256cba52c1b40ef786f554573f6f6974b5b1c0d3c6198473a9943c6e4820e976d06b1b5d3297ed5c57a9147eba8acfd34fc9817b8a3809e1bb4992e0e'
            '44265b2dbfd8d51c694b75a104bd7f242c2af9e3d21ee80f97ae2c1cf18c287556e097cfdc213e33ccd321e3bc37d00ca4971d3ddedf2fa889a04af8679d3414'
            '9280b7cccd792736f3aa53295008ed22a4c4b02479d001eb61937fee3442e40df448cc58af5fff9f5841323413778529491194021b2f56618b9bc92baed71a0a'
            '442033f71aca4dbd3878a27929c65462a4e916d2da147636069c66049dd3868525461723198640182d0c041d22dda82fa77e3e19c2e59e7e13f043580854f1e0'
            '6e631929222177e37d47d2afdf7c50dd74e0f6ec94b42b8e056a3b2bcae6ddd26f36b0e6e8fdad820644d494d959478f5cb1429ab62bb801213b609ce25ef4ab'
            '374bea4b7a144c59142f3a85f1b2c49653de6b2262806f5041c080c30f463b1413809139db087becc2ef7574f506261e073f113b1ec3b0d4d7111fcb1aacc737'
            'c44b659b68cfee4c107406c921fcbb1ff16fc3f50f453cbf0163bf2cbcf039d0dcede7fc89ba2aa2ae6c7eeff99d99b7f84ec8ebfdf16c5d95ecd2c632113442'
            'dbf6f6cd036a206eebc13705ff03a8fe376eff31da0099b6ca789a3ed6cc35010bf7fb2f8ec3e757cac65fba1bc0d9371433a311d6a75263869675a843814094'
            'c12cc0b9b5485faf0137fbad538dc5246ca08883040e92b243b2390ace001fd6d48cfc2f26ca5a40099aacc838798769134e29ae3d45328c369bdb82c855e11d'
            '23bdcaef784885c0875bb24ce03113632aeae6aaca26b86dc7f05cf4b38fa1ef74385dc4a5d57cb7ba9c094fec7f5425f18b33d50e7610583895a8415e5d9c9a'
            '2ef6e7e31b5e01937a1e6a0791e425cb8fa01e86c9256ed85c5308ae2738d635ff3ad7886e8b65edb26ccb4ce968e6b1695b006dcbff7a54fdd59ec7ffd900d5')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
