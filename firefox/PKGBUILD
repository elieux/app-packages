# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=99.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('0fcf4b7d0206320ef824a25c01e299a202b0bbaaad438b86b22767e7f71eedf209bc374a93ba15cea5818fa482d0a875e04a279e98d196ab68a345a9da4e456b'
            '3b140416bfc8df7add0a7bba7494c8630ab2ab90f8152bca471dce54d8fd6e5c12b25d8139bd22ac42123b80b5f784913f83690370b3f2869dc4a2c4cbd0b651'
            '57eac5372caf5ac47c0062bab70f5716f4898dbfcc7469782fc07e6078f05b42c8dd423db4b3bcf80bb208f1063f9cc230a98089663bd7f84ed8f696607dfe3e'
            '8c5b26f79146331ffc522ad27531b5f34ba6afd399a3b24af0406980e06fa37b9e7dcab311b7a07cb14d4b108f1a8a6f446e53d95af1907fe851dd32025e4fa8'
            '8e42c0c79d3ce81bb685b4807db45465794e15d5e2af3a0cee703c142326afd7258e73cbce360d556bdbefeddd629f50b0850b56110b782b9c68abcacf032b4d'
            'd387876b881a72a717f6efd5cb0c244df1574abc1b70677e6ff6f99b6e5f0e9df7f23e706dbb7eb15437f5f25a7838157cbb50cadb102a73377e9e29da405172'
            '210b7064ccd830f3a53d20ff561d76d0df9d9a5dcbfb4c4651f73b6e7d73f93a1f609b24aa152feefae5649f950f5f5aedfcef43f99c38128e0952e56b75669e'
            'f578b1c436c006e26092bd7946bfcb7274397fa55ef070b7079cca1067641efc38bed0200c6dca8b9c6a3807c6db0598ea4418973dea06f071f16e4491956545'
            'c3f053b20984f12a188aaf9e4fbce4a968fde607161b0f6e2e2bf12190bcee85a61948d656605be828010b96a4dd36a1ab8b086af7c447b8d97b8fbb631c86b6'
            'a20a430a9f45dff7cdb1c803958b7b5254ad177b7b37e89afe43955bb7b716af0d7398a6e600c06fbed70a196aebb3ffc0cf2f16cad57f9421f70590a6ef706c'
            '7c18ac5005312625428ea6dcf30b4bd2bf849462a5b515d77be39aa97cffb13c4fadaad9ec735a1af868507db895ed1a2df4863c6f6f10c4ba7b4e4a1884d6a7'
            'bbc5a2ffa216c7f2eb70d7455ac8bbf5f3b189eb3f711bcb7f2bc280da5245516ce5e7d0cd78aa1b79f398631e169fb42a51c86c9473805ce3d8880e11dbc005'
            'e42260149694eed4cb1f67b3e66c792fbdefb89b43dde374b2463258a50431069510410b456098c4bba234a68d701aae5989e16a70c31e0680029b8b1a839698'
            '73dd195d850556f5c3524cdd26aa4ab3ed12c484b05b6ef823abbb1061808b1f3627502ecf3da218dbcdbb478df11c072208d8904c281db0fbbc70fe09f23ba1'
            '84d68f39e9a9bddd7033ab80f413763932039eefbb7f9f60084c452042fa4f7ce5d7ca202b0c132c749d5c6f7ffc362604f5d61f27fd31f60ab59b6505a2466a'
            '35ece777d0a6d16527dff52efcbbad1a215271c6a839eafad68a45e6fadc06da23e3302ab1e76457a64a5ee0591fcefa428133a8a24ef48a951d9eda2df97dbe'
            '3ff38aedb7df1ef36ac75864e824e83d6f71e009a711f61c6ef0d071ff5e0fcf2ae385c4133f83ac270d72f562a0b971e822c91948322a862ec1ef4c1875eefe'
            'b7fd225f2453fbab86f405eeffc3a3dec5a442f47c7d689f3ff51145b8d042f30a5d973c86647059ec89678b8579290f3a59236ea8b4b0dd3e75f0352468d992'
            '3580700f276f0aa62213039434250c56bdc080813cd143067c2236c10202890f034f7f49a9b84b6f14c0ed0519dab52467938ca7a1bfb977964e56b7ae0de9f9'
            '0ea0b69bbc4e46309d65accdae55abe338383451ae7314a45c7dcb3aaa6618b0f8f3870fb1fb7f4021abd38c489e329c3aeaf4e00c9598ab250fd6d652b72853'
            '11a34cdc3045d6ad618ad3dad5972daa650c56399e3b269913b23a0ad991d4e9427135f35b33db5842e77677575a92ecd159c16fc3d3cd47a1fd59107ddea662'
            '1da1e1d6b9515ca783697749164a2c00958395ddd5fbfee9013b2bed678c3ddebb2bb173529da375e248580d652189ab74f02f5c00bea2c2809146aba94e645a'
            '5ed4d3ba14732e65737844ccec65ca2b012a5ec001ee97fd532e91e79d04e4db12662736e1821d6b3bf97bd80be3a9e64df9eb0f6bf1b387909cd3f569ac1e6b'
            '499a374518deed8193c7217b300a8fb8f71efa1f75c6bf030cd09ea1e12ea6bbd00b8a4f6962effe9dfbb9a82992060429b2058c219d96e1f32b3f8b8f2e9afd'
            'd228d57a9862cf96f8796da91059cbfaf3ff32a12b56b400d4f45587a3b766f5c0d88eb237512bf09dfe6d7a654381b1b849e89e530044d811cfffc543354a65'
            'c4d96b161a54f7b6f2dd47c028c114a768173893fa04d3d6ed8c00318ac6397410b4cb6f12fe13d060334f0feb4e63d907f7c028806495249027a1e64b9a02e4'
            'cb804d1217bc28caf62c6623dcc08f40049360b232abc9ade02767610da45c404cf69c527a6a754a9c48e7bdcabc466800aa5cf8159246416867d934cb63018e'
            'cf88de1136a2530aad31785224982bf0f191eba286ca38c606d475801d43a9ccbc2a4791eac1b3d050dce39c031981889d8b750bf007cc65659e37e2df3910c5'
            '1a7970e4e3676171a261d4f071ac135c86648c0f93e383ad534df50e70484795ef30d112f0ea662ac08b681b71c457b620dd26e200ee9cec18d9c10f7584e94a'
            'b2f9d50968d1aaef0b100750886ca4cc8f348a16e63355709083ff63231db48ce127a1c13c4fca58ce9b405f1c215e9f254148a3904d101d73ef55326918435b'
            '401d8c16014c4cf1c94a09b985f359caf5a8e6382372255050745be2cd5c4772ceb1185ac5051ddcb6937e8a3acc701518cf291bf6056082936b7ce340c83e63'
            '0735ade15ca032abd437373eaa68313a1506551f696e6d5f9d2db9386b9748065ab19840b1dfe8120f33f3bb87b7830992cd5a63535bef3a9deeb389f75aaeb9'
            'd118775e90d6e6f3e7636e2a150f33d7a1c19193614c200bdba1495e9d839e1f33ecfdf739ae395f2a1864f8465b3fa9375fc5d94a3ae46bb5b276e190e881eb'
            '78fd973c327ca6e4ca1a637d77c0d6b6d9e511cf6ec42ed448a74646273927f1c1308e86474018b9b9aef6f7d7626637acccc04be1f88b8f513a6d4f8bd6ec1e'
            '5f3b149aeb0b5f98216d936eb3dc6817315a47865ed5c96c9126675cff4b6d1341af8d2b3b9cbb1e20e462c54c4260f47b1db701500abeb8edf2d6dbe02f53f8'
            'e1725a8a0629b36d89790673dcfb18b22fe4a8e8256b0f514742df7d0c7106d292717700baa2d44509350c790950cdd754008ade8195066993d922a8506f39a0'
            'c5471d9fb3d6882e3ab445ad126e7194ad54a4ff2537bb0829bd2fd635e9507f02933219b7e1c2080f3e1d9659de2c7cdea0fa5ddae9bbad4dae5bf6dda0926b'
            'f125d775af34acf09a92708e6a3bd28ff6883a901763340c39b9b8dd25c6acd45a9d00a12cca2bf7f6cf23088e6c96af9a93d072bafdc6ed4c879eb53422ea47'
            'f97eb68f0a7ec4a521b32d5c36e4067b233dcb99054a5ad06f586ba18a658d1f4ce92e73c613ab18f9599081321753880a6c5dac61dbdee5edc539d03ae61632'
            'c8b81229b2fd5b51ec8d3927a417997106ff88cc63b9080e88b1ab0ac548ab1f68012b1707df74496bd9266fd48a42babb06a91000b44b84b78a8010735b1516'
            'a829f85ff3679f85d5c3d5bf725e88110a3585068dacd0646e53fb25adf4bc1e8ac9b30835998353ffe64e73b7124fd1a2c0ae74de061ef062d0bdbbaba99766'
            '27e34fb553adbcf14e6010f2bc5bad3f9b6d6fa5525afbff521fc9e58a84a0619a5ee785ca1f7561b8d485dc0701798f3548fa47beb324852b1a3592c97f55c4'
            'bf8619085d8d0c52a515cb29df4e659cca300d5bacd819ac63c4f038d5d7edfab9f01b1d9bfebe5677678ebcaad3db5f6236ecbed43dc7cf61cea1d882611b94'
            'de9eea3947a0d89951dcae07540f41b96d7ad28aee72b8b0cb516cb14c0a7eb8b846b9982a91794a6e16ba6a29c7a3cc8043f9c21f18e7bcd447b420ae6e6bd8'
            '12f50d700854d8c08579eaa0461eb03c6793144b4c2f563a7ffbeb21e50a4974544062255320fc7f3fec8e160e30da28539cf9b98f430369eb9708fd32038ec2'
            '8d6c9c00a015b94e83749101d43e2ae9eb92b23af57f787792a3bf47c49a20f6605578089823832e34014030c937d61fc87de57a88b399cb590b34a8432692d8'
            '1b3ebe2df97b275d53f53cf846846e3308c443519e1e1300fa6a0fa3c8c56f60e15d513605da8b281caefb98ae7088628daf5c9be33f71ca3587e44a0f2b9f9d'
            '1b9540d52c6c79c3b68c8b03063a08627a8570301baf3d53a97892e1d1a0d5c18a1855f098c958b4285271631cf1c62c42ebdfdaf1760605d9358dd00a554301'
            'aad953a641d7de15765795dc3b51ab690ff30c2df543778c16e7d8726b8e79cf1b5ba70f9f9522c7bd7be833fd3c05be7dca28ff9c09ef74d8213f6ff2fecf61'
            'e8feabb90b7ac7e342dcfbff74444241b2beb44203856a02745d1d3b04b82f00d753da49e2514a466e077638d5f872984ae43fead2884aa08cbeffdbea8257a4'
            '5480e0efa8dacfff08d93112f6bd6348f8398d6de97031c171af34f1450adfc0a96d386a57191dab5ab6449b7f3535eb54b27f5980d0ce7ec1e6080042573095'
            'b65857d81cd23a8ef9b5a952dd350b87f3739d9becc6fb0aaffffd54b3b7445a4329a1b363efb546f4c90e8f808a87f3fe8dd2ec9eeb1611011abacc2cdfe086'
            '49dc97326be1573d5468925aab566bd1c945a31823e9e9c6dcca3f338e38cc5662e32c48d458f315d864e45b3b1e2cba210abd8593e4f2fcc93f561abb808748'
            'e723762fcf5b66f3bf125b18c4d3a94fe35e8a6028a9d79e39010a721a16995cee6d0c94ec347893c93c1d0bb2dac21163e9b5e6f8edb7163fd65e78e0121af8'
            '4354dfc00e24e3b81f407c85f0ebc8667cc9e936b627134fbe77f06eeeb5e331c9d5789d36762077519462d04603eb9ade1c5d6a7860723f86e772e3a299ef59'
            'e125afeb000cd875f6c347abdf1306aa8893e26ea2830c53a3db671c74a506d146ef95bb42cfefa95dc42a9b86b44ebf81e1a0283cd18e25694371097ee93c2d'
            '50c2c9057de1c10b8289b481d7774d10ed363e19de1f23d70ae238bf6893133c9fa75d0725b799cd76f9200b1b946741552b4eef5f9a736dfc8497db41c3dbe6'
            'd4f2e00642d0c0d69f47803b8d3be8063274ee3909d82dffbc8e86ff3f2cf2bb39d201a2e835ba7a785e89acfb1227f9f1fb73aadb68264df7a496df77a91c9b'
            'c983f7ff65ea3c938e8ae2b03207f5d5bffcaed408cbdb3ab9651aaac25ebce100171249a174911f221cf08de04a949cc421723922ee896dd92ca7e89ef41b54'
            'e285bf8ab4af2d934b24a44660f495ad98a8798462184fa30a6f15a7cd97dce3ee052b239faa4050b47c97352142e7e8fcaf28589b08bea6c639059583b16ab7'
            '8ffe920a90c1516c3c261de601cdb3be21379258a8f16f57895a08dfac45300615219db49e430104c532a6a697e8a3a620f82c758f1b4832b1505e1f78fe4452'
            '10d46e115c6e78d8abf9dda9fa5097bc183ea814c254d0b8e3f5ac795d29c628d801a84aac1856390784ece1fe46e4097754adc9b1958266cc778417e8b19058'
            'cb0241e921afd58c17517b887136d56b09d6e053ce78bec031b0927a2a167df59292d33030e5c21828d514f6f39ae18f2d0a90bd40f62303c82fdd88e7b9fb3c'
            '2a59f2113b0856ce30e02d9e1a12975e7b6c43339d2478301c357056236b55c0e85af53bbcfe22a4f5c6ed624182717dc1c9c4d0f58f928e15df64b0fa2d0cd3'
            'e5e79d3db74741678f979410130b3dc05446f3c662742cbcb1680767fb422b36fbf09fac85ecf061e194ba78074031b20aacd966f8d72041bea7b73ecc496395'
            '1229f3d8dbe1c5321c500f3d0922b9cf86c5176b8c67a3174f18b1e1af13f4022810d18fe7f7d3976562e18f65b94ebd2a9297cec455fb205dbb2dd016d9053e'
            '306762404e54ff41062be63417eb3bd4fa254ccf21ad0749ca9465e0f6beb640cb547b4e4f073e8835b8da073f425d21ca3349315133bcd7768050e6c7e9b3fd'
            '39e5ab7f55e1b03b5c205e237716be86ed1f48e1fa8094b0283f5624731af92a0d4f11f02ba819b0c3cf607ffcff6d2e5106f609c5bf7ec7e6ce635f4a2367be'
            '3b7e7d8d148158960134ec941de215ccb8675049cd328457ed000c91eec3b3f9b5da713ccb3bb0da94be39f1edc639b4601f32e0ce036950d4dc31b6e15cad53'
            'e49fd991eedf02182bf8e06405e61f16b6279cd3cb65a82c0fa1f19708bd015f3502d27b84670e7e186b6bf9766d0a41dd45c5a62d1a12f39d4dbc8b3df1599b'
            '4039e29ec37eb48ed5ea4c1aae227460deccd1da21a8c31cb1a2e6581c6b28f433a0d4ba18636fed934721d027e0d3c0e9fd75bf01cc6bcab515f2279ca46206'
            '587eef3f45f0736b17390729127343105d8396cd537b8c3c345720be0ab3a54a9d9cf86e18656454a4cbb6cc49f15d781cdcbe8cdc8b2da2c8cc874cfa2cae33'
            '5449728951823e971bae7baec4f41c1c31a594205c44dec36366638687b63550c92f4c58e9e8187a79728affa90b5a87bea98472d2f056f832c60aaddac38b6e'
            '26ce3ab8bbe79b75e78812e42efeb1463ca9ab732dc91cb69c20a3e6c3c4877c344fe25f1cb68aef1c5b7c5007babc5e82b27fe55bd64048185ca7d165796f84'
            '062177dc8f1163b5e5f4a4edbb8ac8e908bf758fecbeb651f24025a5b369ccc79e7b02fd0bc4e4b8e2baece4546ef14af3a0379ab62f1f651378cd5cf83aa026'
            'c1eead03ae8471f62735d7e4c2796710605e5f4a39cdb1aafbceb01c1c00232a50e3bb55120fa7eef8eff923adaee4bc3335a9517984af4ab3c88ce31cebf892'
            'cb8f38478b837350de89b1eaae7fbc957bf38fa926dca73a848da313c0286992dbe3cd23b650c102cf64b713d29cb6f9e2fbd6cf4e37e53688ae857bd838b2e5'
            '1d262b40c3a3e7fe888388496b1b86ab40b360faf10854edd45892e4d5e9a91c5dd1b54614271d597060e24229c2192383306d065d784ab2a214334a2599a11c'
            'edb152024382a0c9c28388f30a06986974e44b2da294fb10e67169bf219d8b6e983d5242aa62982002eb11fe43914a0b5e3e9eaf4afb413944f7887643a06bd2'
            '65c021973a6f21100de64d5e04b1af08c89e372ec83723f4537b62d6efb1fd8e6a8eeaa5e07a0629bb3a8d9846882b98fd005c7c858257d8520c2f6722bffaee'
            'e59e3a2984c8063b5e87a62d256a161faacc3b0b79c68aff4bf383f5a3d36572447e4b70cd5a7ddca7c4c1f84a39f38d6c49dd1041604fab55c652169d806475'
            '1daece53458b039877f15a8564b02fc45382ddd3136c074f2dd27186c856b21040fba18547522b4ecc4718e14aa8f7cbc0f89a9ca77c3fd4e0db705548d6bea0'
            '74c699b0a7d1f380b03292894e64551d2707b87bca8988516bdf8e0a18dc1f77afdbfdbd2371223c098e8bc945edc43b12a556be7d9e4b8d89d5582790a47557'
            'c84cf1f8b03fae3f249f58ab8324017cb5b356ae9ee8b393aef1540dd85073303d2c08671a3cee15da7df2380cda16ff9c143cdb08536fbf962efa84c0963dab'
            'cd39f611f8584cf16aaa6242b02da7e53e7d9c1fa77969917513cc2ce7a03656035d0fde3e2152d0e5574985c72c810216325b9260bd96737440eb44fc24bac5'
            '741077bf2aa00ecced23fc8f8b52401986a8219ebe80aeabc8d7609f2b9556ecbab95aafb46d24ed3cdbef1e21e68eb9a3239b273c494d2672d365a8cf17d896'
            '67b5b19873d7fbe5380c70b38bec86eff3dfb345a3ae5e6d68c57af57c09000f6b90b51aff0ac864118c11e106f95c578b453358f23bf81fcf7db6ed08a1f6aa'
            'bb678bc4541f35f3b719a830e4d8a936c75b3b070a200654abbea40fc8024eb0d2006ec29bab891aa29680a6b781c796cf0b60ade54c84ede51c8d2e402d4830'
            '61526bbeb82b16624cc2f90d8ccea4b55cbe82a4f1ddd493c99ff51a23546a24d41b673f0e7b6448729e0ba38a1f81e9c7d77699d0ea05aa155d9761166a4b81'
            '1162ba3696bd8b107c30d6cd76d1cf9da32cdc91d23be3a16ab0fd9539b5b90d062a8ef3c8b0f7a4b3e89cf98b23c9c97dab37f7a7820f556a7d223d12b50266'
            'b010dabe7ef34dd9a32ac02af23aece38c0a3edd2e2ea29718336360f8377edb3af5fdb6a3fe98c6734209e5f41eb20ab2d241d6462920ef0d8b23b7fee3ea91'
            'a10f522a5954d43b0db3c9e0d4b1298e518142e77355154eb7cc83593fc61237c7af17bb2ee65f4fe1535152e47f23e96a7c8130a3deeadb2a35620972810278'
            'f004bf85dac5f3b42086f9d6e583ae9ddcafb2a4df5522b2df389661efa8d6742aad7c8b9563dfcad645e7ead9cff6f36f4db22c61e331b6306a036a6e072370'
            'b1c9eb076db55e30f6f2da1a0c85865097c22a93d5a37363fcbaa82145a84a785d67cd28df49e5808507efc512fd4738b03fdb6bea17041df697f39a33b9ae9d'
            '4d1d6adb3190d390faf4377cf4c8020acb50511cea7a75b8d9f03cfd4a35524eeea6bf850e01e7fe9039fc54a9bb6087e22dceb0556134858da9b1058e3583fc'
            'a34cce6a338624e5d707ed07d7f8b532d5622fa8bafee8de8ba714b08fb405f4ac37ae001e8b6e91707e2ff394e60bb6d5a91c58a2f9d2dd8f59c0b49821152b'
            '7419253f6cd200982cf203c97f1bf57e28c8fbffe60b453f627d12f689ebadf51127bede9a63015cc66de3d47a57235996b5792e199c83213e140956d539f737'
            'c4bd1254eba547d4c678088132c67b2500eb7187cfb728901261613d0d86e592f6dd594c6255ecbcd55d957d284d69ac7adf35ee641ce3d6261bc9af022fa927'
            '1fc454cc022ab20421430cf7a423d900b8f82d47075729c798e57f8032176c0a2895dac8fbe7255977da76b3106be61a7c64a0e011fafa76196f53f5f6ef9f30')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
