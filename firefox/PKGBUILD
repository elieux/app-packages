# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=95.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('c49400f7df5c353cd1d1e419cbc92b5c3fdb2e8ba5e041bac735502f9286a3b8fb9da5a7e30e6c6ebb22b999a1f0f1a24447713aea18ae025698b9a70a22f556'
            'c4ba2bd209a49f36ed951f02312a2a03359202031d95270f27f8bb01d680dd9f1375f6c6d1f085bbfed0d8f8de511d32779352190405db1ddbb674d6a8fa09c1'
            'ca6f039fee70374b67018552700817969236f730a1c2f58e6f4706a14cfe05f1c3dbab412fedc39f136074d890d332823275ac6e480eaa7a93e684885caad4ee'
            '66c8070e161b984e54d392e8dcb1adcdf4ecc6b6eed2e1d55fe34695cfcf05038df6d43c925b3c26fefc0512c93d02385bc55bcce6526bf2d365f21513e9713c'
            '3b3e603b685c5ad8b45649a3cb83a377d4a81c09c3dd0317b79fd0bb9e22eb6fd8bf4770a39ca9b24516f4bb7d8b75dc88f11d2de480aed8f391cc0ac94bb078'
            '87d8a7c46a8c9e34adf2c4b83422e57b5e27bef4decaa872ec036792aa538c8548ec7d38f837e7596f9c04987f721994cb67d714728af46d65d98cf192d01f1d'
            '4b0073fa79faa9703dc4e757db5182cf2ed168228b32676510bb982221e2e6137d170940e2d0cbbe4d578fa8c7e0f99b43c202e0db97f066dbb99da5268909c4'
            '226e2fe49ec20278f41b80c100a8072753526aa0412ab0f6fe6d0c872693a24890757b124733d351102249e772467f1588ec1f81c2f135a1b57a04d5a7ae8277'
            '42ffc0baa908160fe217e03ce6dd37198308f0edb664e4a1207097d346065604900c13e0c8fa146c743ffe53bcfd1f83be2dbc7e2fe471c0f18f452e0b2b125a'
            'acc6081a29373ae7bf44fcd8e42b561f626c79d33042abeae1de43592cc67c390b5465ed4faf46122ed8861155a713291efdd17367ab3b75a4f684141faf8cf7'
            'e2b334bc8f086eec43214553ea71a244d7666c628a3cec086eff46806b449e465ac2e02ee5d586628f932bd4883277417341f260b0710ba36b1a2a38be63a180'
            'eca7c89356c2f9d30d1315b14e986f1ea57bca2889907bf321f38b1be87c2fd37afabc959e5adf8538cc45ed8878c86c2adb810c3c8e44fd2d9082caf12d5790'
            '89234df8aa6573ca945dcb06ad2843cfa666adb95621ee40b34d1be8bac82603e9e78eac00855478c5172353966108c11ea999cfbb5639ed7dc0a5119df3ff70'
            '326cf651cf82ea591b6db3b041df2d06094996b154bcb414b9f0847f01f669b30a0562585fdce3d574b790d6f7fb6cf6acd824b555703065505ee1c88685986c'
            '7fc78d5030f2f169f820aace5e483eeec999d0f935eb21a78f21fffb4ffd9bea90eb4db18149e2b1a294b036c163aafe89b40f95101c01210e05e45765cae89e'
            '9f039a8db7087564b1bffeb541941bfe624348031fc3786c91bcafb585aa54fbc4ae030ab44e753e8c4edb70be4d32a04fd3b04187d2b71aa96016fe804f545c'
            'd12ae2a081ce48e93eb30f208a1b0d5a3a54b92c72d9a269e2d30023f4ff983bdd2fbcb947d4789095686914d5734365d680206aba835bf5621da2f3c58aa810'
            '5a75a09a950b6e9db3da56a9ce8ecea1458043935e81ecbbddcd679a3cf98ed11da924203e702dfc2c2f03b43c3a2db8d734da193897fbabb5cac15a1631b40b'
            '607a23dfeb2db421263cc0e21607d473b0a6a031dfae6ddd51215c4f8b74a69091f9011412cc5e573afb1492ce25375934a8f0b4cce37c3e0d5c53db9a749447'
            'c449ee867f4b580b013ba47f4af9cd2986a7ba87e682f861f16b72f86ac02accf42cb797a448860937b50fb64a1cc1c54cb43dd019e57c6b30fc8746ce8d0046'
            '8613953da78f93f5afbc514b0536ce6cedc9aca54806731788f5c68bd1f044b7d18223e63e6ded01efb854e0e78fe76d14ce74eb1e1609b6d0b66a850228385b'
            '9e011030996e679dbb4e0accfa500ebf0ee61c969e69fb1c1dbc9ecfeaf61adb18d97f8ce62e3c0ca1022bbb6cc082cb0e62f94c78313060d868063b26933044'
            '745a98bd3f9e97a1c94f156e83d925c0254b80e839be67dfdfad49d5f04ca600818dc70920a932b1f872a4205818e176d13949080b747ac602ea3c8986f7f071'
            '7d4e221929d8cc0d4b2715d3cbf359be9a167a79ecdf024e03824a2c292ae2fe3596b97f543a09404c085e30ee8454c29dc4f66c3954d1b1e31d4c59f3fe816b'
            '5ed5195722f15bb30a3aa31b53e861fafa9cf9b29ce099271ac56b693ea6e1fde75ecca56beb5968f899b8c50f16ba516ee29c0c036b81b1f1606a99029dbce8'
            'b7f2e1edb805e4cd04fc1a79513c9301688e4d6784e6514b95aa52dce229dc41645f9177b312eea8d2711a58029c5c383c07aaf8237a6624b1e9fb216265e2ef'
            '3f7e5e4a5472110b3ba488cce4db2d80ea5ea4438c5095fd4e5142d9d86d99f356bf05f5e4643c0b0a0e9fa43bdb917b7e99e048c7b91ec5c4cdd825c34d9f07'
            'b569412d164c1cf5763110a4f4725a5013a652b025b1192163945108c66467f6606218cfe6b4e3a56d27bbe0a8d1b4276726ddd17aa67a6e57ee5acbc5e27700'
            '2481dca937b8f8ec1a0471ae8324ddd43a9dd1ef2c69626bbdceb65fc86de22befbcb4b148850b46bb3c558a076667a8d44b2853749c6f80f3b550f2a23f08b0'
            'f7380c6e3a150eec64466548483dc6f6c2cb9a81950379b10ccfe218f258aecfeaccac87dbcf66d5641973e17179f073149df94ce8ae78b1ba4a07d07d75db81'
            '65b5d7f96d653ebe2327d424b2d2bcfe1140cab4106097b92aa65be81449f91df83bbdf383bec7ea1b34d319ffd3ad78e4c9b0017abe1865c3f5c365e4618550'
            '68cbe7f0abc911728216097376555e8bae08db772b1ec69b380eb94df447c76befd04c010f43b5211f652abb44c1c022a36fee92b6eb7743a3def9050a8074ba'
            'a3be7292ca3188b6c9234d00c9678c442eaa11893c0da3196513ca71b724ad9195366543555f39ef0ebb75507c79fa5fd5c44ff9fc0b04fb64669411b8535ea3'
            'def8aeec3e23584062a7061d21f6152081e39bd81d5f32d95bea5f896ba346e262ffc03076582f74d2e6488e6cfa44050940c81c08baec9c343c81fdd3402279'
            '849a23be48c31f25329215c3c8ecd03080325e3538e7519b5381c6a65af9fffe4d95789d9205d08fd0e1ee2752ca5400be346c983c7b9038f746aa8d32b359fb'
            '80c1c12841735aa33f85750d630cdf92cd6c57c0e1efaa5b9c0789ee4992cbca4f627e980de69053854bb2881a4805f591c953edb8ed0e3da61e64f785df31a3'
            '14c8c69deb5627472070a2057b3c397f00f0eb2397fbf460652549de33dfae3325e27d5806fcff959bcb8ce9c99a068b5c1ac6256900902c11a842731a940edd'
            '5a2875ece5f66ab190185da51c6b9feaf0c165dd1913bf44d988d8119117f6aea9537697bdbe2568dae41a62b88f575c8a37723ddc87efaefaac41159e4c1745'
            'af4610d95b31323e9dc7a2ebc16a9d3b7a2bc0b32ddc7849226eff7d848f5c52dcef615217ad91f779d558f3bace6fecaa692ab95dbc5acfda30c20354f897b9'
            'f24dde757159b14864b0312bb481d059f254273dafafcc3dc426871de182a9d7f8233c82811c27c89b187f8696da78e5e5d663ddcf6c935c5efab3e369728272'
            '4393c7f4c379e588110a824deddb0141ecb6b4559e0d3b771b6c06468e8e9534fbd2e4d416de661353febf16c9fa5f8dfc72a8fb1684b865937a5dce6dc6ce85'
            '73ce7e09507f5a512c00c4c826d25802af38d7d5e3542778f5ca6aa861c6aa6b507855c2fd7279d3b7aa3c27de813590000112e3fe6b7f7e00c07866542e99bb'
            '67b24c9974ee2f59ce28553cf06b3e2af606e4ac7ae4fec59078810cee1de03a117a109a74a84ef6aefc163b21fedd00fff5300a294fe3959a20127e4cd5d921'
            'fd480ddfe21a7ae031047defe565aedcc38e271b585e97f810696a2115cfdfb47053643083ffc8da654e8dbaf81b5f7d107c8f7b74a831685e87bbdea5673af2'
            '9ab1e0086245d5853db82da8552d9a959cf7f2786574cdb9afc00dca9d830593353c0f17d2a59ad7eb5b38b99456e6535e6666301d617db552d326055c8227d3'
            '6c5e33aab2d0910437ab9d9c493629c8054d021ffa9158e9a8b8f2e076b53945bc91a61434122ee7023019e5ec0665b18798ea42b1e69088c14ea68810a897d0'
            'bf59c56132c8c036f2ebcb25c3614e6023c123d6379756a0b0caa239207ae0bf3e3485b0d77c3c17c57d2c3d90818166ed7f92a656053934543e332a82814c30'
            '6a3a3b6ad984baf0db37865f82beb6d3be966314d432f64242c4838e5c52e8aba2ce9de80d1aaf81291f1dd4ed08a2eeac379fd0464f70cc6cba55cfacf0d6dc'
            '74a75705cd9f5f1fb59451a57d4cb0e332266ee44ed5ffaa57265b8208cee0d85018a464cefb85ea76ba1b66393aa250ccacdb188d3ba68c4bedeeb53742497d'
            '6434a817bcb726b113baf5fc4596abb3ba055500c34c0ca3ca64c519da0b5181194259113b98f9e7fb872c3f8b767851e9b605c791748f797167d34105b777d8'
            '86157f794e30412cf6b6f90f1aafb5e37e97e02e1b07d0004e3b4822026479f5898f6bb0a3c8ffe1130ebb301a7eff424cd1700d9c63b64294b5c3c6b70c2959'
            'ed4719fe8a263e5982dd9eeb6ed7cf12f28c9f4b5055a4d3d985ba4f90dbc9ee025e4251366a8196266b94da13f3c215627670944c94722b618bfd4fa22d7c71'
            'e440ad3e7ab3f6c7ebd0b11605dcb3e8c58d250647710dff6c6698078d431163d3ac15a8ec3aa77a98e7c18202199bc470e8be03cc7393792657574813ca8c6c'
            '882011ad3b115a3f240d34c8115f54a4223584fa36334ddcfc06d3df1a249147ec35ad8233aeed8859fa4a8bacc0db6fc9814d5e58af5d4e25eefcc6908a5ecc'
            'af8b6f5ba821109228209adbd3ec20e33766efc9f3b9cb018a5b2c52ed6218322d3c0255033899f3c90d958fbdedf0f5ffe498155c9fdf4604cfbb2ece3c14e8'
            '56711e41d1ba52327f1e95e958fa55f9fea2d7d70592e4fde6990414b1e3f10612d5e85d5354793294d2f8ecd24ef19561af6b317e8555b87ec4fe33a0c4f0c3'
            'f6d6a5fb759bd363e75ace2c60e0826891358ecc4fe5d28dd0731175541b553ce39f6bf8b62bd16fac9bb7afed6fe0d8b5d9963217d9a1387f2cc6eae0d38fab'
            '58c4f7a768e82c57ec2c5e187185afbed01e488658296e846d7d4d7c1b5db2e701f59db355318d05c0382698826641302be7b39cf1e91f5a162915a0de37dddd'
            'ba4f50927b7c6e4f73cf0f68f05c0e1dbf0835eb96792be70b85661190d4030a7c46edb7c726de63b6edb1d7d9eb5af24e18251dd59721f0dd5ae5f6c3db1ff0'
            '44ceee81af06be5a112e7d8ac991295a442d674263c975c77515ef6f96dff04db777d0c1706d60b6848d456aae6beb30eb78c19143ddbb26345ca83ed811ca22'
            '8e53f038bbc0253497ae712d10963a0584c9cba6863a41e367570925547436ffb2a4333a7bff8d18d24dc07447b28f283cff732a0f1eff2b25214c9e0da59e69'
            '0b6fa2a9cfc82f2eec686ff1d31cb70ebbab264449885e2857fdd33fe66ae3ec5bac92235b22f4ac811a2f5300b7e8cf2ad4a72868396fc89a944c8ea05d39d8'
            '6b6a16928dd17300ceb59dd4c1aeb09606e0c168c025d3652a89d9edda3fdaef785bce594cbf93a5a3a674cc073afbabb51e4b7aeaac48de6d46b81f926fb2df'
            'e2008b6f8ae017fd9a7d861b3cb44f99a402f3aefcc3ea8837791d3cc54d641ecd0948e52d751233705c4fa0c7e4e0235b41f2b32b114fd0ce98ef89efb42630'
            '0d57e5dba8a80edbef9e9b02a6ca6b16ba401499e4cbf7f9a2d10269f4e786ef2f053f76a6697756625f33f6a3f55fc1043703db2cb74e26e7d1ccbefeeba10a'
            '312a69c8e4ffe33bc10be321506dbc0a0a14d686d6e4582495bbc231b747c73a316587ace0667203b17882567ad6ca83dcd9c3c4347d3d8a941a0819a5198697'
            '8e69d389e2b81fa2c7d282a568e60f4baa74587a67acf87e7c97aff9e7efc9222a6da034982e0e6c974715fe8757b69110900fe40848fb78d8c44184b5309cd9'
            '300a85d0f89d4e9fb24f63d17b4874d21e5fead406c4078925996b81d7f65c55b1ad583b48ff17d8762b45f1cdd906a0934f5497fc90d0d679b4fb00d1b9770b'
            'f2ac7b9f4ef42c51592b788576e1ca28d403b95ae3d624b1db91b1d3e46dfde8b4e2f3dbe755bd8bc7f775b3447aa3e9741ee7c15d648571a0b51ef2868b53ed'
            '6c3a88501d29ccf7084282574a567df82636146144cbf75ac7707a560212a1a7da6d469e92c20426b47350b837a4cf7b3fc683554614057c93d2bc9700a97836'
            '9c6b4a8ac44ceb6320b6fd20ee4c6116532cfdad5f5eb8ef98744d9f648dfc798aeeafa7702761e9a51d27b42d8b59f2f3fa86e65e03f29b106754b2cac12d9a'
            '33782d78df29e8a37dd52f290698e0f2a15903cde6101300082adefecbdecbdba1c1a6088fea949b84c91fffb83587bcd49352492fde998bc7df98981c5be00d'
            '1770e7702108fca1eae490dab05531e5b9d050127bc6ebccdeeb35108447276c47a0dd55e910d0459fafd1e46d130d1863c65655b908ba649d8d439a0cfdf09d'
            'ac4644861bdd40892cd9ebb71a5d33aff9a33f9592d175d21db4bb7547b2b5235defb2a9191f0e40ac2b1e096b99a67093dba2fb8b319e7e861391b5c26a1fe8'
            'bef7ff61657baf137bc42948482bf2faf6f38270ad1fb99e95b607058baa8c6033e8fe2b71d22acee776b0eaabbf4238b78c8bc67a227f1ad303cabd4b2c701c'
            'aaf354226b6c81163ed5b06e4af6c9b0563d49b5d79dd378da6d82004d8f5f0f0b2d457e017d61c14591f5d677e1a0b439f7f6d72aff3680d728285b5dd4156f'
            'dc9b7825caef281a30043b0292da7122a50c242839939c8fcd26d88edc60b6b274f8b470b72a289e5008903b1fe8a57ef7091883ffdf55acd0789e5a3f73ead2'
            '2de382d134cb781876c5cffa2f2a830b4043dd599c858eaa33363ad5526d4dd63a7d1e3c2590d8f1f2ac23fa741962eeba7f6bc62dcffa851e27e49c576e11e3'
            '1f973dcf67134c4ca30ce21a155a287901c90a1775eac7472f1c74690aa5416034a75b4ced4397529e73711e14c7edec4de6a95acc924bd9fa41c9cf8187b8f8'
            'f63db412c1b0561a0b7c45ccac98891649311b94050bbd58101dd3c1b4273076f35f85d0803d03bd39255925aabb3dbaa20cd5a1c3ae19421ba4ad10da6ae15d'
            '3519549fefc90f9fc41b88266b74f5b8083df0fa8103ecd882f6935e877c56e8a7f6ef17367755a9abadd6b482c841ddbba245cb245da42068e2cb55d55699bd'
            'ba9c3e2540820f5fe4a84f339673c9233208757a9e00841ace6b5a54f7be97f587665a8cdbe36fd359861abe5d10de3251b9e2b9d6474107dc639b623119eeac'
            '9a53d808499e18ed26b6caf732714b8f608aab1bbb13f49fa63f7dd0dcfeb986174a5cd768daa0a3bf61c1eca21dbf8b648ee13eb68e798f47b9492e37673061'
            'eaee985fdd3abd5dd79c71a8267860ff1cf102cda82eb97a123bbd78cc505ebf9f690fd88d8aa7bd069bbda3e7abe4a8fd00c635bdd7d583464833c0cc0c996c'
            '65b0022d7b2715225906fadd76a7477a1be3471b225f2916b1b44e0c721660f68b0970372f0e6174801d8ba42f554d4b331b2c10d7c676bcc0ab09cce6d44fb4'
            '61af5d5b9ad6f727948ea356426a8ee6bdf833d60a4ce61826e2d4d9b9af9f6247d06becc1bdb864d7bd17fb3d2a1b118eddcae1e7ab42fb653fc5599e1c8537'
            '33358122372e826c961d2398c484ff8659783b26a65d10ec4f6411990b8191a6827d4101e1cbab09d3273e834666122ddf01a22808cdf5d433263d19e512ddb7'
            '3aa7c224412dc7e46f8d42287da6acf156d5079d158c44e5b763d8596af22b590db174735dfe447889342ef5dbc57931f1db719351a600a8954bc6876328f47b'
            '2fb45c25aa05ea9e623e51fb9289a7f108ee7ac382028e1c90ea776d4e4f235060ce29c6326f5ff39d6bbea2335b2361b24d6fe4aa33610155a355ba33a49c0c'
            '2bd4ce364b96b1bce123875c3b361db56a0bf995b03b0bcc93a986410ece2cf83200c1db4b7ae90c003830993b5a4a7401231f0ba96466980b397afedde09db4'
            '14609867782c080710a5c0d01d86774947f5fd800bc113a6359cc2df38e9e7ba41bc072a95af28f607874cc589a89612754131292a815e41b713cf751ee47242'
            '0cbdb7f936c60a817d5c44a32f1e5fafabbff5efd05af50e33c5197a64e8d45567fed39bbb1055ed7cad1be37931e0701b43d1f52d294ceed667b3dbf3ebd209'
            '0f9b8a212c24a138ef5bd3a85fefc9d4366bd06785db2a7433a2eec6023c7f1996f27e1e76357e747f8a6ad1d27757fd581f49043996e1143444cc8e8f97a69f'
            'c658a66f3b6c96dfbbedeca7456be08d2d0545aae5f4acfe914182ed296d1a1badb728c52ac04122ea6a7f1b7c7e531ac088857366c5f20079a8a6eff4617b7f'
            '64a94a6cb6182b050e316d2067424db6e5b244a371d4c0237e801d5ddee0ee91b79850a4562c7b105bbae1ecf2e1f372f50c06328fe07fec0db5378c23756bd3'
            '18cc78e7f86647b99547978b91e7077aa07886d6a0d9dec72a7789177731c15bd9c18120f3ed2c558018a8bb639a5215cccb7c35cacfb7003e5dd5e8ad8cad56'
            '1c4ed9eae84dc390f59f1be3653a9a735b3e2e021f9c0bc6e004d8684a0be5d3c7f836756edcc6ea158f098c3069b48235ef40247630c907f000ebee637c3f28'
            '3cd49e56c6e90c4fe85240d101cee56d7e7aa65f1ccf0c69ed46b3507257d770fa5a1c9b3934fb7b48ccfb3f18877a47ee171c71aebad9e23e8d0d6273544626'
            'b4dc7eed8ae4d59da4779833a0d02feb5101fd0a127e82da43f55b8354a22c3004f9fc3cf383eed9b0d30170d44ac933826ec1f554ed95cce71ac0f75946a07e')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
