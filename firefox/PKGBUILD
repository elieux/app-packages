# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=129.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('b44891c69246d01d1425bbdf94f2dd511ce79d60494d3175f5a06692f2cc1ed0581fb9aee9ed0780423dc73b3565b4ab54ae359e5dce74036203c13cfc18a5dd'
            'c0701e51be0d88c6b8c9593270a2057d65113749f0a8125ed615b4f7377c7551969c094354956f8f760b2af4c69f920770efe8f42a7d0413c427a629a0837ed9'
            '2fa47594c109db5eaf862a902b0fde512cd8b3c85f17b7655ee7967c0eb3a2ede658c708e840888f04135c0b7f3391f5ad1db041e2eb67b8387e441f0171e5b0'
            '47342df2c72b6fc46bffab217b33df8375cadfa92fde2fa3764499f4d9e7c5301a6124740c11963b0a7db0622b3ac6a65ce57ff101882feda45a40e65a9cae3d'
            '409f256a598b10d6459b26bbdc536b2642efbf7fc2345c85b785b4d601c3b158f447a0c71ea1ff7436641a589791bbdef26637d1abadb3e7b4c8c0c97957da74'
            '2f28afcccb108bf4152e3c6913028afb5f610f9b792932d4d474110c66ff2e28210997d2661a819efc2daccd6fd375f615842c2e2ebc896f0dfc4be593d73be0'
            '55525f57fc8e9c5757c172c366082b471a34810b7e2830c9b0f1a3a0741b3a7f61fa0e4a54ae0865b29f9702e3c6bf832849f1e535c3268ba8046a2f3e26ecfb'
            '8d36f340fc16e478ff0ce234e280a1938dd3de5e54bf5ba3fe5744d5b210134653a02bf9d77817d2ea9bca3ed2b5ebd191557e35c84d985f0239e8b24663403a'
            '9bef03fc12abedbf9175e6baaa66e246cbda2ba1c0f8a940941605efeff5455207387c35da0cf15deb96cf22e87c229518ab1d05f337e87e826c5ee5987826a9'
            '51aed226eb9a181db979e5112c4815fed23dbc6b5a97c54eafed64d5db12ecfc6558dfb2033397bc283f6e611f0e44de008bf0a096f6576a96c47373bb3cd8b0'
            '2de4c1bbc19b062b5d347bdef5606489176dcc50cacd4e7d9f5cc9dfea32538e7d8b09d6d09c00c018232b69bdb2764dca05012894a354e929f1e0b7b1c62920'
            '28fa31806bf4208a42b94b9c0056cbe98e6810934faf9e8853a33f025b6935d2eeb4e52383cf84d4cb41cb98ad1815ddb15597365b7a326b49289b5ecf72876f'
            'fd5023ccddd3a28737e65214ca3bcf94f1a6bcb80d71a0ac500fb77617f0be54a3507bb9c63bed95a75ef1842824a0544f906508e6a1a8ddd1ae2bebd4579c73'
            'ade86b758f387c50a29bc0e1aa81f5a4321911954d6bc5ea4f3dcb4c8a27c1764155cfe071caa3c6adb5774905bc9f043a033e322c0af90e14967651248d1e74'
            '9a4bc0427ccfd26f103cef6cc28a1c9df156ca935e1349f73943e4479557a8d4bec30719d0aabb59022f4d79065019c351e80db3e7010dbaace04c36c07a2a1e'
            '4591631a0876f30c93589f069e2ad096092581958ca1159ef865abc205bceb2715767bca2a11f796134bbcddf3215e26de20beeed88d3972391fce222155ce15'
            '80f8b154de2767e7436ecc5eff6d3c1000a535ae743e1aec6c302e3b7aeb616780f5b2bf76594301b9d85370e3f9ba86f53d80b9971161c48a46e74d197cacee'
            'b32fa572af1ddaa38b0fe8a88636600acbf5c4a83c387c6e57201a6c3d134512d5b7069ce55591b7ee26deb8f39bef055a3ddeb3655de0270db38460d1cca84a'
            'e9ef6ed91d6cc8612e8a8d8722696abfb50a9f34a571fa281989f7e1829d030824c6f12821ebf4e333f99fbfc2c823c5b8f98c4ddef2e6f56a5d427cedee456b'
            'cfe1ea3879156449eb7164141efa8a401d2d91c771ae73759ddb100c2264f643a0d771cf320b582d52e10ae71da191dee42255ecb62f7866e01087e2bc19eacb'
            '740560d04971aafb6b41a175dede5e7c39648b5d13ae5dc464bff096e8d0bc3d2e7348210c8c2cd11c2f7cf3aaaf05e8caae90e8800ad8d6233a6bbe85ace7d2'
            '4a00aaa139f26aecfd99d82f58d4c7fc46c6c0b798b749a02d9bce42b06955147291c64fa1d4b548a3be28e1ebecb1894cd790eae34897706073dec61a668d67'
            '84c12b0def4eb7b9d454c00f5a9d3ae7485010dd38940922b35ea8888dcf7dc6da9967cbaa350419c861808ebb8cdaa6bf1c27c8b4183c62593359b99899c6c0'
            '41a91446140f9a636e9cd6c00c02e82dfae343f40cf3919dadb17ca06ab39cf61d3e28d0f3da64a868d743f4f9bccad49d15fa24ba72a2f1ff83f62d1575a7d8'
            '008ef41f9aeb623215679eb4e0c8ac1f633cc2daecba61382e5f0a8847bfa5b1913f53e9220e2d3e2de04110a2a90ba98f3d2c569e3c98ed486d1eb3eb5c9aaf'
            '0f4b23dc755b5482d457a5dc0ddd1c88c9c93d875bb6239d15df1c0c6a74b9e2f68576a9d167a589fbcd454ac2220a48ceaed23b7f56eefe080f789b56530446'
            '97421035b46d71962f3c3a36b09271a5357e3ca178395d6b2b0778ea89ac17fcf7951d2e719a567c8a37544eca05c4df156be561e03825395776aacb801f9593'
            'be211896776b7463d52c5e6dfa1948794b031766ef3daeedbb01197ca521100ecc58719398015348f5e7b0877855fe52b3a5af9e4588cea47c228ec765786d7e'
            '03c08230a89bd442182ae7461826574bdec91be77afef75461f8914134a5ac549c53c4f9ba023c2e85e2d3ae9ff119981032684f6f5a313ef691ff6186a2fced'
            'a53834c7935d8c8f7fe8ac9f3fde04d5c2152972a85e52359cb0c709e323cebf1c4a45f0ff146dbfb0cc3f5694d28dfb4f841d22fd4db632b937d27f5ddd95f4'
            '928cdbc3bc057564dee4c73d10d36e46dd04f3a2ef11067d5fd41b6ceb64c6917663dddaaee9dd779cfbc16a0a25bbac96614b844a8e179559cf4aef99e9a68b'
            '628a71e7fe7dfea26600f7a8cc92d7348a2a6ca818d918a3a580211153bb7f6fd37340538570824bf159d61da2d0a2734f7ea45fb203a7c736b259e2cb65cd5c'
            '1bcb35e33bd5b324ad8987b1fed533bf7d4d0b72fe572c08bf7b0b9e5a4e4ecc109d66b696b39ec226d4d87453f4d7afcaca9e13f6b3b94a32b8c8969eb4ccfa'
            '8e2d7eca4efb7f24c1992623b55a3f11c83a839cb704b914f72eeb361cba2e063cbac7e0ca42d5f1b6d861bdf3166964c2acc57dd69cdeb312d432a80c598b32'
            '8c5693f30eabffdf7ae260e04b7009584dd554ec934938e16dda7791a109ffafa5fb285b33a86fd86aac155360963591429307f0f88198595ede7ee817619878'
            '46296939bd8eba66b43ed08b5e2e25426d5c863667ae8006716e6f25c72fa331e8cdd39288614319941b179dc3bfabd69413a2ddbb64032712a2397a0b12aa4f'
            '66afc717ff0c1fe8545f06399556dc51595fcef6a3a61fbeee40b2d15eac5c1974edb637b08a34c66fbb9d885b5ae1220b3e6341c86db6b212b59532ecacbb78'
            'ce0489f6fc00e26cc2bf41f6932db684cc36aa0cf565ae086c4711afb565192389cb9987039234b77f22021265dc32370b4cdd39370778d2c2a73a7c10d5d4d2'
            '3fe06078bd56e3e6bffcdcf16cdad849ecc8159b6ae628d15c1453828780fb459cdace20a511264a2001a7a2cbb5df8f797eb7ad884b6c9dc4e65321969d7d31'
            '9cf990f97b4c413c8472b1fa70da143a184f3019df9e0e9ee7d0f84dd64410a27716092405246a5bd5e92b10f2ea21667bcdf756c361c0868cfe7846b6eab898'
            'fe02133f643d9d4498b2a449daf07a6ec7d4a5dc97c28a1a822d7e41a2af133ed724945953bf9a39b38c85246450af02ee87681f1388f527b73adef0d00f88ee'
            'a62dbecd0edf9cc4ba1a561051664e5a366c46ba9a1f1ed0b29d6040ae5482f61ccb7028628ebd6d60b0e59e7a8856a94b99c73c9fb244cc3a11977753c82ed4'
            'f9060858d1a8523094ca1c20c17a6c443c84c8ff68e19ba9683e8e411be5e975d6726867923958d681bd86dc8106c23e4d1f46b2ff87526da784d98216b2614b'
            'e005ee4b76154dd5d300eb07bb137ae69fa9cac1024ffd5d983a7e66c602666644b9fbedcb3ff1405375bbc189c2242be19d7f2d085eb398cc6d5412407a67b5'
            '683eede1aa4f1f0103d665372f55112b921d84d6f8e5a62a42f4ccfd4d3663331f314f4932602ecd583d5b9d5b0db4d61feda9e128081d9ed54229e8c3fe05ed'
            'f5b9f88ffbe5e0b41e4db87f45ee4d07bf062a1a307eb3e01fbb0439518be60fad7bb314c249e7ceeca84711aaae91aa96de73d26596b5e381ed6e620500bc7f'
            '1ea176f50c69a36cd2a8af0ac2649696686ef01902ae9712ce9a66d2928bfab5640354e7ef6390720cac85df34ac2824ab8252f0ac3851e98aff9f75bb1e2be7'
            'ea98919e5c79477610b62d29b8d02d46a265c45de22a716e08788e4b8c61b87b4f77ad7e5e9af61755efe750c49449af0f69d497fc94b627461bcfd00346cbfe'
            '4edf046ab98e6dccd29982dea189211de8a72b765a42621ef9cbcc1dc599476b0f018fc77d5ae225186443d982d2c0099223a9e2a02ceb81d8f3ef33503ea4c8'
            '4fa9d4d8577bb23dd4f7393555345f33ff19f46f586ffc428c4a1d398b6ccdd1ea2fef14c394ee5b8362817dbe3b603efc3d523c36136ba76bb3e0e8010cf58d'
            'a985ef2b1e2353fdde947dd730fb54f68728fd8c3274af6a0e131a43f761e5936238259783fceac938c31c89d53f8ff3200543a187b108f9c33d7db691f698db'
            '2e4801abdcfa056c6b817838501bb6727841219a4036aae47a82f0586539a58aed370affc6c7390fa014a3f08d1056e561b31ab220ab253d071d36369fa6180d'
            '48792f6fb3201d256cd40aa735c52a3bb24a11eadf45c56a46788b2eb10722358ad01ff6b25f59024b836473179da8dd34c6e953fb179db6b62c701a393b5d83'
            '5aa5d2127df92f77c31d77982b6aa1253f2ecc7187ca7df7ecf694741fff663aebb261ccbf770a81e17f08203e3e8478145d1421535a887d3c092857f1a333eb'
            '37e9aa40de46a51cf9c6bb7951e7284cc7822929cec715297f20fa89c5706ee768d8cb402d41a91e1ecf8354a2d6b946b10d3992001457d04b313d30cf880c60'
            '52d8d00c5ebb08f7e7d0b757c779ef0e47b1284b05f49a1327a60a7a9ba0589993e3fa5bd535db64bad893cff0594c52e3de43c7befc418e015b20e4d6488c29'
            '607116e08f6c7b8af9571e4c5e7b1534b0f84e219442dca2f269b660bae62587a5dd2bec79581263e79b333ed90e0e69bedbe6c5fbf3151b0e20a90457f08642'
            'e4c6140850c5da9f6d5efe71151288c5563c1ddee3be6eddd2e5380bd7574fbbe110a2dcc222d4ca895de15816b26e8957fb05e4c310857e50a7b8e868f9689b'
            'c94d248a64264c43db4172bd0fab6a06569f4ef906a2307cedb2062e97b6093a91c86de0d03ec458182ab8b9b9d1cc260a06d1e179e1571d9f43368fe587a76e'
            '7c3f470763536149825389a1f5efd35640adc388273307e311e06f375e90e8ea4caf5c1683280e8487913ed273a0c8c3fd71037884160f9bc7d923b683e75236'
            '43f063851250cb048e0c0c6faa45583760a5d1af8a589c1845f6583c24ba011e359b23d9827f5c3bf3eb553fc385cb355b65206e5e5581094a3fce131df8cd28'
            '9d03c8416992a4bd711cf5e3fb86c820bb8841ec82ebc7d528a91e59e3567b9d06dd14b584c22eeb5ab0757c4b1058b4e6e3f0d55b366ae1f3d4a225693fc2ff'
            '9988556fb5d07e5d0ff8f39afcbb0887f6e682046529098c1fdf7d180aa52e82b844ec0529cfd8a5dc23fb795516d4ced66bbed1c22dbf1acb575bcd44e371ea'
            'd3c55afb56d73425b4893e29c87880b58c75d4109231fe3c6d342debe9f4c94780d37ac64f3fdfbac74c98fba8293436d920ac9163c8a3a3fd923069670c0569'
            '8b553e38b656f3211270a1c8c066535301ddca3957fe07f06565e30905d7f5c7b3e8066eb643a951fe0e7c92c8eb44cb16c4732c9ac938699a935b4cc8d28010'
            'c1ca31b4e2cde6c3af9a3e15f7cceecde26377420bc546339c727b8c248bf5dd7a2f4bdc10bc7358f9eb4ffedc988530e2547e7fb19459c97c49e05197abaf5f'
            '63e29f8b7f11f58ed3d672f67bc1c24142eb446c4209d268a8220cb494ac60bc77f310b0d8d0108315a97d51c904bc388c58ddb17a3139433ee2dc4e0cc5053e'
            '42bc77c999aaa72ff32a040c07b84c6545f2bf0cde16374f3945c4c4e041adba763c4f4e76a5ffa4dbf94aabfa656ecff2d705efa374aeedf95f2503b64fe3e4'
            'ff74c8aac04636a91dd3d1ebf0d08de2daa5a23cc6af55e42e8bd25325eb410651339cc13f5cde5afaa72f38bd0934d4ef0708e5979d78f58f70b7acfd3242bc'
            'e264b671a18eb9d30035ee030e55c0ce320dc580f1107371cf30582c78267eb41d3f948312fafeb396ab754ba340a5642f74f35b70153c4036a691efbc04bf47'
            '3e5163782086060b74567edb2674fe1c22b7026c6fc97dffc3c2f36ca6da76d4158c4af5c26add7a32e8b8111668ad9290d39a339938289574791bb4e645bae3'
            'dcaa062cffb04d721b18c9cc8d085ad35767b588d0b0ff0f3f81a84f0a34f835145fa11b01f07c23f05de8ae084a09c1b58cb26e3a8bacb6675df0ef136d750f'
            '13785610ade5106ebff8e7246d8cc4bdb71989b15d289aab0c7c2964e9c0cab72b64de7eeea5f557735d061612ead7f16c85b28b1ac5db6c813b19570e64405e'
            '95de0cad0439e3bb482a0344461682a0807ba78d974b880eb983499e07c3d80baba33a0bf461f989e9ac2e3e6a126dfc0a62b30057002e81d648ffa9f278ca78'
            'c3377f461b92964992a02038dde044e214b3565829602126c492e6b7ee86682a942ed644a6e68fc4f2d6dbcd06df2cde88fa14f771a480b9b59c06961ab9a1c6'
            '9adb403c0f8a9263b20522cbeab3c5e334516b57c3ed864bfe5c104b6f146ed82d89d93d16cdc83838f4599d0d68f1f1204dd71b776788306ff2059124b3367a'
            '7dd7a5fd87955702e8d9f77d297869b8f86d86d9b349283c51d00b2768a39c24935caf3c1cc42afebb6cbaf9833285963c91f3a52f235a7d16e552e638953610'
            'e7c3078cee0d711727df8e163939c7c929c07ab9fea7c004e34c1a0ed2e5afa1e1f76573768ea5fdb1bea8f97dbe89371f66153c48e8bee2c5ce20214f50da55'
            '0b3f67b33ea9c382b87627f05aac1b0908383619ad9489eea2844d9dfce7dd2a93b8364d711714f0719e10a44557c3e2dc925f84164184701454de4908a97818'
            'bf6725ccc416635443d0d382580ce9323b1ddba4e0aeac92bc975819c9212e85dac4d7da28debdf6aab07b4a8b2d57917e63c3c2ded79f406d2810f5528e4389'
            'e05c741d8f85a3586caa7566695b4f4496211b856ebfd47b65e2b3e620a05df0e0aba22f9a7077e222bef1520a3c9252f9b1cdac605c1e3359c76c2f99a5b895'
            '251e33e47105acd38e116e959d626240c4cb042627b7c495309fa44dbcf6a699f4f60560d53a9f6d978b323f7343e583ba6a9bab72f5e91889332f896e4676b8'
            '1903f4a4598bd5beee1256043a229b2899b875384f8d4e2e56b7ad5eac60d15f574307fe7fda511d9fdbd1f3b91acf94e15ebfdd7830fbe06f68bceebcc48678'
            '8d71c9048969dca9639346d318201d70237332e0d68604bb0b9ed68c2c713e60c007a35b29dd20cf0ba83ec19012f36d514310edd48eb4c0c2b3a5884b98dba2'
            '5f1ebf3847ab06d23903cfba9b1916d4139d7fc953fab7451c53c3e1f13639b8fb611ac7e3bd081baf8593c597b082dcce1d9fb6a88c7a7953ce41274af3f569'
            '2a307e0b0b25b44b7444dc3598b07b98974b0db2ef83127f887e26e127b0e30649913956b1f354cb3426fb9e71529f8a776fa0ded099bf4008e1bb8c2b7ff140'
            '67fe3e741888be0295ec691bcce2621c2e593ca1763b0e60e8f31191eab6930bd475b5831f74fc39185f619c656d0ff781e834165969be0f8043b6acb2339478'
            '6468cd94b1ea784315b2638e08f7bfa3144939663bbf3dcd6dcc6ebaea744c300a548fee5856e25e15d94c2ad38cfa3a47e9978954351d1b9a06af0329f34d73'
            '06dfaf8cd3251faca0b497e354180a50565b02e555252644b772d619b33abdfe8ef072ebaaeb902957fc2f3ee154a3574cdca17ad9e1b2859fc36bc6ec6f9c05'
            'ded19698a518736b1c356b5c1dc7ecb9202355e40f34fac98f4bfc4d432932e1b82390c2236b97359a88197720cb6380110e4ac73c9acc690fb35b2cad1853b1'
            '951751c3f358c6db5730df3ccb4aa0821a8d5983e8fccccafa86a81b96558fc34778a701402731deb9eed08556816a9a7f57f63d4f20df57feceaad3122a1668'
            '92942ca16b15442d8dc6b5327fd7849f4aae6f2e53d982fed8098e0352c03f23450664dcc866a5d847c49917c2e9ec3b35a004d8d5249582c79efd610f31e87e'
            '68e0a04a36c7bc2566a3808bc2d3a85b9ff7decca8ac1df7337b2c3873aadacf60d6cdc50cefd8063583b198968278fe8a1501774219c5821a36714f4fa8151f'
            'b283c832161c2104e9241a4ba0c7b5207f151b8750a2d7c409d669124240645793509a502a3c615d06f59142b22b601ab43556089e57d33d56431419f54156c3'
            '933b8b7b4da9e76d24edfea4c53dfc3b9d4128ed2f38a9bc302b91147f2b0e6c0b1a43f9e4dab8498e6f5689d268430942e974476a4844b8bb9290470f41d604'
            '323a120ead7d44331de2debccc8c742453478124dba2d0b2cae640148599a5c488fd5cf8d9b26738fc7de95e09fba6a7660781c12e28f94d357c03f51d897560'
            '5e6a79385257cb25bd6e151a597df854217c0dff38e31fd77513aabbb41cbc0f119fb0f9cb92654da9371ee8fa93c8d8db4b4aaabea966a8ba002428994b2891'
            'aefe581a309a229fc00116476d0bb1b48d75bf8483c6631ed6f2d99a5241b624717512b5720f0443441a7d18bbd4708457913e9061600ed30012f2aff516502f'
            '404d44e24b590258fd4d7199418a693c5577415ccf786e28e8875813bde38edc98a300f6e5313ee65c419ef653d5f55dd8265dee1b81ffe82d481808350b732a'
            '6d1eb4e572616156d27ba82b54d780ab56b83d236f73f96b3b7d4e2089faf720d66f3f8ad47aa6ffc8ac26dbbfe2f16f3e562b79736a00abc0092a574e6731d1'
            'aef6ebeff017792264624ba3826184bed07d5b50b3b187458cd6bec40f3c801e48835777e1604cddb7383f1e1b49b70cb652177ff75ea334a07887b5e3608270'
            '864b97371898740eb9f3d73e43b00c493da2c613279d05b4ac4a65e3e65be2ff88ca6d8e04f44a07ee752ce518d1350227f9c43161081303c30e08498847f3e7'
            '6d225f14c65f0a9dd08dd716199eae640d8e2a3f52026d43a46d07c4f48a5f7bd18b4a2ad8167c5b33e1eb17307ccbba80c05b5e2753d191779d7c115dc45b27')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
