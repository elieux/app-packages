# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=115.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('44a96ee4cc917085102ae8ca21104f5f3d20d1854600815f13a9181a428ac4f83a140ffdaf9c8045c301a66f2cc6dcfb92c26f8d6ac4f6185060cf67ddf3a967'
            '8ab27e5de02a0c50ecc1c29918fe64c3540472281c1ec084dbf5081e1dcf346c1eef79065a19367f76f9a9e374cd2b47d8566964c7648e70756d4181fd91778e'
            '3019b943a1a2b6a4fde1221b9fac0c99ef3ffbf3f4be313b04f44826732802543db62a3109a6b595a823a64483d3b45f9189a6400f227864030d73dc056fa785'
            '01d524efb61ec1b6150109fee018161d4b74c5d0abf8d298142a8c659c7279a003d59c6bc8075e39683e48aaa7db25aaadcd4f3ba74302c9d750c261fb704a5b'
            'f4003e001b73074992fe0bb0237cea9dde5e4e0647b05a79ad12832ae3f21d92e6edd5ec11be4ae2d1fbffa97adb7dd87c00536bf6bbec587ecf2014c8c88098'
            'a084a1ab8e91bfe5908505ea76a6ff44e699288ee95361b1eccee275df1a987c72b5b294bc2f5b693cff4ff11eee5755afd36857f336b9c9425b1cfedcc65581'
            '51f905f7aca47c25cf69259de54978b91ac83ebf94ae077a18a4a630d50cfbae24f735f9a161dbd37d6a173f0259e8705f174e713e00636e852a0eaa55bbed5e'
            'e99838746427d5967f3ce959dc67bf3118588e8e80356cba97b30db3ea7e645b0a871d63d93e815a99b41207e33bea725cce27d811604be789fbe704d650f299'
            'facbb66aa49ccf45a3519697ce9645fc453803cbc8678b856626e8273cc0241e97ff033769ae12d0824131d5d7365ecfbd98c5dff595ba57a7c1b09e2ad878c7'
            '0763f032344f679a530f783fec1f599e552c86e167b06599cb4899d18235cef595053fcf3487b3b8428ea7ed6532dac22ed3a4d37ff789ac440dc3e521883355'
            'a9d894dd6e02e02c4274a40b761803427d404207efcb7c9c32d7fb3cd034c1f7c3d60d3f58915017bfaaab493ef793c0178e5c717ee15974bd448e1aeb86b920'
            '95168327d7ff91d97f12ee356d0781a93bae06013a54ae9e5bb6654d2b0b3a374edcc571b1b60489464260106850a0ebf4f0825f443f690ed3ea7105872ecdc5'
            '1b9a2b986e2a7a80caa437187046950acbfb1e37ae951c65aa81afd2c9f93549304074f14240a7ba431a497728227048c119e2c7e4865ce9cbea34ef308e6b84'
            'ed170a19412bd25413acb4121f8b3b26d25a3c6001cbaf09ac9a689189cc212091da61bbdcfa0b0a90531a04158ae14559392254e526ea2789c10d80ac3636df'
            '3d39a56259621c163d2f78675e56a7729023cce9a8983096ddde56e26e9f5191370bc3c95b53bbb9a132d926472c561dc830da614c413e681b276e59231c17c9'
            'd064ba7d3dc21390753eb01090af40c46e416bfdd07d807a7d2dbb2293ae5664723ac6154b9bafdf4244f716e8ca962b786b8c1592007d01a5579856fd398a77'
            '7ffe278448b9fc6e110a4f2fc5c6a1f9d12cdfcda166435a28464865dc34808f2c87535e592369d6f914cebed4e07463c2be4df2e448d37d4a1f0aa3c55ef5e6'
            '5c2cd9767d70b9c78831d649038cdab90be467f6e87acde65c3e4b132a71540d1944e14b997bf3dfa890d93d9fba3cfa368ac1ccb851e8d77b890b4c41cf0261'
            '1e98e7b7358769a84ebeff20857c5ec7f67bbbf7d7fb855e5a6c1e9f427995fb0af0bb908b31fb61b95656fa5720df27287ca76f70f22b45940323f36d190012'
            '8e06f4dbb56f5713fe4ac99414cf5380392d4e3858a1cad5d2a0359864cc0e3fc3e9559659c1238c2bfac638c5361f5657fcc276afb39b3afda21d37eda9e4d6'
            'cdd3eb7318dddce2ea910a14cc17be871010b713023ec7142cf5deeda346c8cb3b25d6c22d32af7cdd47eb23efbb9d12da625df07010e7ad50bf5273ac753a5c'
            '44ce9bb1d642975e40bab85f535ed23fe667701d95d16cf10de967a942f8517f4d1726af44879a418653e10440be8afbcfc44665727fa0a8ff0fc628f4ebf3ca'
            '6a0217fd99850c9c0bae9148e5696d7491f6c45e1a75f0989977d3aa304b2791add514e43667e031399081a6632cc38571be1c3b5e97d4e519bdeb889262b269'
            '79d7a31d53bb4c145b8a3049722cf5f2b171b99087b972ff46ade01457ae8a8ce0fad94db0eb63fbe24efb1ec39cabc98c9eef7b8f2db93fa7396b00f7fc52f6'
            '290fac7091388305d18b66923619004251dbc3f0dfee1908f9ae92c676e6ecfac8559474791999d1901ba145abe4447158793e24bed3b89be3d36875d57fea5f'
            '5fac2bf6db92af3f5b091a7d33c213f2dc96f5047e8fe463f78da67a3347489c8b0c822250914b2f9762e9e32c36c40de045d139952262775809357eb05bb630'
            '781dd7bb57a8d8b22b0f474e42b25d4149679ec1f024ea328db561751b60cd3c061e56e0364f8d86707cdcd6d0491bac68c3fdc4bf9ed9d25f081524b60c084c'
            'a5818db703d852f4170d2b7c2b633639af819659f11cec947ee51b94b99e550886ad6516a2ebc78d3dc46f0bf9cb3017f0b4f9ff3f2c2cfe047697d17c8854ef'
            'f811562d534366864f9fbba171563d72a6f06122ea5dc7456bcec9ff90aafe1d36bdc252f8e76e94902c33b60545dd045ee45602f45cc49b99eb1249c6ea6e62'
            '63ee421f3ddeb80d80d100dd93b70f9e72e654eaff3006328460830b1b38fb0a029906d2b1676dd471c4c2eaa8d6473417f62dc1e37cc8620a276a95bdd0a4c8'
            'fc922074df8bb055e590f8376135c4e481de133ca437db8e8474e340b41fadf2893bc57b62ed768032604eac87151f0d92cd290d72ad44d2a8b3c9ef12cb639c'
            '55aa6d148ea3a24f39926031d3b7104b0153a5ecd9bae77bd8a367bc22bb69e564352d8c1dd2efe8053cafdbbfddc553f64035a0478d45a04fe2411934f6d16e'
            '70a71a9768f303923c8b9a07351df09224ad0ba1151cbfa1117adfaf3385e611dee3d4fe3220a0fa9bdbf69bf0a4ffae29ebe721cdceea654350a1008a633418'
            '090693f9cc3d499294a851f84d053e6f0e7d468015ea0f9b0a14f4e33be62bbb654a6a1160d30b30142d2015c4eb77eaa29e6dd6ca8643cd46f1e9fa9088be37'
            '1b8bdc3920e9f9d24590a5084848864a530b0e46960464c1c6a2662988e311156ac6eff0d6f33b764a96217226dd7111b333682ccb3faba01d674877205ddfea'
            '66e00d547f476076f78886cc03a29b7a9e863bf864f18702354804235973d88c890f09b7414e6c9cd4c1615b2a00ff497183bdd2d9891c7efe92d66e1cafa5a1'
            '81e4821ba4e3a9764c85955e932a13924e8a613a2ba3383deab12d248d003a21d8cc757f715397d6b752e7cdd2eeeb0d73fb1bf39514052583f55034d7339606'
            '1cd358b2e6e8d09e936c0c788a9347fedc6344686cdb6b41320b4491aa51651869013fbb3b15c833622c176d2ff5df34f88065aa3d6a1d11d51cfee5bfb5bad0'
            '727cf01cac5885715e7c0eb397f3c91ddf0ce773a1c1af18b5c89ba3167ced483843822c0649ee72c5fdaaf81ebb02313cf1cb6875c58e6d6caa06fcad7fe767'
            '08edba31f7f86a259d5b4fcced3ad7946c2070fb7fd018b4ba001a69a387d8ce6c33dcf03b38494aa2c203b5e7ca9dea38ed0bc3b381f3c45fe6120bf9c9e45e'
            'c4cc78e3cf71c3633b857db474d3a7ba1a563362022eed855b25cc1dad1c4ba268a3baec3f7112300f86c7666ed7dcdb1b1dd22a53f18b68e1c1b1bf9183d5b2'
            '59c18f63817c277aaf6c5f50693a79d469235fb08ae3d7f07fa960e487a908a1d15785edf46754b9a0250423ba9807335d11960ae59adbc9e5ed3134b71196ee'
            '7c7e512e6371045bda88cfdfd0f531730dfd51b69aa3e9ec9bed5ce64eb08813ff2da85a4dd707f647e5a7f3d0e3dbf76bb071c15438f88cd8ca4f8e96ced19a'
            'f321f1e660e6be7e9fea005888d0d7bfeb5d2d834eb2dfc411b5f59c962b3248ecd5650575afeb2af2e82d9c43466f6d2d640c7eaebc1760d0679d7f24519efe'
            '3c8b7ded8be5de3165383a66c32be4007ab04720f270e670c39378b3be6a32b9c1b86b7b1284c0ec6155637c1c958c704dc2b7caec17d130b83dd28ad81fa2bb'
            '84d825575e5e5f3ced0f6a6c0036154c4e71cd0578e7763a0087dc81494c2ad76169d7c2d0d3817c1c4866e61fa4d2ee951e8be62136b6c5974afa0fc44b955f'
            '443dd28979cd8ceeda4cdc92139acd41b6430936c9ef5f1fc9c3160217bbf71997b66a3fc06baba2e26799c2743b23c480f81a2fc9ca2b4fdcc8d983d13cdaa8'
            '6050c4ffa195a71ce67642e90a2e5a699f46af6317e775043877e58a2c02d5a77c0908ce1d660cd37364e02a69dc4b7c6f56e1c77eb91543bf74832c78967c67'
            '1f519df1ae9e7369a92709c46458d6b48fe0a3d0cad68c9e6a47bfef1660b3a295f53d676e20b77662de0c2fc48d3315a38bf9caac1bc7a594f77d59cd458fdb'
            'e3bf5531661d4fb6ab12c38b90b94e12ad57390635c252b6a36cf0fb933ee36967d307ccb54c3411871b4e69ed3bd0d96999f3bc3afbd5ea5923cfe327c7086e'
            '032c540d5708b31b5c00a97a6a64ef40320a95a3a6207d4b944c5876c77d9ed3204fdf9b775671a9b972d67eb6105622712a01a33c4d0f76dea5f37461b1b931'
            'ea87a88a2791a3dea98209da30a1f68f68420218aba12086e60983cc2aa2d1de855771758c6c91796c45bef612164f540f62b983bd477f9890560c26f86a5cd8'
            'f58e9cf183116c2a1fdc2313d8686a4e86287a8fa05cc82ed0b795ad8c6f70de3e89b5c59732260e4853951f143ecb20a16cfd9a1083b7ec4c1ffad912b8aa3b'
            '673f15bdfc2e6847b5a101577e58f5a1cd9c13cacf7e07df41e67b3c3bec759e8d87b55577dcb90056664e5705efcc511e2ab1293e1b3c5f05aeacfa8f9f84f6'
            'd75273d44009d173aa3cbe94aba988bdf517d944e08972eea545c8eb12de4e4f0f32ccebe40cec0a96eb0cd9e5e334b486669e97c6f21aab9d7872395dcc38de'
            'e7e0d4954c546f27abc9cc38dff5b6d74a5eaa63a2e49e76e8e20734ae362b91690eb26ab01f0f45cb5804e8539bb1e3e87b8ad187f9b226767f7f0c081bdc5f'
            '9449edb86b074ce3cf31255b1dc7dac4f878d67701651fba85e501615604b46619a27219d574a6d211ad2f0f6a2a23332430162a9cb5e7987a6df6e47c980828'
            '7ac4a5d915ea161fdd8c4ff0b0c8c9db4d8e29bb27ce8c0e96fc443eaf8f8e350fd8c481c7d43b0d5212b069b00ecd57242923653b74931c601046be1afe7762'
            '406ddb2e6265536946e96c1dde19e8837b4cc74765923c063a8ba372a3927ff9b272536e54d7d25bedb4e4f68e070979eaf5b949e73f96d6d4caee164329b01e'
            'dc5a2f5f295a94fd2e68e1c42a2ff84753076711b1001bd5565ed024426c5639db3c6999fbd8f6d54c58385e0bcf4ec47545ea772decc6e4fe8f424754803d68'
            '1fe1603e4298a4831c7bce8e7c17f03863fc929570bba1ae5bfe92ba3435f5d0479adf9c64fcbca088d5413566f19a749dd26dbaeb46c0235238641d7746e5a1'
            '98f0e20c7f7fd1a0173e8204dabd2bd63da96c1eb483ac853c35c0a4ab22b9db0f79d6917f303f7fae42244168129ab8a22884a5e40fabcd67cf0f27a65e4861'
            '1ca817b9a8b4e0d9adf25c3e6d4bb88a7a6e06c2ae2b0d5ba4f9d34bbc77498b3b6c5acdef0a1ca3bda0e32d49f379fae2915bc0f81f3c9fdd04de8775c765b1'
            '8fe2ee17183799647d7f9aeb64ca7cb02a9670bc7399461af403cd8002595b6641c9fbd80bc2675b44f68260806af3375ac54b705b4d5499a4b238625941b216'
            '9bdf9b52baa2c0d6509c1fe83a1987054d58ab112fdd8b33f99de498afb29ac44c5d8d00533dd2ae6c8093c0b6eb4813d35477ba960e550eab7c59a2f9ed3ac7'
            '11ca093f2d357421a13af3a77c6a60554250d6790f5b5ddb5f6be8147527c053e40f384b39c176e47766af13e40ce724a3df789aa2173470b8efa813db53fcdb'
            '8cb28a248792ffa030137d07398105823765467236deab097bf9c7a9a19489e033f199d100a7dfe08a8537f0ea511ca7b8990701324b9416cfecfb87db1d957c'
            '2837fae12c9168e61f1fce5b357103221d8f86a070ce7ecabc2c2c080513e26c9025950c343dc255d340deff265c72b2ab41bb06babcabf7fcfe4237a81a54c6'
            'aa9a17d181bd5e10174211f6bacb59ef0eb4c4467ace78928e00fba703fab03d119677d587fc683710feb626686be72912a4dc3c7c1b90fe06512f0a76f1fefa'
            '2b661d37039a1705e9c08a910cd80cd9ff6a6a1dc386c297de8aaf7296c6039e6fdacd04eec327d49fcf80eec3e7e23f08166d4652bd98f8f8591b9352c56ac0'
            'f8b8a693f4ce1814cf7016bab00bd6ab347551a1e1a429609e1d42ad2d78d7ccb5483d7ad719c5a396ba9813c74f47750a61a8d227e9f9ede62a9169240d6888'
            '18c6a6d29445404841be896fc4aa057c41948a0200c756a80f69a46e822e5238999d629db5c8337dfa8fd7a5c7122487f5c9f4615c630bf278410bb5252a8fd5'
            '29efaac800cdf5fb370b03684cf871cdfb18e508aa584460222f23ae594df2e0d3b4ceb032ad9ab1c776e77dff12c2180e6428e9471046877feefcfd522d819c'
            '99a20dc0406755c247924c57cb0939a712728d3a1ca619c5c094c62947856344b3bc916d56e57ef25e5541e0cec9f1acd6de76ac7dc7ad06c88543683b8cbe93'
            'acddbecfb1a6c07014c1e925a934264bf811dfff5d1c9892b46f91de31ab7eab16da37c01e8f8697fa4dbb5eba462378e3e7292fbc6e2223230d41f66c27565a'
            '0f8dc8be13d8cc80658590e5208fc92e55ff7c70ea0e4fed6a24f74eae0c7e61477697bebb2e5c91b1a677a29279b6cd32bfd423bbca0d85c75fde967db32d58'
            '8dff864ded1436539a52a9e314b38efe5383d74bb0ac85af79402f065967802234a4b80a10e08999b7a4b0c04f193d26595e533d96bfd6d0f2ac8b8305fb4930'
            '0079b13e7e1159f8d4abbd7bdc355af1a5456b7d6134b830521fe33b0d2a1272de4b371168d2020e1091af15078db900c4893169228cb6cd296f3ea3cb2b2979'
            'ee9c8d7fc39d0c2f1ac81edf5626eefb1edc744ef0b080bd4249bc5f60021038ac781ba1d1806f80030c1cd5adfaf2cc72fc0b4aeccc756eda35b6fe84114c9c'
            'ce728deefb79526ee7b63e0820d82cc7b335d45edfb424bc5295b53306fcdf3bbe34fdb9703f564a3a0a7e9b6495458d7d58fe617297df0770ae09ec3a0c202a'
            'cc53513eff8ec473fc802374d236c2cbafb76d0d3b2f2c1f158c27a15dfb1f2c74ec7d244e90a4f98433731dc920ddb0bd5a7238f0d966216e569620b49c0ffb'
            '3337284bb4fabe208787942f2c2e02a00033688b51b88ac8a4b660b899392a53216a24434a84b83a5ee9f936b2db1ec2c9ce0462b5a232ce583cb9d2df411689'
            'e1474d985fe675475caabbd8d6715f943e8be04bed2b462e6f66debe7df72380aea91e6334a36913d66d1b34fa5b85873ad5c59732037bfeff47d09ea9baf7f2'
            'dcfb27261da66696883c551cf1f8a8d0f150b8f3bce5075ee0312d81997901b8c5e3aaf46781db9c908f71ccae0587e617dd53850ead4ce1c719cd50663cee77'
            '3d6cff0e404c8308006177d6812c30a4680879471eafda234ce2b617d7b59ca5a60fa7b1e765820c41f2a7701ccf7f5e3c5731fcf1bdb2f034f1d4fa76445cf9'
            '598aff03948b52146af5daaa1fd1df3de413a58e11a4c390fe933b3d0426ce4c45cd65c46779c54fa0454e856fa920de5bb567423ff8d47a050511dcaaa1d830'
            '14062c41f21fdac995976120261ca7731b24e8b83b5211769b6273ace3d80cd41b8103a7f2052b8dec6986342e09f520abc901fc3c6bffcaf0df0283cec1571b'
            '623629db70d31f147f47c1b08b8082a62b537d6400e5e4e8f346c0e6aa3fb869e52594f69b6e57f7495b467a49674629c50af51b32d94f08046fe574ffc55bab'
            'd382d1eaeb470e30cd14b1bdb398f2c13b6391a36b4b54905efa5097563f6401258a9d5b0a748c4b6d098d5d601cdc8a0c5b9fdf018a170af8dfca64e7a66398'
            '1c826c2d2728b33d7eccc3edf8e066d6449cf4b0bbf623f18badb6c09ec99a6c59fcb0c171c7e59616a2c4ef3c8a2c152ab9d4ff89c713ae9c56607d414afbb6'
            'cd8339f9a3f08645b9e9f8e66ff58d3ba87a532a11dfa8aabb5ac7ce782e80d0cb835c0598c2dc1bbceca7a8c5673d58a8630598492d6e023aea69951ccfaf91'
            '0760ce7e1e477b5b2012eaf90d1de3d4b9b971ef40057b5ebd78b251967c8f61fc95b34b329f33bc1d73288ec7d231418fbda822e1c85bac26fdd41d312c35ca'
            '35edda92a867f3473edb77b29c3bf7fce329e47b777b424a5ad5c2c10a704490e20410f46c3ecb05c00808a692acc5564aa430c1108c15f03169a2687680e9ec'
            '65866ce9100973b73ffac7fa39dde50939f5c104c16e566255d9219be06015b39203515e8ac91dea70000dbd07c3559cfcef437c3b3bbe725cbc40a66125e514'
            'aaf96b70583bf481537407943be18274c8aae97f9e20ecfff5971dd73d11034a5c95f5ad7218e247f880b87887180e3b0699d53b49e0aa796dc8dbc9854d787c'
            '06c8a1db78713c8254baca63b1c7eb01956074697c65070253192f5571e2d1d948a3be4392447ee3856dc0d07a2024bb1a791f1df5d0183931397582393b0e6f'
            'a13968eb1e9c5ab32e5dd5556e620a089e16d20b51552647bb090d00c3d70fc8ca63fb857efea7bbbb972d35b45ba20b40facff9f403526cd8db6703de2d1e67'
            'd1468b25402d7f6baf9ddde42f2b82cdd9ab29dfca6c6555e7c38199c67ee1dd4718a593183bdb2424b3e6c9d9026d83a0bcfe36287b7b9c03fb5f6c3b8d6d23'
            '41617a84d5ffde66257de5cf3614a500198d09798f7bcb4bf87419d4e984ef4281ac0735bed22eaf5a1aaa62e2b7e831da30e6eeebe977655655e9ce78b979aa')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
