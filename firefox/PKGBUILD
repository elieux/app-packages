# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=141.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('d0bea6a4b6c29b14b1b4ef345944bcd7df968dacd839445433b195e1dd99723bb9cdfb198db97f164cca0a2971419655a855d951fb1a51e93e621277823ce2ea'
            'ae7507bc62eee58eff42dec17a89d5bbdbe4ba8ba1498c301ab75484f99159194ccccd06bdb548443fc05f8322113c58b44af8b943c08f549892fb9d64506232'
            'e1ea09e1f53ec02908939feaa4ef836c47e3b5d59d1742fece1775bfe299274396f3e0cce0a689de69f7f0bfc4fb80e3e0b8eb7c99b9a24a902366e9481990a4'
            '82ddb23224d8a5cfb22339539d19feb06d9373920751359da9e0a18649749e42096cde16df8891b40aaba66dcb2bbb4a5ed8582fd540263a3af2fb8ff748ab0f'
            '35849eb4b0ccee7273bb6808a27d266b07dc6a6b761084eebb9942667d216862932bc763b4fb18d8d7b8165b2842663f714f968030920c67c5dfd65bc9b115b7'
            '397f5bef626100df5005a77a27a3350382ac156916ad8ac91834d8bf87dd21b3f8f88c3e703c324de2fe854963cc11cd8286a603d42cb883fd915c4155d5513a'
            'b8ce461e431fb16ee883498508f8c02c7d56752609e1ed18d5c36697d2a21809d8b074a47bb66eb794a6f1f24b35b44e9f25f489f7c7d755111f7c2ab355c10a'
            'dcaafe44dfd5a56cb90fc48df90aa3a802dff2c0cdd9120b4ea4b230f78b49128ca82dd3f096cd33c8f517caede73a0bd30b397569d7dcf10207eaeda11e5577'
            'dc731721108b3fa1bce1fcb522820087a36f95b2e73e1af73f662aed4880b67207c00240bca59d9f93479f354c79b72d2cbae4dc5b6564c3c8d2845f60a3af4b'
            '6d407c0f31f45b3a319149ccf9cfb775e45405fc3d4e5543bee562c5ce2b189d87a6d59dcb0dd7365435cbc59628298d499f57bed7b6eb051abb962b2ed64a51'
            'd57a00eb27c0c6b658f0e1b3c1b0598a0ee300fb2a3afdc676d3bc489b86425758b09f696e0dd8d5f62132624a4e633007bd46874bd12a413cca47f1f94c5950'
            '0144027898630e8051298e58adb88ec7275647e7245af7d6ca3ee1d84739fca8ec448ff74a638d0daf52a1cdbc9d9d399e95a50f539735f4d431d4e4544b77d5'
            '3a65a0fb68d359bd4c7e005fbbd109bbdd07e911dd90242b26c43788470dbdea061ab10d513f6667a8539c4166547823c4214aa114a96fd031f383c66636d839'
            '3aaf47adeb5d9e99678c7eb038e92bdbc5447cdad8a51ea67f7acf4ff504327862b7f6eb188aa39cc74792fb2b239d94eb83f93e3f83734077e83f7f25caa3b6'
            '510be706910596871813c54d043471d0ff2e46700ce2342822999d50fc2afb08bd3a6a38d7ead97d65847b40372ba5931c3536a9a84dbed068138a2330051516'
            '66cda12513dae42bb3f22ef54f9434621f0d9d5fd9bf83553e6214fa6d8454fae31a6722327fd6ef46311dc9985424962e16e490f95ebc2000eedd57491efda1'
            '6533a7f0eef6a4b7afcf1382ce07d545fe91b1c165e9c576dfd988eb4c7fcfc4418aad2ad4baf6a99f351c9233c9cbc9e6aafd5ba2204e979af5d4a37be754ca'
            'ba1349b306c229c7cefe35e98976c4082edef03904a7ccf276be6fc75e556b061176482e1abbc3c143bb421716040cfd7a691d3b14da9f8c3f3aa5005cc73b87'
            'ea38a55226157dac3daf4dce5759ee911d37b1848b952e11b9e646582fea0dddc577bbfdce70e83e0bcecb031a970af0e735c8c0b85686cc84164d4a8316c63d'
            'cbd0cf4e28b8ed2555e696b7e92ec636b482df276f90188d1d82a188aaae9cafac4831db34723a8112de4bd6bb9dcd429d3b7327307bb3c30ea41c7b9be2f206'
            'c208edc21c931616e344f0cf125a564a0253ec8a4cfa60eadd913f7b85b0f1ac7d3fa3c813a128c237aaf79e265b940b6a6afab32a9f7959897372499c5b12ca'
            '83431a3769345573690f055ee7683f8cc3f11007e873f62b61dcef1dcf4d206c6410e7e64d645600772328068a863e83b2b38849ca881e965e96317f5f7e37b1'
            '32f590fe36aa3b889ec329f1f49824891407f8533cd3e5588f7686427f357eb559a536f985bc0f7e6a68a672720ef875ee3ce132d585ecc3edb3633c6d1c48a4'
            'ded16ea6f82d43b3ccdb0f567e1288f35d7cfd535da007954209c4b304e8e62d82c310d38427518abaa2a9f316b7abf0d7ba36b2a929312b0df46a4a2d6d80bb'
            '775e023d028a70a1bec4642c22c996fd0f50d80c8078da27187e01a4c2da840e61202e63c4fd15374b64c7f3609408dd1c5b633bee6707796e334198b992a529'
            '35a12ce1209892d0eab149bc72d51dc129edbfe8d3e680a39bf7016963749383111c59862cdc1f48f57f9d308493013700c94ce79423739bb32713e29120ad0b'
            'a0711cb867cd60980a0a9275e22b7faff60ed2c318007d9aafccbeafb06012ee0c58442bb49a62e77b53707dff2246f9d7c64abf77dc67470ede3bca430ae7c2'
            '05fb0dcfd3a12e300f6f71ab3078255415f4c03bccfe173b66ea0cffe5166734f87239f17eeb7a381febde8826cf69ce92ef23a0705d4f74186d3ec930cfaaef'
            '98c39d94c64a02c2deefa8bbe76e51247d7fd6a42f4c0b06771955cda3fa6df5288c8c54696570c14c7d4b8699a78c03c5e1908fbe18ad3adeadb78c9a3b4739'
            '94ee3018bec56bfd860f615674577fe0152524c057250871791994b63e29de6fe0fb95ed08852b3b58ae8632501866e60fe48666260b309a6059e778c4038708'
            '7285a335376f90754864c0e9f2a9067d42a73baedf229eadd4a69d1ec67412722fe6b872b3c0d0bf97c0fcb649d237e252c629dc54baed5a92a92fe7c7561fd0'
            '209b2111e96f4a2cdbfffc00863e38bb62b87b247a05af1b657eeb032249933c11347a2e5d275c39e99e8f06690a421feba7ab1ab68d2c85c877b25464f948bc'
            'a8ddbe0144ca7c0036a5cacb030cd62376b9fa9994a6c6e950611cdb29a0d658ce619b4e856c350dc512d095e39919ecd3e4f756249ff2345218b1661bb5de86'
            '3d181c4f9576dce57c6ea488a261ddef98c64cad5bce0667945f6e73088412263945c6054c1ebd24c0b7b39377fbaf5d3f768c91d0631e0c5a288048b6c7a5bd'
            '701cfbb1789e72f1e65691e8fedf7e1797ca2e1320ea352ed00209c092b8b85a87d844ecd1d04e991b0e67a2b42f947bd633a13395ef738e0e9981564227af3a'
            'a74b593b8133d26f1868f37f7a8396ea35125e67b904503013cdc1ea834cd7c4c4604a901a6c9b25cdf7652b43ad128f89220cb3eb2ae234ee154b9207cf57f6'
            '784c9a7ef9da81132b17fedb782ac96a916817751411d410089df4e88e683ac7c9e06f73711c6a1458755922502b282b7c392c0546ae5cdebc314244bbe642bc'
            '0500dc51c32815946d383cacc2920690f67a3c76f1129de9a03df82be05abe810b421c9c98a529711c7424fde26e03f597e39b40568c3590caf4a4bb1e8fa003'
            '7feaa00b27e782c61257cf1204d14539ecfc508f73768a4b1ab7c78407441b56438e5c71abdf62d8170f33a71e7853f795793ced1e9cb8abac320c956b315aeb'
            'd8a4af064b42cd0446f66d5b8f7b07341a86c05f76e9e15c0a0f442e2ca9d50035506868ca890711a06ad2ae9c50bb7a258172d77169a6f89c4d387a70c8f53e'
            '77d17169220f5af611e177d01240ae89e43e3ab2be2ffb27b372b9d9337b46439181b10c54959da2ef6ebcd66f7c47df216b42e7107016e0e03c5803844ff66c'
            '151ce0bc1163e03d9f1cce5c16c654a5ae0bd6b5ad8a8e235bf2bca8fde30dd6a8126ce192c20b3ef3456732d891af68cecc1fbd8e7641ec2fa3fa393b236e6e'
            '1252b60a648fd92259fc21779a96c432fa7ea2b1f307ec34f69ecf787298c0adfb1c5740376fe99ba0b3f4c732bc3f909a78862b3cf3dbd66ab00ec35bf9339a'
            '3e1aa7dcee81d4fa461f2eb026d34c4774d7f9a8994b2d749af0a574f7d818fde2059877ec7f0c8ef63c0b1a9edcbbea0867b07acc62673eee502b53a1c88168'
            'c06c92ca4f94d9fb91b8eb2662c311c4c8f8dfb820fb2701e5e26b4b1e72ce7ff9c1d5defb5aaf746182d09955a4d1b40c6dd53a6f73c1dff1834b13e0659cb0'
            'ea6ee6f1d0938189e43e2192fd32f20a651f465340a99ec4275748dcdcf1a4400634b59744c440bd74642fc86ae01a2b79e1d079bee75d660f05a5bd3c32dcc7'
            'b0c4faf3a9743d493c52be11ba12027ce4c605bd8c4756649b87758e7b6bafb0bf4af6eaeda0c7645cffb12aa5df989b3a3146653fed7e0f621bf474909b333c'
            '31ed0580cf0f83d24774494694a264e4f18bc4b92a8938debcaf79eed629b148eb8e8ad1367da8d8780633b18ee5ac46b5c7712dc95632f61bd4b2c5d1623ac0'
            '05748480b06c5b97d4119671e44a48de765acdb40018ab3bd6293d747fba8333cb18103c670f779c5e7ec62d88dc435ba6a019a474e95f9ff7cb3fe1f04a51b7'
            '66d3abb6adc8f63796127d114a3ee2c4f67abaa5263e344cf41db32bc80e6ec899f12dbcf0b5d092b0fa794d31e7e8bc10748cce9c89fa91bd365a1daf889588'
            '05af793737ad5af1a80e86d5faefa072b647dad0a7e3098d3dc0f2e37cf97e3902238e1bfa46ebeba85531395fda43c32c5bce517ffc711e8bbd71f52f961ae7'
            '4485676b7aff679a9aafd77491ba6094f7b32b502f98fb1f9db3cb1a73bc496444aa53ae411e4be645abf86bb147fdd76606d6dd83a0a5386d2dc43824d54918'
            '5b0a515c3e6d0454689fa554f382f1c204d9854f9f7a9c8af7c7f590286255b2aef342a706572498aeb359947c13bd25bc4e414906b59f412ef237987b3a4fb4'
            '0ad49d597f70244a48a4da86aa0d1f7b1bf6a6118b9d3c761efea85b6b33fa9ddc27796d5c1069ba74ef4b8ab2408ee51c0135e7a34a06045b01e4166010c309'
            '491c9f868691acd066055b12991d1cfec1e03dc056b9576c1e21fec37928f0d78f1ee410e2191b717aaee34cf3d01972e88f127392f96bf62b6741c9c4afbfd6'
            '49c3805c8bd0494628355c83354be9af359f8f4b86aac3b25a3c801895d21083cc997f795625cc3ef7ac76ae4a82f2688c9ba9d06b588f399407e7b31444d62d'
            'ff6eca7f779fce94d35256fd1c67604b040e6d9ea4181fafb0698e3ec22ddaf4c0271e32dec565d4d021ddb1f7777cb6c7b90d6b756d6286965500a2ed2ce76f'
            '2b37182109b0708e46b6048e0a6cfcf0fd458dc18b770b09515533df7144b9d1feb64c985b548019d591b6d0960b567f1f8998ca24c52f6f3640bf6bfe50c75c'
            '89d3f7dbc228739a040adb5889ebbac1eb33f0fcd3602647d95faa752cd76ef1189584108e35a9eb9c3c53eda6b047679df9dbdc144282404b3568260cb92628'
            'd6292bb3acab3bb45092c1735ba2cde2b735610df1b0d8a4d21c87235445c19deb34b71bdf738ca8561596ccbde037a4e87bb894ae143a69b0cbf1e417bdec06'
            '3dc463e77392ed92cda0ebb787a4bebbee3e564ac78209f05860501c10548313dacd133fad2382f2183374dfc04c1bc51ef6e371db7f2a19c0175cf19fc4468a'
            'f68255883789b506e8c635dc926a42fb7cd0b5c542cb48a78ad8be10b042062c4e04fa5d600e38c380abc5290599b0ae127cc54ff82f478cb20ba48738a079be'
            '908ef2935ab3ec7afdbf9574ddb7638a77735f612c1340576b2be3ff1b17a120642fbe19147067d0b91741534b73c71865c0247ab9a16541d4956d7d80bb4d5c'
            'fa8c7ab02b1993284a54edce2317d25c2a2bcbd97dfc7a09c7d6bcae24d0cdb9311b26ddc300f59146e2c772128bb2d8dff8e95185b6f1b10ec93aa487aefb6a'
            'f89f598a887b05e6a0ca6a6e350a2074c9893f6ab85eccc2bb7ebd24017300543ce9affbdf0ff550c6be7675d23108d42f6934e1534aaac8687e33336e173f3a'
            '835e4327cfb3fe00f77e137518574c1d220570bc1de69f196910d0d60320d85fc469cca2c7fc61f08ba73be15d4ea7080481cf73635df1d097ef681846b6bfbe'
            '8265353f566f89df7e58a6a917cfd9a65be46084c0c4b14313979903d6bcb385834311a5c6e938043a019ff461c55d079a4f01fc0d680d6adfcd94bde018e989'
            '6dbe02dde51cf67b6cc8b69fe50f55db9a51ad447557647eebd2ba641149a0af0f10be787a35f94ca65531dc1d2ed9d96d1c1838ae69344cf70b07b59f061c42'
            'ddb51e605002853565be2843c3a85e35c39e91fe65e55e2f7c285effbeaf72ee42bb24086d725f3f4becd9c6070f426415f58451a32c7fa2fb9b4e4187afb376'
            '862da595aeffd7bccc79a03c1873b93d0c0add292f3f1152d266cf11e568bbea4634f28c63f4bfd789578060a1a4be7052c249e204f62440402a55a040dc3baa'
            'd833b393e6a5a2571b68bfea14e97fd994bbf2789fe64c08851ede53892adfa87529d6f6b5d4ae35101bf9f3b87dc207732cdfa12f343bceab74c805dca0e099'
            'f2b6f4e6be599c0d621db50a1db9e5cc52a2f69b54f3fe574a0b2e99ed005d261637689c082b726ebdf52ca89722894297202b82e42f3ffba785b3c81b8ceba0'
            '28501dbeb956809c32bfdf1f807dec434290fbdea931e304b4572845c25a6123bddc279aa2c38689ff520047b30abdbd10549354d9215f2b14e5c1f849aed462'
            'c417f45d404ac4e3c71402437d56e7548d709dc44c49cd4df41af749fce73462d4100a5d995b5936e9dada45a43eadf992b898869c1e0304445e47f426a213b0'
            'e37fec2737d027093b52d062ae6d0a12c818b0c3c4aaa35ebb587bc50de496bd849c9ed9933811ab72c177c534ed64fb3332ca7be27453f483126fd96a7e5282'
            '763f9c7c78400d545c23f200706502307fc45daa60fe879bc373a5e65ce5386128a8c247c6b966f8722f37eb99f65eaccd90bdde1f46036ad2a387bbc9977a17'
            'ec4e5b62afa5e7f55ec3cafadc6f668534e72bb469fe8a9084020c2cff565226c15e0c8f82984054f3d07645cee509fac645f314394d3ae11fae7d54901e0fb3'
            '349dd291043d5b238a495b83199e5abf885c7f566ce00c1aaf5965f9398fdc40d9b4b454032804a071dd13a5b3a482ae5ba685c7aaaf20291da1168df2966f9b'
            '192fa1af029093426759e3fb42a70e8cb6dceb26b90d326d62ef0640cf1fe71a9229ac090f5bf6bb70701475a2aa5d87ce3dda9bb76d00600752953455a25aff'
            'ce393ae675eea8accfd47493db1fb52ae06b43e1140733fc3931d222d07b6f6a6519b3ef0f93d0064d41d9e60cea2a91eb3558c2822b09c629d68908271cbcaf'
            '7fe2ef06e181ef52f4007d0b7e3dd3ce08238daffa34647b2ca52f42aaa7cd9ed0ee93485949cfcb8c9438d3f2b7e940319ed17ae60a87a952a53fef4b8d5fb1'
            '3ef23ff5ea18070d0cf95df384b888c2a7dd8db48290dc87dffec487a1cbc3140ddb1d5d93966b4edf24dd81a2a4c983508fe9f970d3529547d390276165df64'
            'd29268fd4a9a89f15c8c04efd67eaf220b7ac2b73257578d004287137c0bd6553348c2243070ed8fe13abfc6ae38caa26da6418a6f849191322779daeb2e092e'
            '99aa0e3b9a189a73a1e2c2c90adda26270bddd712ab9772b2149974647a866d1fc9c29ddfde372f19f7ec1b9a7d39cb65b260bb906126830607e3ecfbdc145ed'
            'a69dc67cf8efad5832c3a29aaa28dd78fbfbdc4bcdf193e12862e1ac38103ef7928555ae8d0086064c000b90de580ad0809f59353511c7b44e516a5a954b0c01'
            '82885857837b9ce2eef28d5f46fe8670fe4d6d79a70216001150970f0338346ff9eff2f42a5c7a0f48f221eb297a531e7723980f049d31c688ca6bb0e903a129'
            'd9ca0213a38086ba251e007e9c869f7074e0fef3cc46f1817a0d2b169dd25b776e84f70a0ebd1487c0b8a92ff909fc2eb2dcd6bd9bc111e662dd3cd3ef6c3392'
            '5e929022e2bd8a3ee7358c3e15e141511652abf1e0af316adc7e70a8422002c462422120fc3fa53314814ecc1ec2bc02aa0ee702a85bbfdba7dc0bc674e781ce'
            '3bea188214c86e61e9b8771aa03c7edd0b9b273a41c81fba66920adf07112dc6b57891fd97f6dc8c07c87c154652dce29c204a294fbbfc164e1e61863ee6e044'
            'a9e56a6c4b39e924af322b679fc2ece96b604f051ebe8f4429069551e072dd49cde91976f5c6be5e58052094d2a28a502eebd125b86666fb8b4013505a777499'
            'e5528bac1149e0fbf05ac1895dfc3f16f2d80826b3033a6b07ab25bf8eec8ee3a57aadbcf0840353b117d393d14c6ba48b256ddfe3ef045b21edc358b3b38d63'
            'a0c40b8771ae939e560bf9ee3105dbcc842a02949607b6c3a6803e98d277e00af18c383fcba0f6cb7d9a2e4aa85e9ed50179a8070cfcbae13ea32e91c732220e'
            'b3d23297494c240c24fd57ce85ce6ff6625d4a0f84be7ef1f2b626481d91028e4886a78eecbc1878e5d4d18edf4c61bd7db051cb20144f50fcea54ea807f340f'
            '858d7328cc4bb70e7216cbad81020be75331c5051211e7d5f7b972224f6129d4e43355e928e7be07a1d329de48734a3996ab549372af130b45f955e9211ac6bd'
            '8f1d79ba294d428253f42733377a972d74399fa96347fa45eaa126376280ab6df8e13b1cd53e42ceb8b450ed28137cc5030c6e6d48d7270c098d68b5ba565b2f'
            'ad64c55ae04c2a6866553f1269156ab388c9556c71c5abdf495deb59a5763b26226a39b120ffb764f7dc50214b7a08494c55a8991d4f211ee33d936c6df351fe'
            '20799c95d5bc82f7eb30f808ebb0ff1cf51e992589998a8ca5716bb936ede0d4ec7ae4b1c48361de8f49f5fb61b4ed210b12f93cd4babcbadcef7b5a5a230f52'
            '2e338f6f9768d827fb8c864dbe88bc946689cec0baa8f8888065cb5f0013d855349e4ff57f83f8ddcad7ffe55a67b0895e03b30607a2698fabfdaa3bbc270c1c'
            '8f06e390ee034b8e07b87328d0c20758ee133a638c2a4c0fd997c9108ef0fc05c888b032c5b02f13ccb48196b3514ad815ce4c9f630d86f0be1aa6722b4340c8'
            '3351cd3c949919082af5e40ae2b43a0822d92670e8e299450ec3715881bed0f5c020dc13c3513337ed3e7381f1c1a3e25d67176d9335ac94afaf8984e95f802f'
            'b1dd639e7dfd385225bec81de9e0fbde7487fc2b2a381e8de8db8f49d5dfc9a2142b9c71e19d42f47c387c8ae83814dbe0eccbf89dbb3c074966231f00a8247c'
            'ca85ee79e25aea439f1ee49706292e998c70c247b59d7484045744e29685e4fa4150cb1b9c0b60f20dd83781264eb648d14d826fd1f0cba2dde267d2824dbf05'
            '13d314d0b269a6d1630e9e44f7e6d2d200ea4fb885de1f96e3b7c3c16e7cc7a155d4f97fa7d6e12e646132c8639a527e4aef5ece54178cd7899b0fc040ca02c8'
            'daf88519653219399bbc381817da6ffd9b0da1dff73828293f99c5776a2584ef536723d0c3b1f7fa402421c1fd501fcb726e8abee000a1aa1300c25a990042e1')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
