# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=129.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('378cf2050e5a85776cea82ff3f13c6560fe81e8fa174fab12806f0fd3db4a3016e908871bb67aa73a3d33187ef662dd1c11f53ff83426d13b715bc7d772077f3'
            '0de41cffc794d0bd239173a77b8299e56863620c5e9855836e16539fe22a364a59c61293815f3d599bce0713226eb9b0cbc3ac75530edb143c5f1ff5b7098216'
            'e370fc32822c5cc24ee5f4c02f862db8a368de8eb7f2782f77ee76192ec7a59717d8aedbc0b13e2237daf2189bac6e9ff63b62343c456cc60bdf67a0549ce8df'
            '614bdc01c051a37431aa9bbf913e40acc7dc2751ef9f0bd8ece2c6e859958d4c01b5bd70da613b904fdecf021b13c774de094edc3b1d4a700bbd8cd83f210e70'
            'f5005e8dd336d6274eb4e1424a5b5acdb1152c127fdded95c41ebd864f87acff04fc965d842c038281fde702e5f18ba5875244deef30ad2357c56fe6dc8d7ba8'
            '07ba30cb97968856b51e6d47d42b9f7df86db55d4517cd2ee08f8c7987eb85fbd406dadec21ffc6dcae616dd91419376a41211476ec6fb21c55b8a906d58ec8a'
            'f26b5ba52db0237e7a376a606fc7d417ae7ea77c04b741b4d12ffab76f1a0c21bab29377ab07243a57d9f3262ccfefa55dfea84fc34f1aff02b67cb7aae4ed8d'
            'e6fc6b006317ef5d3bba1cf9087b93e59907fa1e0a854dbbc4d68c28769b034b8c09968b8e3a5027f54a5d12bacfe80f7b26af864a7e6bc2a119f3b7a90dec4d'
            'f357c258c278944f5759de2bf4b84101667d1758559dff797b51b3f8d5b08231724527d7e8acd2da6acf92fffbcfe72dbca4d084e3590c0a3891a2b6117520cd'
            '7cb3e87211064a05f0d2b64933f56d8cdcea6359bc3d6951d3b4d35f2ad72bd752efe08dda076f10c6f918f8883e13351958ed7d71563f6326214414b8e373c2'
            '00f50d8216c719f5d13a72c403669629bb1b9ddd9980bb034590f146f26bbe598c35862dea58c973a0977f60c8ee43aff8dc8c0faf203c9f83dde5adf9199331'
            '6a551074fa4246a24f2f0f338b76644009a42b0da45ae9b80562d0fd2991c4a73ec0d70b9d57dae1578fc9a9513b30726da611326cb9291490c46c5468f5a4e9'
            '758af61677f2b9df14c6a91c9b7b74043fa2e42d45637abf695c01dd4d4b5627a359d279a755214d55c1b1cf12aec0485092fcb1b82d9dff5276a887de08c7ce'
            '63bcb2b0c4cb2668645e5c31765c680b4f10d86fb4dc89239821a0b8f3f4a87e38019147eab21f7731399141942074456aaa3e86e6293b8bc9d04429d4de4b5e'
            '26855b6d785f2478a227e859f9049d30bd5616b4d9301264b2441ac150d54577dad3cf17037d274f8136f7e25185835b0de5a3873240bfad3d52fc299d56eb2d'
            'db42e9e6c519177b56ea01a77bda6973728af1cc9dafce78fe6c2aa8f57314a9ba475645e2bf6fd4dadc84c5278c6e5df726325b4db34fe8a95db68448005189'
            'bb8718f2ab590187cd918506447f9c8209e423e147a6c4236f70dc8dec7d3c1f5e2070092d455124e4b2f6aaa90567859edd6311e2b6347b6656ab34194f4b60'
            '9829e5ecaa614c018de5187ae15481068dcba3720bd864faea7ccca561beed6444404aed503b38cd50ee372e44f5878164dfc0264495a7939aa3a60d0321244f'
            '04920db4d1c297d5bd3bf3ea6cf370f346b309c1e4cc3a77da72488b029c9611a84b38f890c4ef4c9bfc86ca57055085514d06e5b48b8f19c19d2368dbf8a6b9'
            'e886b76cfdc05503c364a2fd2b6a75f1e755747300dff13a83e3ac034607241f3350bc53e5f705958eaae9f7670ae55d0a63a865fb7d3894b8d57aab71c78daf'
            '3c050bf0d324b5d0656ef9e1ac65e28dc457c6956fc124ccd25aa20c9d075a3bb7ff8e334e99836f920b5295dd899d9590ce40bbd34ad9ed65b75883e308fb04'
            '8a18deede7e788587aa8443d32ce71e12f1b6f35d9acbf474370f607f249cde828f161ba9a57f0554b2950937f4e08eec3a3ad6cb2eaa31068c12f37e2a13de4'
            '8b268502bdea7d4312a7afe8c38b565a559c73290b074fad45acbc2489618ca9524786c087c092458a046cd7366181bdc2ca7bb8f6675f91517e47d33e57170e'
            'a42aaa8ad3d72040b0e1dad1d35041e0744bfee9f5559e096faef92ea5a3901346f7921c88f1fe808a63ffa5ac7c2eaa55685ef7e0d180817fd8e9bda0d47561'
            '64c896b3b22211fd808c3c47368383518f4752fcd0028835652bed4a67c37e782c80d636eed2da513821c31e65ef3c3acfab793adbb42c6f80a50d227f02341a'
            'b3baf877bb36ba3b0adcdaaa257a466704eba707970117788c87f6972f1dcd311446c9e67b66034118327dc629c8ab40525fcce51b9db32562b5574251446af2'
            '6045d2b0b263814894652d386a18b01cfffb8aea8f7ac6613e468d59e18db1dc49fd29bbac5d11e780e15e30e1d993979e36263616e688932e59fed84876418e'
            '9f47b5fcbcd567bf923f5114effe1eac4fdf317a14dbf9fb83907640a2469f09988f03a9eff8dacdc55246e4bcc0bf9527baf4174cf2504684d502413ee52945'
            '6246482066cae080096fbc4ecb294db027f80b156fd76bd52bbf8d5a7ca182f120a309599a8b97bb4ba1a7ceded0adf3b2457378ae9766b856e6024a13b1dc1e'
            '5cdbd66b9cfc61cbc06c9b136e875fb0a8f191a5d8b9fba30d95e13195bae1c2613abc2cf4f521762e5170190d74111f7f6d727de982c93efc39814d3795a4f8'
            '6d86bfe4ff8f054a28d9974089315aa165f429548342100c399863c6930fd95b10229c2888453290dbafd116d2bc337431bc4b57cc147c841a16873d7ca31a82'
            '9d5680baf01b60c00ffadc60848b2347634141e05ff7cc44297388398709ed204101ac7f9ea7d0041e63b12b2c286685e004f089078bb843a11f94971625b47c'
            'f079bf3a8de935c1c53eaea12483e6099c03fb413991b8f0d9662a2f50103ffaefc2178a485a3602ecaea517aa18521052821777a7e2669588449683f3727892'
            'd60c889e8cd3bf4b649326e47e5dcaa902b21bb3666b2f8bc6130829c9c5692b13c915d59f4043b681302c8d5c1b4c969f06c70682c5a8a74d51189994d45e66'
            '5b3afbd1918e2bf37c3b3ea26e35a86d1b1585ae0ca0190a3b531075221ab8d0dabae7ea8b4f7fe9b4a27e3944d7727a1328fb9c0af0ffcfac62dd350f31e51f'
            '117e48ea85eb2d4f3b60318e0316274879d8059f62135fa436466785e8c76154a5b2f437b1426e881548ac89c180504ae4be8522ba6b9b9522db2a0e965214e9'
            '9cc1ce773347b0955d77c9a0f5b3064722c455feb05982c0f18690e62795d8105c604ff3e7548e8f143766fb48bc4511900aac289e8a9bcc93ccab266361eca1'
            'ec23242f28d69d094ab20540fe69e99f8ae4fa8a093d39e492f560a7d07458ec6493dac3cf00933080884882192ebf9e73a3df577bc4ed28738a2458a6c12db2'
            '051c3b47da3d8a33a2fc08f628a487e67ea6ff2b58702881ba8560182bd526e1ea1c8c79019cf072f3cdbd1a5bd54e0a6611fc35c8d6e37806d550abf7462ed7'
            'f07a63e3cd4de6bc64049c8d6494240cd4a20844f67821159c7a7369e6e9fae4d23c21764b5ca661bbf100c7430003c2f5b0b374989c1657db4eb4478186d336'
            'b1909c1f20202c075f89f29c4b6ea005d75d16281681df44475ab46805a570c4be05eb8fd7cca962fe9e6a3fb02432aca3a0b7ea751c9450422c922d80670b4e'
            '1a8effeca6bae103f1b3d6dd0ef4e033e42b169e6988cd8c6d6d06ea94ea1e14e3ed4ac385389764e592abcd764a7d7d6648b6663dd809701410532da29804d9'
            'cd92d44c1100f1f9fc933303c716ef963a77e4714a4e920fdc42f41e24a35e2caeb629caecc00a783def0130a27dc692f407d863ca489adef496d7c610a20f46'
            'f3ce9f4a5e5129b6e0d16e6f86563ef3b4877b3e2e508b34039bda4fd4281169136aed9a21d9dc2ac7ee007a5800ab6f1a8b012fbc4e1b9dbe373e80415b5357'
            '1eba5bb1f5ee5a48c61920af137d71db937d3ce63c839b129e308a209bb1c2f53670775f6e671d2c7adee68e468bbad7e215d2ba98c7e595e4cd5b8bf83ae97a'
            'c4f2a325ee20ba192af024d43f5ef5f34f877986fdbb247795ba19922c5c8fbe30a6a5b6a42e066669865e634e0d891e120fb006b1e634793f5c88ab98516d1a'
            '1e643547997cdeca0cea8a61064040a37306d7c62a03e14effcb23e05938e91401456155428f37bc5681c1cbf8100a09a2672f1aee7f430ab3069a84978bc3d6'
            'a9a541b5e52a1f0f815203d94fe1d2368af11f5ccf84231ac6b0e8bf093c56658646461f2d4379fd8f3b9d539eb043ee1e539bfa5a26e905c9e88a6397c554a8'
            '680bd5e781899034b11eec808c542f0428991d534b8ce06894877817c0cd8ed97f988f582ed08e9f11bd7e93a873f6003381117d9942b3fc0d7df0ff77eb4d0b'
            'c4ac6e977f4d172016e98ca4faf973a1ac745d2f613513c015792a74cbf53de689893a10d192efc0f0b999d64973a78ef61454d4117adc10cf3f629f76ef92c0'
            'f03c8fc1305098afd7581774e29962645fba4def8abcb9c7bc97315af7089ea2c801157e2692a0224d308222e217048a13ffc15b6e30cd4f98f80a1b2bed07db'
            '6b33032580e3cab4785ef5284345082fc93409e363e814b8c2641261db491c8485272b34384b846929c5f7438ce248852f2d4bdc506df36c445048b7104f3141'
            'fdc5f3ce5552c802d82e2054b4375f74f5ecd8d858a76d2ee4331868709166326e2a23322190c0c2a251908e903b4ab8a60e6ed1442a4dcb27111a155105b171'
            '3b00538d7457a2c807dac9ddbbfcca2e710bc923c02b5ef48810c69ffb80f437306d7cf4883738c85a9118c002e4715c16045387aa87698267255a6a41e95787'
            '3f822493b40187c1c9609cc985ec79a7e2af062632c7ebf5989d551098f2a6309ed8848cf6c3fe91b2f55b6091b5c1b06538bc002a5463c02b0cf55aa8aaabe6'
            'aeb4593085f24e33a39544447e1039ab477041e7b3290b80a68c881cec91ad634c89579fbc9b1b0ca46ad8bf6876ff2c8d31ec64d4e662a7f8e74029f2749bb1'
            'cbca71def35d8db1cef6bcf2bbf07397c9767e16f504fe8ac10bc44e2bfd2b80b967c4da74b5b43f08935727429e2bde1da3562025c51c6fe2786659b0cf5d8d'
            'c7077e2a2c6dbf9bb55dfd10a20b91ab58b9078b8bc8b05ab0511db53e8499a0f4c9bebad0e904af90527b4ec90f10832e582b79579701a240233e53ca365328'
            'efb6a11d8f6c19da16e7aca0bd53e3e9e88bb6b77fc45c3089ad52e55a29bb4badb8060da24d8ead1b13df850580b0d7b19f3c1a8eb3fc8ca58b99fd68b58647'
            '1c00d4d12c9958f57dba2c518b1c036b4e0de0beceb622846020f9ee209cb58a4bba9be6d559a76299e4bdf1657baabfbc89e652c59510474ed6afb7b05f00c0'
            '2df572bfeddde2fa95572e5c75d5ad64fcbdf0f8b9dd3d3633767c423a1adc00220b5b9445602035c28633d6fa10acf3f3478c645f2f9c5353c8fff4dc90f2db'
            'c1862f848cda6cc0fa180312baeeeab6c84935b008034c51f7ecdd23b4db1ddc681bd49eff2c5047876078f6255ac39d88005417f2aaff8ac3278e69c8b5f7ca'
            '07d0d1a9098b7f586f14a3ba6c17e8f1c54d4e36e25bdb0e8a3c442ed09d450af3c32a7a6a5eaf1681b7d3763b6efcf90d2e166456195b3326a46ef7a8e3104e'
            'b33e73c529cbe7c6bb523501962ca41185c873524c1e0b096a94aabff4005120b828cd1a4b0ef9ce9ecafed7c9bd54b2970595c2203c2676daea697ca46f05d4'
            'da2899a70e2ac4beb0d4e73caaa03f58b48c993e47d563812d98c7a1ce580ea871be23aeeeadc2e0075138c9468a21beb4250ad7e8d8b9027cd0b920b5c7316a'
            '06d7414d8973c938392897ae0f9868e8a1997887980403d4bd64e6d1ea9ba10a79478c01f150d70eae8f70b4e27be547335b5ae7a2b40064ec1d58deefdfa702'
            'c172886b13ebbbd9274206beda81013cded10a6d092860b3eb04409d816c73680703f9e1a771bdd54b2f1a59c36c72e640999a4ade7f4685b7ec73da6b66768a'
            'b635c714cd929b6a83e1a078f2c3ae74ea3c84e036112f40cd33dcecb3812c6a0ea15f5f7c2123a1cb6abf2182df86cf5f1ee5bd14a52e2e5a6b0f502b606704'
            'a76ebc96607f872224b1876a110e68fd21fa257bd9c7597cfa4f37e9313a022498996f946daffce6b92828ebf235dd129ea0c50b518bc5ab0f41f9ac3c9cb4c1'
            'f7ed8514fff416a911162d2b749883364b6ad12b4378ef8ba559ae56a14ee3f574961d587bb7396ee6a232c1dda1dcae6228c47aa05c2038b77128deaf40e7df'
            'abc9b46de5b1837ad5a9c26c9692d013b70aa1f5baf9abaeecefa4ed2b068e857d7bc1f2aaec822551fbe21b59fbea1ae0f5fc2aa14c3fb1d440871d0342fc89'
            'c1ae902b26121ebf17ece0e7766d3d459c621b9c58728e6f8f722ec22b72469d40d2d083ba43cc15b17103a361c43743bf3960faf8c94e351f0542f95498be6c'
            '4b98a686ae6fa0b48bd7d3b5b8bbd749ab1ab97c91618ad9770de6dad5430ce47a44414b0562778e20ab67fb9847eed4d0db4f040bc3de5815de17d4c0f9f6b2'
            '07d4d38b282035c8907e57fb94056f129dad0115de811943e9af68d6b00b91ee9265869547bb386ddc2e45529fb245ee0d113cb3c16165c46fa5a6b69c55b273'
            '9baf8ec72f784768a395148cd216ce6c88d8531063b76def054bb64daab4e0706f1b779da418cd450e8849d543f2f8b1ac527c4a95cc4cd9ec778159fbd35609'
            'd3d929e1e12885759993b010074a5e57bfbc89adedbaf131d201ceb581b99f82ed92d5b2e932a1091bf82b64b8e5c848c95f50629729edf3c19308b6c9a35e42'
            '5529b5e04d22940ed9a5cb2dca28f73f0615cc1222d991a00a67c4892ed3cb367d36460827de1911dba371376a68843cda09571f2cbd6706399f39110c448c1e'
            'e18e770d357705d3dc64df02ee7849f04ab211d4326c87e8fff6ce1b5eee0ff7ae1eee8986a661e1bb320e1978c8c2db075c2c20c4d60f210e7668aa2f7178cc'
            'fcf72301e57637e4e3cf7b1393624c8be0093c89f4a1abe2d6af8270e96c1a09de48df7825c354b651c478f46f62087680ccb21e055b2e6ff1cf17a4bc5c70a2'
            'd22b050e0c92114a4effc3adf899771da0ab2103d59fc0843e5c3c720233ba38363bafb340d0a607fa6cf1578a3a868da03b4bf42071948ecdb70abbdc7c352c'
            '651eab4ae77ca4f1356d59a8a5958e1f10b3d58c5898aeb42d185a7bb729f3f187598343b7e1569943aae9853c1d04d2a92e78e1b9e63cbd47a0252b4d00335b'
            '0361a5d19c8a0fea509218ccd2764594b09c7e0837a57d8e10d21acec29056fe19de5f41f43963c07f6a8c0dc21d3f0676765e5874301b8a2c58fa8bbe0b960f'
            '302b46ba67ea06381a25ed107978d3e186da204f2dc6736d858b7f7b49f4d17e00da57b6fa53756961e7e3aaa2258bac0a55ef522c1029e23f79fd3899abe261'
            '9bd20e0a7fb66c00693c14612405ac1647b9a2bdda0056d444d7ffbd240c73890edb1ab16464ea0e33bafb242bc5ae005c78d9c1f7cfc23d7715435cd3ee166a'
            '16a6308fe84a70b9a0d80fdfcb81aca0a089aa6ec633389eafc9ee52fc88db084bf6622fab12778e0a7f60c5f38ad02f9aad2f1d12e1862387b2fa9c937c25c4'
            '09fb629a3f3bd294c497b71d8d87b6817fd5a5dadff04f5e4b284693c0cced78bbdfa335ee0e4f38ffe18c96448e4411a19ce32393fd47ae46311a11675f9360'
            'a89fae23ef52b44d88ae17d23458cf07705e17906e8cab955985dd8b6e80ff05539c86141ec495ac44099f25963fdfe40705e483f43299bdf3d2f55f84eeeca4'
            '2635c84bde494f13a8fed0ae461bfa727e671b6f97e243fb88846e30dbe2d4891a1421ecb9e1f152fd111373003b249a25a53f690394f51ba0556ae972d0ccd3'
            '53f980c7a27831151aef24a1b44b24c9e7f03ae119311d0c4fe87ee8980045fd7295258d023b5013e41ea1cea69648e98c0b11f24ab0d05eededec5d5946f00a'
            '996423a58f5b34b8b5f8a9f96af268734e67b5f94c9dd93071a3e1f9f75b563067494ff2b31905ba2ebf093ec1be87ad36b0628513872c1613577c91637de97f'
            '6dd2de9e1971e194537af147cdbb9528ce78282923154f371112933f9e4f91029fbfeac74e365445af516602f3e3a8a520c6b6885e07e88c152c7aeefa38559a'
            '3effe91f546eb5b581c1a93de9f4df23d4f434e1d0e1e5fd23b3f6ef4cbbf39d5db5a2f5a739b8a1b55dc11e69f211c0adbf5fc13c7d5629b7396d6dd505cc6c'
            'd9b047bdb56e8c38a18ca0a8cd95d1881177560dfa838867ec0c2822d52296f10cdf090b0d522e11942f52c57816e6c85780a5bedde89430453bff8469b1d3f6'
            'c8b512d526d22719cde9cca3e9efdf28e0ac810a6c74dc8ef164cb45d95e3a53a44f5671391462e0a19243898c312e0f83064a0e9f317895e3c9ddb3e3945c7e'
            'e7f01acaa34d43cc3a770bab2afa0b3fd76c35041216721871bb72fd317b26df40d88693afcb5921fac5b311095bfb840426c09fdac1c53981054f82cb0ee8c5'
            'd690bcba7abc1a49c0ab7525e91637737aacb7f548760b7517b7f871179deee254aafcfe658d09ad25d3f8166f1cc8b01caf28de69da453694b7392a6009d597'
            'ac556723aeb270678b1cc5a6ab0f5288a0a25069c3e1f356ea37db0f1b176d28e08febf01b603bbdf81e41b9628069f36aea5deabdd91bbd76ad6531301c17b7'
            'c18af11fa0a748944131f586770f07820c2da9196bb7abf437dc2ccf8ac2d3877adbc7bd7c53ae09acc461f75f3cd3aad30bf95b2849cf47ba749f0e9deeb0f0'
            '85a3a2595a3244afb07ec3e4e5b57174d9ba70d0ad3b8c527077d8de2c5fc86ff3d996231b5bdd57793c45e4533bf982391a93b18ac5761fedf6a57be4d9defc'
            '58619cc0786203e5c9eaf78ce4ef90093de43fe77c13b0bdaf8c96778c24bec70b8576773d9a6db1fec8cd62bb78f13c5d563029140b50c0b8ba30807217f56e'
            '481c749e6a53a0eff4ff0cefb47d1b5025b3c4e41cc0bcba5a15222343d2adfb1788ad24e38c1f85c6d7827d8a7db6f0b4e103875e19fd8245f59aa753c397fd'
            '7c621834110cdf41a05c8712f5c3621d77667670d45f0916ab249e4cf64b60db25764161427968bb2ada9aa66d1632b4542c272faa1555166794aa44a973a0d9'
            'f7232e3d7995c8eafc3ad260d2207788eba67221383bfa1c8c62641957d884bd9fde4a139ae3349cd74ef6c3d7b8a51847e45164cc6fbc9f9d24b7dbfc236f03')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
