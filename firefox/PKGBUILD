# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=130.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('7c0a4e1d72d4908cdb7d5a2d451968d4dee1a503eeb7398254d8d094dbbfb1496baf43351776852ee3028b0af00b492c4f85cdd82453e98b09ca4f7346b7fc46'
            'b879138b551a00793fc393479d5dd21b43b40f1e7947f524c6584469f8fb8b612cad84ce327a42dea636c5d8e61702ab5d74728bf2aad7d4c3e806db1f40c398'
            '5c0cc40695328520e59d14fd409067ab2b8ea1ffe5295afb6e7d52a8df57feeaf10b22068e7fc84099921b5faff1bccc55c10d35f7d34ee74afee07cf68be6eb'
            '70883c02b8127774fd9f46b0edb13d38ac518f765ed40a26715c73ca645c2fc6a5e94360f1bf245753fde895f232d523812b0c4382a846bb004c4a957f0ec2c9'
            'd838e2f6071612b26ef9cc50a7b28afe4fdd137abecb08e74da08f1fb8d264bb81ca34925d56ac6762264c389960f10c6ec78b319a09d108ffdc096773b68efe'
            'e9d74ecc3aa26886769a9d66f095f78fea3ad81a8b52b4b137843bca103f2e98accd5e97a03312a898a67ba72178b5a1169e8ce74c9daf8da4edeb57b56d1fa1'
            '558a834cd245674f41589d375085b615f0fbab080f211f5c278f33d887750415936adde7108ab622a02643214b06303973c93388d2a84581a0883b20be9d7c69'
            '84197b8895d0f77b3ae77fed0d6de60f310561807830dceef813a576d01f8ed45230d10a4ea36aaa5054a2923c40f1c00d8c6f2630391d0eeaaea3aac63fe1e3'
            '70837775c77bbdd2906abb9fa3d294bfe5ada3f6d5c123dc18eddf109e92dbb9bcd8f2b4ee106ab2910b1bb6dbad21aea9302ceb767e232de96f4c32316b15b8'
            '7022738a6c470972d625891a2b7e9496b9e5751d709f821b6b71916003d04cfcb558a4a2b21d440c86708387e4b4401b72bcec203fe8318d11ea210eaedf1c00'
            '8317569712f534c28df19c490d0a3cc66ff172af78410551cb6e68af0e05db7b06202e73c527228b5be95daa1080351744208d530b0cca8fd2c60af90068146b'
            'b89583038b683f200b85c51ff4f5fc3b348feef329220fad038349cded70c6c44bd775362035e21c8d05888e2c0ad3eb5f50481ded11f57fbd9625dba169d76c'
            '65cbd8d9de8b796a0bdec2314049a48d4fdc417cd82264b1b1b3f39824e1282f3af5a5ea0d62a7b155a7adc97ead6f810e47e9a58d67cfdb303b934dbfaccea6'
            '096849b734a3ddb68b4ff08cc507772e5301acebb186ee3a8f71d5cc01ddd5a7da0dc0897253fa59c8bbd057c1eed86ee73a21cf6481709feb914957ce216343'
            '9f32953cf28ba7add1c762a48b01d9bf907d66b11478a9e9ebb9c9ada91bab4029391c6b5fe2a76c9d422a268b216af5a101daa7ac82fc228c8432a4d5fd90e1'
            'cb6b1c4e1322b5c8ff68ed09dce8908b85fd22c80d74318785226234ef5e4a010b7afdde46caf299d0101fd048d6f1bf1a857bb201c51ea3128f67757191e06b'
            '80357431c1f90fd859b818c8b6fd04601f198533783994f292f9aea2bd8988e150775924970b8c04817f51e442fdb8578b01e7df22939b817af7126674f0e539'
            'fe8693f5962004d9bd8ea99703866515985a4413519741a4400cdc6167246888397633256b95924bdd2e212e47f4ca8e64b96fc5d1e653916bea5d003724c66b'
            '2bebc0ce27cf86d0434a0adb7f3d12ff134338b6a962dfe2d28d84b99b24f865a5eac39c15fcfedecd0d0d551fc603525809e5388c4272f784d0350034826b3e'
            'd034b9ed989d2aad957f7b208e2fbfe37de463958853d087bd23d0f16042c84ea0634332c3db25c2edb3c6135d6244b4233df321167b58f66950813e0db759a1'
            '28aa370bae828eb8c0f0b88d6dc25f7354b5aa05c9011dbc357cf25b1c3e2dc8c02345dca0e699c39838ebd03e4a5329285302758d342ec9e42a0bea6f46d4fa'
            '79829881745455e581b79cc36f4fa40eab6b95f32e0186b5c980f08aa631eed8c8df1dc674c0e449de80ff73f540944a47fd88c21b65a5aa0caff97f7b5ad867'
            '32ff2089a3fb22c2505ab0184ac13b1fe6537bc1da0c1129b37d9456a1c72162c8eee26a14efa9eb3448d56860172b08d79cdf24ea983667498e55488532934a'
            'ba2c573980be1730d919a56509778a44eaa5cf3f697f80d565570b39c61ca7106df28d79486a0906841f0e8b6c9938b4dc07ab47269b0b24f54a0fa721b74280'
            '78f988024c0fcd80e902ad15931548df8f2f9dbdd52251c2fb046de9e3f82196f9b09f51180cd84f16d29a2af518d770a9d3bcb0477e49646ba62640b4acd842'
            '70ce2230ab2f1c948cea111f9e50fa575330e6a77db2b737e0832d57f032580be65e11080481ac0b49d9168ae1375bc8127a163b06906002a5faea3eaea0d2e5'
            '36f16ab477b61b513fdb0b86bd734a2471c94662b15e6e6267f3598b42353396ae30b2b756080373a45d953b09fec2f676859d9741d8b25c694f7d6c69aaeb08'
            '5f43d763675cfb9ab422c2ded62af2c5e174bd5281a43b713497056584946f407fb43be4cba97e293c078c3478dd778da8fcff3a14ee37cc4e8f211edee9eaef'
            '4bd21fcfe06323e5f96f9ef234c7cdca7a3bd535fe0b9a1b567369d980554f1f6b2341d40565318cfdec98101a8778cb2fd139a79e647c6fa0b75a96d33e233f'
            '954dabd83ea39a94bb489cfea77279e3c40263047c99e29170766460706169d257dcc8c0544f9d74478f280c67176389841fb8420cf8a8e253efe9b77b97f49f'
            'debea1a31b61f12191fb16e69cc3c0a1db0422defe3b7da889bda85f7ff108115a70ca349ec6e6df54b8d6e69fb611c15dd2a77cdfcf9a4069c128221c4495f6'
            '6ba1a8ada50f98898e596af0a0545c32cbd0ce16920629e8586dd8c733c3c967d545a068e96371a3e91fb5e2c876239ee9ce73ed92bcb4947c5644744cb7aac1'
            '04a27b27b040833d690422c19fdff00915c4b911043023b470decd7d8c31cd848922bd6a5da0df8769f8c6a5fa7d0b888e1e42ecb55317df91a70a0520e9d9c9'
            'c94efa2dc960a4adee04039cd83bb2407f4203c4ac6b0979e64f86510545708d45b29a27f26e57a040c905875d6fadab00e1c494f601d291a3b5bd5fff1daa84'
            'eb3e97905ec620cf69b5d6b445098b4d96951182ef4ca742035cb4a5f01adec0f3a4513d16570a55dfda2fc996c08aae2e31ccdc86d7112921f4b26b3d8122da'
            '2559f9877bd9069bcb852cb42e5b3f7e25028327820b55e943aac2e134bfefb46e0e38a66ab461b2cedfbdf9e824ea1b72ba0711e276d80d4631bb777a8435e3'
            'eb72edd539850de4d15d37593fb05d82440698b1dc9e9b42a00517235843bb1fac62a9b7cd0c93a96dd7c69de5c65fdcc1ded3a6302cb683aa3b7dbb1e7abe43'
            '7132bf3b42a4895a5bb623e3f3c9406bfa75c94c88c985281d486bf605a9fbee8927b545aad955f2fa6098a917e99c2087529e94c31095d11308ab78ca0c7d94'
            'a04cc3bddddf6e9a2920b24ec5a8f0785fac591d9181399b4900894552a2c570b171caaee44a1904e31125c03fa362961d3f9fd386b0db30d7cc9ee529e7d415'
            '3f1ff7fdab524cf508cea4c9e4b6b11b4f524fdc09b10581c0492d4c705649b76ebee3649994ba9b68d64a88ccf0cbf7a5811ee55b4b48bc10a829a7406860eb'
            '6e2bf891e7271342857aceec6c56a955d35e2c06f8bce8bef24bb253c70da44d7dd9601bcc3bb058c4c9b59eb81fe410c3c8ad945b3f7a24bb400484150e1df7'
            'f2e419d4cc4da76ff85d626119508549670007dc8d53b9fdd465fa5393bb9fb6b712b439804b638b8dc946611aade099c0b2cc50501add2598f18cb3d1651693'
            '53ef72de7a41744b43632628f062a000670bcb7989b8abee61ecc1f12059e69a206a2e070876f7c0d280fba552a010950318227b379239c4fe95bb3c3c604099'
            '9d7934ae8c4373627f3ce1fb71f8565918a56e9ab1d4a3143c8dffd5266f956d880488334822e3e8a840a9506faf91f6d8350cb70f0f3a7ea175bf2b42067d8e'
            '65a277406cbec99de7d43339c29f7f7ffab465885ef3b342ec53e6c6eb08effb4343b710c91b24aac495652d2f63567ab67837127f8fe23456c1c17d3ab60db3'
            'e332e7bc094352adcb26e7b031b98bc6458ba7e171bb61150eb0e4f8fdebf96068c83cafb3958280f8b1b30f9f40ffc55e0a43b98e2edc9775f584df6b3f9444'
            '031e4964a0fe1b63769a18f1b5dafb67445ab16558ba725b2d3a480dfaace6ba544f2d91411a64665579fd9a66f3c61a562b00d739323e1063f5a6ef893b1769'
            '3af9a071b2adbf9a7ade27c1365d1eeb5fc420e2eb4ebb71e6fa210bead5fbee8f87072129eb68b986d22b3ffe2a1e177790d18444216ecf5c7a12c57336fdca'
            '820e542af36c503984df6762ad4b799a9836bdc2d915fced6d553edf157ee13064aa647d349d0ec7e9977040e055c3443b0b12845d7eafa69ca25d2137d74573'
            'ca07221442bd0f149af14420e14a1023b74ef75f45b8b271b4149e8f0a06f83fd15e1e515f7525357a61abdc69caeee18bf4d5be67a2020e42391b9cd523c906'
            'bb254da9a42170a7589db3c63921b70e4c57d7fb59f18b392d88863d7aa01ebdb1fa0c38c755fa3b460037b1b75287b6db611031f16508a1ddebcb5bb9be4009'
            '0a908e98ce60d7799985dbe757d877c884407ce5b1cdccaeebedd8c2d334c8a88603aa79dc4d589d6b9c960187a6ff2678f0dc8b9051c303e815bf41ee668329'
            'f1bdb6afe03f67ddfee4ec1cf191afc295f0f7e6a87a5dba1c7412f28f11c8fc9ed2cd3636ca50bed3381c05364484aea0d3875a28a209d7b212f45a271d7a0e'
            '398786088c12a0807202da09fd9d9e864ce4dd95db948dc0c153db938cb06af169e228ede57d2c39b67674cd34fda0153ad426b8eb13100e7d7f6f26aacad3db'
            '5970491521d32ba812d389a6b07a88945377ea87383e08dffbf162a0ec87eb2238385a95cea3ad31595c446b89768826e9dbeba8ca46b55145a87c600dff7ad1'
            'c7f096f9643f2e2d320169702611d112337120d45aa746cc7699225e4a7e8a2b49d9793c2be14afedf36ba8f79d980d9f45d0948f2cef513c69a5ae52433272b'
            'f25e765b7d3cc9063821a2eb774a627a6fa7e715aa4c7c9e4f14e33696b98009285eeed7bf7bd27315395eedee01685d6117b86519d8b6ef96a4945584e0c462'
            '976198d040a4a35fa1d0f31bc73ac80ebefffc5c48c7b413e34f215fbfc6208f4a5a58fef1ea0cb71cb760c74c3e4dd19e3b472ebde3db478562c5acb562f74f'
            '224db5cf002393fac509551f3530bf8e2ccfb376319646123da746f71d581004c212bdb80def2b7bacc50656130628aff30561b739d29c0a71ba007de7a54127'
            'b107a9d578bd599a8558a4696e9c8c414931195b97de6f7f13f191d5cc8a38f72590a0340a5d061b9fad3551c60ad87bbe3cc32cf6e4b3d5da00a522625ff2e2'
            'a358a5aaea988fa4821d19e0cdefce9ef31c1a1045ce779d0e1791d02e945b9ebf6f9fb1d366f30edd5bd0268add9c2f6a5b1afe5a996a74927db0b0766a4815'
            'cec8b52df22e0405524cef46f4865ee56c837d55fff264f836fb0c39d1140eb9850682ac799a6a6b7f86a895df63df73744fefe7a8ccc21018ea7b6fd82e7f9f'
            '2e10c7f142a3bf8e9f0235d5f0abaffdb0a317db3b810ddf476cc079acc424343cf143cf5dabb44c44a766c9fb3462a32a70151039d25dc8ab856450e408d12e'
            'cf2475d5e51b278a37e9475c5e17432b9e054a4f115023d32d187e51ce6832940130bb37c9811a62030022589e5edc27857b827681c9f1db52f60a33d02210b9'
            '645a572e06bbd4e351ea8e4b1fbeeb806c3e2c2432df3670d6cbf215781154153f06ea5d16dda9200373eefcbd98fa74a3eeea0f79fd8e2b3d147b84ffacfa80'
            '7fbb800aa2e76fb2a0d5c60dc1d66cb60a8b232b9c1c8ff862e744a55963942901f36be661ef0a0ed0e72d9d07f259fab3eec057ab8f4271ab7c1716763928f3'
            'e1bc70f20410573d79f4d771875490532ba82bc7b079f8646258f32bc5bc81e4e91181d377efbf54fc72317122d05ae7b0b5f6cca89982341638651e8b70de68'
            'bc99cd4cfa1f2e5674961c224da23ba84d09333d96e31d7d39cac11e0d07e2b097f5dbf2561411c4c7ab30705a01a07925b24b663aebd6cf07ab6de3ce0f3c3f'
            '10eb6fea81e61e63087047a7175a757df9811ebdaf14468fda544e6dcf0c4dcd3300e193b66432fa0f99b68b901baa2fe1898ceac5709143f07b4515e6d41e07'
            'e165dd7f40a5063fd23b3357fa0c8ba6237f3069f60adba79a26f200a47b24ec763428ae2f75a3cd78d8f065464985ae959b6f353b185bc0dce06ce633920330'
            'e56aef552d57539f0cb73977c1d8455f3c7d69123529c0865b77aa0a7b9827e57dd8f55843608a91feb4697ea61fe205ede021e6f92b7621bb7cb95c1763dc98'
            '94f0ab1f59d141cc513fee4c1d9ce2f91301fec3f72204c11b1b317bc0cd72666b4a0325ab3b35f623753514adf13d2cadee4ffb2220d65eb38478534d6d716f'
            '8ed0658be7a860aa82c003b55724b403029fed21f7c5408002394de9706593ec8e6d6f91c62641335eace1eb8f21034107e72963e16f923e9225dddd3998e006'
            'fe85923a8430e8c93aad8dfc1954b3a5fdf04d63fd6acf4e717bc93c24274650b30d16260046beb34962e98f5777c4d70b0ed061df1ad41889e17d1bf98d7b91'
            '5eb7aeb3b3d548e63df0dc80602a765d65aeddef2e83837ae97684b3aa11cb092f7ad46e2dc6f7011eaedcd9088a93c8bd0b6cf692ea807fa39e07c778f448d0'
            '5425eca8e174c4b7c3f9b6c404ac22bcd63c422e30e25bd9327dec5c53e4ccd6ecd1edd9cdc8b4c1972104ba1f84d42a27369968bee4aab3a6b2b4de20ce7f78'
            'a522932f6f2d302e356fdb40dd3a0a9fff026f61a9a9d2c67adad8b877398cdea1c0caf3814022f489e78113c986f7f1c05e2d7ece36cdcb32aec22d4c178f74'
            '63be4f5f63b8aa8c5b1321be88786be694e76d479dc480914209d06a4d11486808a91066f34659e10e6eb9f86fbef038917e0a35ddef06bb17fc8704140ab44f'
            'ddb52a4b8b8527d4e7dffe39d0f62bb6b97a9e210cfeb68daf07b8231bf9670090caad760f0af602ffc36a976f3308566a48e5aad4359a92361cfe4123ce87ac'
            'eb9e5bec7e15ae67546119fda55307258290805fe1af409b86627a1b520dc71fedccef48b4cd7f1c8971a5bf138c920b8862f6ddd539068b8caf5c208efb5235'
            '58f02c270ee230633b3136b36a139c21e14cacaf5439d6d164f1866a54710538126462c3b9ab0a59acc692b8e79d760a204bd5496ab3348341da5e519fb212b9'
            'a4a43c8fb0c2d2db1d8368ab87375e87c0ab9479d851c973299b78aa7d1f6c2f82a23153ecc4c45187eaa5df86ac779c28cf0a34d9433831052e90a74ac6bcaf'
            '9514e40a5592989eed8cf4914fda963f03b01db6dbe650a98944113934bcde04bc64d4854038d72766d2aa88fc2054112874d63456e9f7416680e6a082c17d50'
            'f7880aba4b609ec64b91535461e6c394466902acfee123d8775a1ba5e74e498adee032b2a6948588717226e7adc9e5da5f7fabbe420b104f423e6fc32c52e932'
            '783d4e3998aafd70cb477018ff51c0387f7e6799347e3d5c9be72ebbb30de141c382b96dbda0fdfffe8fc90599b745dcdf57063ee2cd5d020a55f89d11f9d725'
            '1b95267151ae75a08f0573aec725eac6daa174c601c461a26826f717ae41bdf1e2b9f7bb6f85afb91d808df0dada6acfbc92ddf0c7b8872bfc2558f4d9eae212'
            '65e6ce5c8db9966c747d07584744cb92c8b809314912d0026f70c3e52ead8aaf772b9cd293264d6e97378d6fb6263a1a8f8abc54f726b8455cec8bdcfee268f9'
            'cbbe26ba6794445b3c71c9fef9a291dec8972db5d3ead8d599646565b85c2c23d4cc058a76e184e918f0136da4820a5d08cb25a9022a6f1db3b7769f2caa305f'
            'f7b80e043e7dde3d86eaf62c71db0a4e93291ba73c51a46fbe261a119da2efde095301c9b07c4b88549bb8ef8fd675d906bf72b1951187a49c07c04b89f5f6de'
            'e4e3722e552a77e83d610542594156fec2ef1d82d9a018f0e705f7bbf29baf0edc1be633903bd32d38ee0b302f2de5aa95c3e81ddbc501f6bc554d11044faa52'
            '19d98999e6e66b60045fa749a4a6a99a1c1ef4ec8fa08aa141335f451c0d632e23d6daa1825f3844b10decb7e9e891c61393d90044a9c80e4123238f0ecbb63e'
            'f48b50c0645f12414e38a6b2a8dfdbd0c15e0dbb6733d4f7edbc123a113e9611cfd96411aed983cce04d082aa846b310e44325ef7dad640848c9812a1a793601'
            '10f7cb6a5a3df079aebc3aecd9ddd7b9df8018b626c112f0343080121c38a49f5c0242dc6259d98b1f41fcb40bb0d29d65d2f18b0a26c2209d9cc7266f1edecb'
            'c5916ff68f53a515cc8bf75bbdd09941dc23d3843de851df88b9529872d392c0aaaaf1daca4b0eb080737ccedb1ad00b624bb8e36fc3ac543cb6a21714ddbc43'
            '136f2c66fd0d1dab5d6583759c4bec65e9eed4b46990b50a45e498271bdb085c959387a392a49d90733f69c5f5ee751b02d82f436966ec12b75f0e8d9ba60f45'
            '9157fa5e7f22ab98308cc0b27c55b3a964a98de98bf3b70e228fe5152456c39552c9a273310d0b4ce4882c462b377e0ed2df8ee36733abdba57b8d07f5e09ba7'
            '2d7a36a9cc04c7ea579ea1304ffc24293b7ccf3cc449c1874320c08c4186087ee0949e4ac9b7d14cec95a838bbcb5b25c6f19986cf1a1eb6af192cf6ed4cf014'
            '60aef5196f542b8c61f348081cd3b74386d0ae2c049b3937e596cd2dee97aa8c6b51fdce2ba5d13ab4ae4470673246fdc54a2f6f850ca968f536a97106214ef4'
            '284f2eaa80511301e8ccf49ba5f76bb272d07f9352f07959dc92631684f59e4b84e6ff251d41663aedb9676dd00edf54f95b04b42bd28350878d93870af8b4a8'
            '756985027fd07194f94b0539dd58d6b66b896bfa8b3201594ba87bc6e3bdb09b794962e1e0f20e2a77c2f96cb3d5ab8125273062812cf435cb47603e5e790571'
            '5f2b1cb7eff89ec6758b18805b2c24397374c29b8ebbc571ba85501cff1ef00633d1aa55befdea36733c57b5c474e6fce6a887b026d1d29f93f6b14424f9149c'
            '38f2c470ee5e6d36d2b9ad758f5692c32134323e79588b3f3b47b5ead4bcf44bbfc82605e7ce222cc5f58daeabcf8d49c78cabbc7ddef7075dfdfc7cb2f5f562'
            '034ce10936ed67f20aebb15d7179ac479755a828598a8972f5b4fe6fb61b8677330fe73047add6b7ff24cdd555e3fe4e82c27793663dba604ebe2c4c4376d1d8')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
