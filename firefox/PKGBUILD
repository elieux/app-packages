# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=104.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('1f05debebad9e657437e603a99380c676a948044194b4daee48675b2c9bb158a00b08c21ca674dc7d55ff7f5ea48dbb9cb033ceca8e40c643841cdb19e537107'
            '49516fd2f7b5e6cec5c8f708c53a47e9ee4fb6197a50b80fc79d244943b56111f7dbd9cf37912299d375a51227c5a94f8ce241eb742168e393e09c439f0bb822'
            'dda32a490d324c50a62e4d7fd3e1ac8317f910deb6826c39eb3cc8979ec1fa9d41c53d23e96a8a9797ab043e97d37074ed15e0125b1dbe05c120615a25940d95'
            'b12e54842696b7add05016d147026a5e9c2acf5714ab086d3b8fa9ae53640896a064971d35e026f9b7019ae7afcda05527c72eba5209e9c7c3b7e9a07fc51e8a'
            '65723573ab141e9fefd13ded93c97c8f3bdb01a7076663cd60a3988e34a1a1d4c9f3fa388166cd51acbcccd4d7289d6499eb210ccff9495c08f1c90db43db6f1'
            'f8c3800523d2e5b1629a771dcfe0a4c2dd0176be1b886eefd0dd3901f936c591f456b4b022d10842804859931b33bbde026f3816743df69deb9888b1b9e69b8e'
            'b25a6a6e7ccc9a2ba29b9172474a0edea307fcd05efc3d4d3c11b7b586dfb5c37e33352959a3f03337bc1fd11969c53e62acdc8dd4a46a3b62095bf996aa3d22'
            'b4aeedc167268bd4f769b1147ca2b968806343b0d3e7ea70475fed52a3656fd0e4d8b881e6f5c5a4d8dae06423c2cc4e91532555ea1fa8ea42b7f15971be11e0'
            'e489927fa4a4ac26257b7424df543d3180ea0e20b72667bcf6fff591f2a32ea9f744c0ef0ba0b9bb544fb628cabe117dfb67e350f100a7aa9552eea5f1a32307'
            '74a28095852498379c177b8c5a4385767a716d097ec542d4ea07f76112c70bd2f18217d2490f62a3b970a4ca8916b7ab66a0624b7cde06b3a8d12ef47a582e36'
            '28633560e8e2ee5b0c5ffa296a5fa7f7a5c6d04e0931cd7be598c75d9a215d18a476365a5f48ec44e0f9b93c0d7677b00102d8c956c5e148708f1a37eff59242'
            '2ba990cb2bdfc119a1fcd19c6f175961e17d9954c66dded49a34265117a87579b9d8207ac70db585c0e3f0da35405a731bcb959fa60e12d99fcd01010d22bbf9'
            'ef3da0ef9e275fedf9f09bdb55d9c2640e6895889173f3963a03f051af581ae5c4c05889f3ec1fb56d8ecc3e42946d91cb85f6eec5e08dfc75671f7e2e40ac25'
            '91e45bfd364819ed988be36082ba093340b19f72961d64fd04d0b0050c6354de5c89217cb523c7ff526ad274215f4cc7e0bf624bd071e815d5d2307cf704f24a'
            '507b65a072142277752b5a894595e2a9b6c25b1d843219a0e4f328b3050422b4e3f6a099f8d1f457c114c4635dd76d20f68d09b3d566b7e0d2d45a7f37b0c798'
            '4767396742d3d766b834dd6918fd03cdf6613b5cd55ffbb98b7ced2aba72e9f83285b6fc445458978277403d6a4270ad5981df9d95916aad71524ce22dca1f9c'
            '5e5b0ac86d60a2c32e5ea89dcecb8bd3f0f18b0c8e57e38efe06568f848b93be84e5564cc4b22e0218fbbdf90571e2e81c4fdd41c586679cbb861084b373d653'
            'e933be4947341879f20d37faa272b14f9f04f6dfa7919a1c3f93f20c537d45edcbcf8ae739406756acc46cd425af7f08399de714b167eb2d9af61d3085b6e01b'
            'df56817eba67e834e7d26641f3d3be03d4a6ed83da02b6c82254a0c53a888014eb8b936d07d57e6cf77122c40b1771b6f92b1610a6bc16c4733545cf2f7d9ba1'
            '526f129baa549860989ea5dae89f320c4a28bc2c4bb951db79d2c60be81db24489900ae42541f653f5e58e7d24a91030bd8af4c53d1dc1e2b31d690e746337ae'
            '4319f3c8216729276b1db58e86e49a5a3af1bca282d01ed937f70ee3601b1355052f27ac8c35eb7596b53e6c00c2e99a5e5df942f4a03f31d42cced475fc05fe'
            '0983c82ccf597ca51f883dd762005a15215e693d9e4cb984b7cf7242d3078ef8ef991c79d9e8ce792db8e3ca0951ff1a4747c71f1e719714beff58901d896e4c'
            '14d7d8262e6b1a335d95d3cbfe902506a4b746680ac82bc44c585deda9567c8b2aefbdf88ef00969f69073f157e489a7d442eea99138b1fe27ada4548feeeee6'
            '9bac59a957657561183b0dce21705f9b815295e07f8911a9d01078e11591fda9b1dd1324c3f90236fc0b3205e6f9c7ba23b234123a7aecc7413741a3c83f51a5'
            '7e2ad320367c9392d2c484fdc87620c7fd498fbe73fb4f7543ecaf578e305a5f106273fa88071f6d073d80f2f20c1c3e3124bb81f02dbec464b05f0ee8e45cf1'
            '37cbeafc705b38d6ad18c1df5ff926bf8fec66579ff6d3c8fa38db7b9157bc3ecffb489f3cb2742ebf52e085f8c22aa5ef53eb91835c9e6946aafd80d6a0b243'
            '45d9371ad82f0b74991f6b24fe3296395d509af82a9e1c5f860f0e31738da0f91925a87d377776f51352c254c0efb3ce26aef02434b3effa10a5d4ce0e38c761'
            '5eac8101614cfc165023dccc8e3f701df6827952a202b67f17e70f5112f303f7204fa158ab9a0e7262abc570ec171ad6467255261ff4b71c61c4cddd2d5ebb7f'
            'c9ea9af70478d4bec47b9a5b44e105b500fbed752beb52eeae399cc4be58d02b3e7b36aff2f55447a20b8b4c425e069748d79da482bcb42e24a857186ee99abe'
            'ec3e7939e038699215875b4859c8228583bdbb4c13bc1935745e5daddcebf4afbb4319c22e9880d950e19d9f347ec2a21f4bfe96a96a4cf792a3e53a15d02249'
            '51b67ce9b20f14c098209f0d1333751d9bb36d4e63d26902ef65b0776dbe96e7ca577f3fa4b915e32e84d48b61e70a528d84bfb65f4594835de086026aa74ec7'
            'a4117a2b27d6f8da4b1606e3b119a1bb389c45b5558c05d297a28751d442cbbe68cde710a3d993719f0a0a197cc95c64f8fc4b1aacd5e11c55e8ef0ffeb7ac85'
            'cb8e177ea8d422ddc4279c264a16fb76999a744bd33292f2c6d0d44d91533fc447c69435c04568cc278cd3de5c4aee291a118537c82de2528870e9fe8e9bc46e'
            '604e3078513511211640e5cc00e9f9b67c03d37e77f174f1554127fe31f6bcdd1bbf290b4ce3b2092721438b9f402525b3967803ba4d30344efb36feeb0f819f'
            'f67a154c51424a1c3d7033675338b926cb82c3b63801613c4e8ce2f8ed0598ca18c84fca03a05952d83e8b3cdbedee8f2d724ace7a85683096da8181340dda46'
            '72004a194eb459d7bac835f586be64b91b217a8d46f131b1fc695f03850e5cd8ba4dc316ee575cf585e11b189b35f8fd644f88c5fdf2b595531ab570e0bdc653'
            '7a06deb71ad9c5d24815773b19da56776319adb7699ab7803a5cd5ab1111afe84c063949e4559998c58dc240988edeb5ab40afcb2b148e6efc76ed43c940f3f6'
            '0692a647cf07df53ad2c74ee8a9ad45567a7576b30524a5ba68286c6d99adaa2f91450401e285ccd992c69846d060b746352ebb07f9d5754cdd0d3df6bc6d9ac'
            '04300e77036b700e49454e706d9a019872018c241d8d7ff7c235a9d5e14c0ab693004fd346de451cde02ee75d17da337fb9d355b441168d6ac4e893231a2b343'
            '4b421c92c1490860fdacb9bf5287957331aae57b4c2d03c8506e91a83ab858c7bf5cd67fe24aee12302f0e29ae2b3ee0dfba351a81ecdf4a12b50495f19cb304'
            '7bffcd301dece01ab70d2f853d1ea5067784659ff2068f941b36ba3a2e19e1a63f0ceffdd4c9f9df4a04a26989c180ba4702408625ef191e0359774017058682'
            'b73ee331ec0dbbf6f3bf30990351cbb3131028d2fb44f6bfe86b8bba72022b86e50b65218dd7c491efcdffb4ac8664110a4264724c75a3a392a9ec50d5d5f2b2'
            '956342c3771159e2b702c0300ce7e5958d634b91b723dcd0b97154567fb07f68c1ca7f381ee98d190fc8482ef18120b1799853e934fa4375de082ffd287c78c8'
            '9d35261d28d6fcc655a9a58e8f3b94f07f75469f4ab2cb54fb861bf300b1cb74699b29c1e9c5a1ee140c6aedca93a6596dcb4941cb17fa9d5808f4c13d44195c'
            '7818620c8347de6e791abd1ba5ebe5b886ba448f3e1ef5116194f84462fd85893ef5ca2a006e61bff32b9e759b7e77b445599f89f8036aefeec96e29642450cb'
            'cbee5d64b95c738ccf04f7de20267a7d3761546320cd598ffee69393f18397a0e8f4a621d4cb09db00ff3db9503b2bf9a7b2683bc86edcb5f836655c451ade04'
            '2bc05f0cf544242897e5825400f2aa7679d89370b57cf5a03f03de96b2ac3dfd3126e425c46ca301b22d7b69a817170413d58f99c99b1c62489c2a8007a7b0df'
            '489a3334dc8956393b06191e0151199a80fb5c8c6005235c8501f659af1b7d8e3293f03b4bf019e5f9a782b8b31bc2b5d18a3316a93d368a00ce30d05f3a1de4'
            'f8dac0cc428e62cd1debbf52e356158a695b7f7d2ecf0e31470e709a02283c63c0b2c6e13c823c0cb9b5990551d79295b507b06ef47d35a95f3835d2dfcc084e'
            '0d95fd5d8ca13986e1d5c742897fd5d4f96803275540149f587401eea2b0b6b0b20ed4607ed69ad635e52bb3698ab7e2610a62744e5e966da6b425485201789c'
            '8a796570667fc56776fa3c175f5de2e2194d9ef4b22b1d227ec5358e53bd5159e390d0f317a90e46851ee75b73a9ba5b72ede5534d6cbfe3a00996c76af9814d'
            '9cdd40bebcae385b0e4b554861d9c5e292205b2a53738b7e3e561f1af85352809c7f6c3a6fc0f32a37a10210820386ec5c8f6649e1a88cc9d9476563adcf1a6f'
            'ec461f54ac9aeac8e074edb534e7fee28c204bc2cd17deed927107035b1c56e5baefe7b57ddaa6cda8db67064c1a6cfd9f5c5baceb3cda0d6191090264dcd731'
            '08ab8799f1ecc5ceb4a40a1469551281320a7ff651517a45b678e4cc188c3afd0ef0d79dc92568262803154a6e6a6b133c35bdcdded61fc9c602c46e909a2aaf'
            'ce48e2c82b9f20de27d9970d3f7657ef2cdd09886e633be0cf72a32ab13399d727a24eb611a191a20e1d935644d305b5cf9231471d93a3c6ce9434999d19ed36'
            '93318f76c0b250b16253485e720e305da672677b6b74e85e9f55869b566cd1c02961775e1a8addc6f0b6555ee7f9718a2ec3be6d602490412f6e9469af581f26'
            'e700957d13adadf3699b76e5e1e0c9c8c2303529624492c298a1d4dadc5d94fc916cfe72ccae7e6349b4bdd7d40d8b248b183dd3aefd36926cfbce2b38b2d250'
            '7392d43d023a90f9cfa822a35a641011f07f773030e0486a4c5242c76b8057fbd61123c724a3b9852a6e41aed16d95420b87f56f9fc3ade0d7df21e4280c61ff'
            'edb4d2b53c2bf5815b7cfc2d1741a438c07ebae976233ea5a884dc4012d089288a911eece01d84d7746cdd311c826cfc5135ab8652aed8fb6de9eadc5c488f28'
            '879f806fbd06389ed55063f742e94bf5de04d6a38937ac00ec0086d45b28f3f5453b88225049e2d0ce0958d9c9df49e86ba567852f099554d0e1243643a5a4d2'
            'dbac0c42205ed5cf6db72aa4cbb72725a81813e97851b24f7761f817591d24dc58b230a2357f425ca64ca7e3e1b720047d529cabd70cde51f91fc75abf4067da'
            'd52f3e16263242057d943a1781908d634579fcb8364f379451a47b9a8bfdd0abddf0b56d91a4839a366559eddfacc20be1038d7709872c79523086e18d19e382'
            '19e5efca1ba18bace860467c857096c986ac590ce2e3fc8ca1a87adb8523ba741e5bbdba5531b9b5f2316d949c27bac5d95bec7d015b20d557ea3f4c8d493214'
            '519619f7034e3f40068444c9fadcac7c282a40473905c1779c5675eb2182c6b916fd32a070ba89b9586b28d8a37335ca122fe7ea2a827b3f3c71f4ee0837e27e'
            '930f0231552333969196ede4c0c88fc4d8333fa8bd1bc150e98536eaf9f375f7e791f947c325054fc8fcff8b69680a7687d112b068418f7f25ff4316130ede36'
            '94f5f7741d44690110b8da3f18f288d436a292d37cf0f2781c1ff75866083693172346df59afb2148344c649c7f36f5d7b3cfd941fb10ecf0961aa7d6b7aec8e'
            '528d103ac76bb41f93ac3c69e9d4909649a4f5deb9f797ba3232e5e7cd37a5d01a2ec5c48fbcc0593acfd70cf51703ca48f1ffe81e60902803dd1dd3b4edb681'
            '28b57d43c76df781cbe0167b296aaa7292d670cdf225ab465bee5cfb6d51ec2837ffb1cba89e963857d896ad857a46ee454651a683b06fa9dee42e9573c48ec2'
            'fb6237beae6fa07f72922ed8bbb827acc76658e5db0d63673770f256b984867f88462116086b1d9993967b9161aed7983c9e886b46288d20942940f60ec1284a'
            'b6bf0b335493235dec102ea54d30b315129ea8dd95b72867c5595870dd6337de20fafad17eff3ed8466ddc7c448624bccaf0f5003b5026ccfac62c6b16a62126'
            'c26380240845c6bd1334079adadd6f5a5c610253525d99694591a3acdc899814f5589b131a475f73ee18df19076a428bc891c11c0ead4e8b3f08eef49ab8e20d'
            'a3c336d0caf2a75a5137c1ea439f98aad02a998bdd6722aacf0cd3416da379c4d80f352251deef025954290f01d3e68c60b85a814b387735b3cad391c258342a'
            '3be4147fa911293afc0e2d5ba18bc7ed8b8049894ab40772caac804a9ac041712bca1dd41de031d9aea1fd94dbe9a85bd46811942bd915ac4b7b18c62f44b1da'
            'b767cbcde91b42b31b47d7b6a208561aa166b8ae4e44a0b116bfe3d016df06e5486afba02d45f01c4edac3917bdc0a406a4d0d805127439820c2a29d15b28d15'
            'c6af99dbc785f9d4a79102032679aaece4711ccdc6b772caafde5840f769240bb183b7a77db2b9a83907b9b3eb5530b0b8bc049e41db88e69566f5ffe79eb85f'
            '25df5e1ffe7be6c1c46a02d93ae13320123f0bb2eadf16932149f01cacc64b9efed5719f3be6a9034c80cd21b667b5777577295efe4744e2baaf4b7791be5af8'
            'dd5a438df1ba1d320e71aed278bac0216fbe3e4b5914ed67bb9756c294cd5999d6ab1b5ae6d893b51c247ad2dbc149696a07e494037e56a35b785f68d0da0e36'
            'f671c805c818e4c9fdee5c1852357e7c062b8ed56b0bdf7d17bd321a0eaac211e3bb6fe84a52c9beaadf78e26b1bfdd6e365669f49813212ad09164338134719'
            'ab179a49625c70cadb6cd9ca2adae66bfbdfd772a35fcf478bcb1c7dca389c9a03f2d6417d47b75d10e4ca23a318562b9e579b4c4633200689285301f8ebd2b1'
            'd8ef67f0005ded4709e2006aed4f26d4b78b8f24322838a8c2d2a2d04bac5af1afd871319ad977d55282dbd0ed7543efc469c53979fba2572a98d2293fa80e1e'
            '5bfb20254260711ac2d3ed3f86f08fdb19b4c46aeb3760268905c10dc8451b4b6457dfccfc500d781f50fe7e9905fa69af53e60d6aaa639921666f83da04d1b6'
            '2251099532e51b0c2372a350c14876000597aa76dc43c5ad1e57330aefb99a02dc5d89a2d0ddc7ac5acd68a80c3e146cbffd0832fa907293a63627c718cd350f'
            '7495b70f23174c49df83c3001152ca0b22c75a46a23c98a64200d2ce702d7376c4c5835e3a28358a9be590fa35d04ded12f80b1f045a450923e5b9ab95f7ec2e'
            '87b0a28e372bdcc964edffdb717ea809f467b92daef17a867b3fad71a6eac42bbeef94dd61256f6b7235f5a630b0ab4dc5cb04d11ee1b86ae77558a5c69c6af7'
            '2cdcab902395e843fb229085df1e3eee5c6f8e78f158e8e0d056f771ecb7fbc9589cf58511a9e813d825123ea304f21ac683eda4a5e0f5b2393ddabd7621b9f0'
            '519baee1b2086aa2923c285b2319c4c92a18f0cb0b7fce34198680517494d97e3c04166f8d7f311eb7f5786d947626e6d6285253824a9c51d5f26620b10f66c5'
            '29d3ae28a836216ab08d04499da6afc65ade4675983bfafaec9f912bf9366c6cc10e6b7148c34f23df91523e37402133fceadd213478d1e04ecb5ecfc1cfcf8e'
            '2598c0a2d06b7c344d210c7a78b4d5498d900d2cc28b4d8b0fe7ab57903b2cec34f6e549d46d22c19cca4689f79401386c37c3eba0b713bbfe6b5fb9f7022e16'
            '85b3b48f18ca143ee8c216e20995783c892b4c6d102589d6df057638ae144c7866d1acbb788ad21b59d40ba4ff8af11176460f9886da3027101c69127de81b48'
            '03163c26027c1dc560217a7ae73b59eeb0166bc21e371d710dc772a9b5c50c607d7829d4d68e4c905ca068ffc57a929c2b21edc91e4421a4a2dfe64e08e93a23'
            '3a3eeeaaad4d8cb802b3e9fb9e1f7ece69b7ddbc1f18553e37a0eddae6a1965666e651845cec57adba1a483ec4df777d7fd658b2430603c8e4994939cdb83b42'
            '3aac20f7767c97a4556998ba8e26983c55c42f4ecf04c7ac2f3524adfedd79e4387f80e486117693d4dae80702a829beec6dde1b1d57eaea5b867709ce7ae23c'
            'bedc94183469173ee1092c862c597e10640f04e3a441141e9dde4ce839910383986327c7840c339872249470a9d06ff3edf49d3e3ea1f86d813840e158c91507'
            'af727ca14ea47b3bf9791d45b245cb51b8f59d8a0f9c88d358be473006616175b8cad5588d2d72f31ce57332fa4cccad97ac6d61efc4177daef6509d7e212bd1'
            '7b2918abeb301ceb73cb7c632eee07dec375fd0f40689a977f9b23312cceb896578f426d1111e74f16757393cd7686cdb228e0ec7780da434e69f8f1ce48c9a1'
            '65d6cf9b3dfc563a63d04bc0cdd2f95f599746a4d9e571740743722d2421f7989018eb91e07f33fb6b8e13173226e699135b403ae3a6655891f2059ec452747b'
            'cf9196740c88fba30dcaa10185a6f3cb31bf1c7facafd9545867c0575d4a2c02bb95b7262c59f4441c613c5782030d907fea140955b11d42724e2acd4f94eb81'
            '90f04294ee909281f7b7ef3e54c5abf9a280d58c02708fe808537abbc84e8eb18f7682545e4a191c04c4f50363aaff87064c56463104fa79358bbcebf99ab6ce'
            '98978ac40a549f41cbf8a68002c0b2c2d2054515debddb102683cfda0b95851a3e943714e408ee294d7de97bacab89f9aed61a0cf06ceb3b251755c1b426a6cd')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
