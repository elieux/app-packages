# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=96.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('c0fd9bd33217699a2dfc00e6b363a97b703f0d2347c983d28ee4a10547493473bd7994861b115d37d5598e188e5c75cced7bb5138dd6ae44c3f4ff92b9df748f'
            'f1d57a4826ff686663e869cda64b24bb024864ed293e2c05026dc6ed04b9bbfeaea7250f5f31acb51113bae38c817ee487f7a70e5b776eba462ba1a847df05fe'
            '905e0ea7d8407355467893c1fddcaa24641f5d360a4f170a89bbc8fced3bf01fd5fadfa1061b76cc16ec9e19719014ea05f851b5eba233ae087e5074c70b5479'
            'ca1260c450d7c70d1196928f288294d5a754a9263171f1482602b938baa372d719a1fc4d0539c3389a41fb95e6182934ba6cfe5f09f4ceeadf75cb82476f59e5'
            '57845376a402ff4fd0449df3dbaef68a4cef956f7777c1a3e42b6182da239a61925e5d7f0e31523a3ac028463972110c184a1e73492bec4f53989a8ac1085f07'
            'fc4d6af7f21d8f1f8a373cdb5d087414460066b1bf5086dd3ad521d29e889d9efd9f04f382cb222aa4ae3ac5b46cae68a75f2dab61760362bfad6d9f330ff9c0'
            'e21566bac36b219c3e81eacb8fb16a4445d18f653a64dac1532c41fd945e8fb3f23550dc8e477753f683619a7e517a5e5226099fd596a75ba601693205c83ed7'
            '653e4c2351bde281fc8fc2ae47720edb7eae8bb51afaf3b707434351ad5629acae61942c43640072bffd1a99ba987c6af91ffd12de4b0de2912510cfe582a128'
            'dd8ad3b5c5498930d782e48965da6583da008f6c4d31850c5263523dcfdb3ca3ff12004f7d154e41d20292dc0540d0b0359f78da4ec9979851ab72c08734f87b'
            'c875b7baecd463148ec84d6dafad2fa846d3e6c2b776cda7928cf87c73bf81b523f6f5b7e2db9ba978e3cc265009336d66815e9b9afe81709be59cae78feeaac'
            '818ab36a42ff70e77bfdf76c39c0e27fd012b60efcf9380e1a1424fd473955fc17b2d11719577e5c289b7a6555fbfe3e7ac6d86542db14a3accb2a0c1cc690d5'
            '6d9aad647815e3f37e0bafc181c7e207e88416778588786aed3ab684e6e0268889616e955fb9ef69ebc2851f94dba79847a45f36e1678e1401c1454f0c675399'
            '00a05ff52b638c995dd535a5506f86bd437e759ffb6e989aa45e6a4da78837fa481ec1c36fff1808391a981ea3401e27476e6b53b441640ba8d687727d795857'
            'b8013f6953d6dc0d41059b4ebbffd972c017f747ddcae5ffd1c46ad4d3ac24c336a9026814e8f2bb6a87acfa2adc0212beb62f640892d6b80d774c9d839df83e'
            '048cd81cb26e9a59e8b619ec6369f9e81ec9c2cb65ca041537b595012d935032c55150ae85c6062860da35da6375ef26f1f5af935446cde35e38f5d00029ed23'
            '61d82c7c55b7fcd30c30846cb802a2b6391b07414e9ee09ebd431f10eb7fd3d53a08661479279116e8bde5e643c49e8f7725b08c2f7452351fcab0719174d47a'
            'f1ea7b89d246b6cd8c6466dbf036d105dfa6704e9de06a9cbb7113535c732f8be73eadc4cfeb41006a836a47285d61ada44e630f2a7363bf5d06c10c6d339bee'
            'eeccf33b508b8d3d96420d32326626d6da509464b03dce43757cbbaf132a6520211e8e6dfe7a1ec796b949029310766636aaeeb67dca16b2d189ab5dd3ebfb19'
            '267f3f10f522543c59b91479d7d478071d14ee84f88954e2f19aa01ef5e05d9ce226bc64369115bd1c44bc321d2f3933d4f876ac33b57c00e8a09bcff3a67f1d'
            '475a5c26adee314e641929dfabc0fa567dae73a3dac7bca4e6b3fc09288c52ba9ffb38bde323df945897f68d5843dd87b3b3ec8c797ce46f6c8669a621d0fd92'
            'b0386a3c535e9d9d7c4dacaecf02e64110668ab336660a8fd1cdb277dfa8a5d05e5074e5df0b978a61aa8e5d70ebcc3c71181812423eb758e18d15d171bc00e9'
            '46ee5754d7449fed45994d5d3f247cf872bebcca2e97ed51b8f558f9dd88b11a42a64203d8c57eed6444b4710225564c653c046ff6166e5b4f9b6f7931f2dca7'
            '32d3e4ac17eda509077065f4c989732a90054566769d27c66f877e3abcb79e127ae8983cc5a663a4be45433057746b6b8c3f02f1a8b9c2fa88d1469d069617f9'
            '3de9b31f23a166db720480dc66b630caaa90c98217e7edcf3f39120d10f48afcf43aa25e258342b1d42c53c1c33bbc8abe2f3a81383b09a308c3cb3e5ca0157b'
            '215aa51bf7112c8cecaf965f522f0fece66d15b8419cd615c726349694097f36f11c5a67bd52a12923d27950545dc85ca197f27f38178ba5150cff4d671a0dbb'
            '8f63c5fafc3b401a5784ef688bd7ea9bf7291052d3e8e94f7c3ac081c94c754eceeae15a1fbbfab60932d06c35b227606f74b324afb79a223d1c4487ff8412a4'
            '37fc4dde65ae3556137fd6a8b23867b463c0560f33e63bc48c3145ade6f81b478346337b6570ff7185a386f9dc18bd269da209a71746bdb668de285c2e34e643'
            'fb5f80e16286a601f7fb0439ec9adefdaac0cf0b3664b333081577574d5659414ce4c48a1cf7722abd7dcc6116700022e378e6c719844e5bb01fea41c4cbd49b'
            'd05479f6d1c749593760c5713ca7d9b0fe3ec7608112860a40e5a7c74db7d85fcaccabfc5f7faa2fca201fa8628e99991fc48c1727eae2f627ded6116fc8c16c'
            '2e7ab5ca36a11a5f4da89e5303223dd40c4b40be7dab41418b08de505a76ee51072c9b02b4b68dd2b9cb29fc00cbb4672d783c0e630a322ac6ae06fe7eb0a20b'
            '280faf7c5cf67389812700679749412a62db6065a772bf77a3775768449da94bfe78215007897bddaeb0f47afd0e049af2787dee88afc6ab38c4bdd6d47aa561'
            '8b7c536894ae0d8dc042545f4f211cb3c58666c8968ef35bcbad6944bda5644df11c8b6f4880c312eaa7f5895148a46f0d9c0ea3c8169c76200b7caf7efddd76'
            'b579059e806ec8b43fe1b50c7eba07179faff007aaf256b2b9f00d2f019c95f6f57fc4f2a8f184172e46fb2b62ed0f1cebafaf01e3d108887a47272afd603b2b'
            '2c24ee1872384200ed87d0994e79d00b84bb9273102c8dbf315f1c4bafd5423eb9e0ae68991a77724fc0bf0e8f959ca7f306385e480446f4b7567258db1400dc'
            '419ba4d06bd8bc7a4239c4363f54baf7e8ca1592a07e75287126bab90e39a15a4e97e8e7d48a52293e4b6bc35822696d2bc910029c8ffc99c7999718fa88549a'
            'cf78800b4260e0a4d09949998b889ec5a679ccbfb926779cc43930e622864cebd1e10c19c3477add6477f07419520e7ce532695fb4dab0d73abd2ffed23b5d31'
            'b41f1715513298a5293f64ca9d94abc14a9b5efc5b025806307553dc72b97cd10396c383b294017c2333696306696a56b2c25a16e20ea00ee41deb9069ac4baa'
            'c57b46697d3ec0e197e502ea0d99e72f3af1f7ea39c2cdfc76570bb24079918866f3b8a0b6b463eb452a07fd968bc783d258df747f692abbb0cca48e9a56dfd4'
            'cd0b0cf06108a1367ce0668150a93435d9f4bd91534ed2c9ab6234dc8af406121e1154703e775a40b503a3e272ac3639e826f97d2320d800f3292645011fb800'
            '4fabf58eba7aa550851ff5b97f5ce92c922fea037221b5f3cfe5bfcc88aa8d5acc04b224157591d942c61ae71c1e2475ad8309a655d16ee7dbfcb385448d74f3'
            '5457cc647f95156e4ebe23abe7894e5170eb80def4a898889696ea5a80037c792dea2764086fa857c475c2e2668467fb64ae5dad48d2823d87e120bd941ac3d9'
            'dde3618cd33f8aaf22aa2d88f063160783d54085ed54d214631b75dfc7189a07fc2f86a83c1ffc994d7424a1b25831c9a61cb101db23c5e0defc6d7e2b364e31'
            '222e23acf2044444512d6b243ac7c77eea367ab17ac95a88f23108e1554b7d4437255b8327eabc0cbc3d0a5ac6324718c4e6f717c00698fe0597ba9f2d8133fb'
            'f77bdf213e23105cef495d7ae78a9509f1259c9eef16ee27f4e0513ae99879e46ce2587342e08081bfaf3701fc337f9dfc94b7f5598d253d8495309060cde66f'
            '2fbab74ce8c34f696d3cab7fd07d5242c6cdeb92286101bedc996ab0cd6b27370832905e5a911092fc69c99c16003b9d08b250aa825f3a39b790509f4a565564'
            '25006728eb94b5a1f71967a58119ab113fc2d38b3bb4ffc6ea04aadc43864dda4ef381cb9ab77db1500a729d220741c3f27d16302f13322a1955d19f2c2a5c88'
            '2815a0524d15439923cabdd4dce33776f828b481c08c1f552df931e5f3d9671294b4d83f273af32f949ae02d029aa91da1a18cd60865c036cee49325e3f20844'
            'b0f611716939421c60db212c7c0c37005f90e5c32e77e84b7051784740705525a396ec6c42c65133d856b9389d24c8409575962875d4466866d43cd26576bd2d'
            'c0cc7baf60b247a905a460e68dc2179b5cd4b73da4bcbc486a044d865283fa10d71e492cb4a068127b03082d790635202eb3283c55d2f415b75d2f4381e7c55a'
            '9854d9fc160f63b15e5a6cd42b7447b64f84a458b1b4974fa5e059c7c919c37236b72062656fcf073000888ccff54d76bc937663a44db84f54fb636b9c465c56'
            '2e1cd754cb2c56469aa20d94257eb462fd2afc5402abe9f43e0a2dc7e3d0702c3f61d9e2f0f057891719a14a15e9540e8c13e3b5de54978e5cf48db3397c19f2'
            'b5fc5608cde9f10004a35eb43e7684f854d963bdfc04bd0bc2cd5b329dca6fe4f9945a579513197811641968fd5d57e6aa03aed36994d0c4eca0058304573d51'
            '963c5ea4ef1048681303b4591370ad98a2ecc275f6e2a5a2d012e51ec8e7076a28d871fb79660fc8f6d5033ef57276008e82e664c42d10651d5256086ef01a48'
            '9570d4a77ba41a61b7cb7e49a5b31269d9cc30304769fe2239b203e0523d690cb0c4d75fdf8b6b4450cc95e759733b2312a2d07acd70bb76e7eb4af7358ee67f'
            'eceb7f1a8e30e96813e2d210916083d4d89bb818b8979f07d438aa47c3831ca4171231438455937aa460f1905285ac53b356c2116f9807fc80398c94bc2b15d0'
            '4b8e8b481d0fac32c92d68ed3714acdb410b589d8eae969405344af33b553d9116e5ecae78af0858b5a51838c963ab9d23ec19be0b4a1ad4ba5a7e01be3f2e71'
            'f27a41c3bc919d1dc5f3a5040589df16e8f3aaf53e7097f26be25c470d0585eea7b3df548881d2c64095daa047a92b8e6bbea7d48aa2f8afd47b8dfc7dab65c5'
            'cea3dddc07d06dbfecb86b198e171c71ceb328da9fdf253bbcf4f683688558e7e15957d8d706f3e5c0fd14142cd7359d840daad86fc828daaec97e5069601a21'
            '5ac65472099a66b2109407e57d0b5eaaf92ff511a6c26b9f6f24cfac1c567863716eeee9fe13476a8e364247d65024e00972609b43ef4c2395bf6df69d87b8d4'
            'b2c7534aa8d49a6ee38a96f14fb0aeaf6a4b7ee8f1eb8093d517544b912dc12c438d4c25ea4e2ca2ca63b71ff2e4fa283b8cd8c770007e6974e2e7533efabd7c'
            '56b34a8e5cc1447dda605c57b9cc70f41acb93037d3509e09f9e408b0966b31bb810fcfa498277387055273e74eb6a13612075f72352fd412b32d90123281dd9'
            'bd1c9639de77aaa54d3fb790d4a1d4515ac0faf6ab7b766531978056d8c85784aa7e0654780858a9aea1f9b590d6e26a7b58fe2541e368f75c8ad9861b616e48'
            'f770de18a0920dc8c57faba9d2f891e2c8f3237d9f058ba5a84371a0fa00666544b681076ddf48182a070c4d4cc758faaadc060f72d7f527fde3549c6e8bfb4e'
            'f6fb91019c1d08a0275d3260095af4429d152b4cfca06395698d88acaf9fe5d0f6d7558b52a86f5e4c87e97dd9af3a5566ab7fce748673a13868978e7f64f526'
            '9096b96c5098ed415cf254feb9ceb6e1a361df83d18fa3abdbfcd241184712f260d6eae0192ea16613e5727a8cc0b593a0ac00124f8d8d61051bd6f50320d31e'
            'cd3b94ce6b81ee807aaa93e22b2e662cb18c7a615e2f1c884298c0691ef4fd023efc129dd9439fd5c764d140224d7e644b9a4ca71343823b461b2ce64a20b88d'
            'a8076672b8eb27d6de823ea30f33e984106393f6a565b0e79942cbb626b4a11507d82c513f6eafa646555e17912be3c3713921970c28ddacef033d5b211bf7e3'
            '99e0a29e552d02b5feccb46614eaa20f5cd61154c8880b07eebaaba0526605883d3ccf06097c23d30bf425aa05a43902ca20967dc8c22eab5bc9aeeb9729e8a5'
            '2aec82304ab8542268c0a83cc2ad45bbb84f81d394eee1fa774f2cbb92e68ddb91de9d99942ce18f118aadc9abdbe8605f61be0cd9bc1eb0e7cb31c7178651cf'
            '17f1aa36eb27b640da574308a2eb1a6b616b5789995eeb4e9199ffe7fa46bfb68ed59592f7cea9612fb44ed2034ab119ce59a695df33dd1727f79cbd1506e759'
            '5d56af3b701da67f2f1592d0c1e793c6e251c1ee66e7fa45cacf1a16605234ccb4d1f2283f9fb44944e5a2cde1b2730398dbd41c538b3b69abfb31e7ecbc5cae'
            '5439450f180a8e47550247b1172fe0000a752af51dca10cf54524576c204212bed0265873d778dbc0021da519c8b17fe15352dab57ad9d25017e8d3552061795'
            '92f90efd558addc226d0344b79d8ddd100a9ba7ea613e88eb5bef1e96953896f7e9b912387fdae4c5ffcc8c556067baa013cc290974e6664ea1e15c40e21ffe2'
            '9b06ac16e29b9573aa365a1a0d639068ebbb6579354f3d03653d8f858f9dae60b114b7a85418eefbaa4adbdafe2b2ef9cb353249640a15c6c7868e6364988667'
            'c32c2393000a76882c0ceddb458869e5e04d3a1868282bf125430990b4d43f11795ac4a77c2c96fb8e3aafc9bee9fcd1c8df40fdf6406fa94969f3801f9f68ac'
            'e86f49f93c61b3a73633ce8d6a3ec1f8e699f6fb94edd8358b9e56066e3c9d56a40a31c2adde1cef4871eb45e858ef4cf9f360a78e9573ea38455f397f674fa0'
            '41bafdb582242647c5a8962c22a4828b6b219f1038b809fd7731281802f3bfc97e8557686ac20532709b8dff405ed61fb9e474e09db9d51aa7f75e55df70a8b2'
            'dfad860ea018f3900c52a0f1d3d57a37c4145ec899a3eafdae7d4a3a2e88df33d7f8a10dbb6dcf02e563a069d7518e18199fb44636d1e969c9b828be377a8d8c'
            'a55ebe4ef2c4264ae1568285d885164eeda8e292dc47a09cfb46fa14653efcff1a504c7a0a5e967aa371cda339e31b7f07b362d644f8c4613320aaa383cc65c8'
            '64c58d50223840f1c3cd822c60fc97dc5bae3cf4e6b63fead6f66125c4d361ac57719c9802a4b381e6a7ffaac8ae074a9026a76f773356abd7da0b22bc18fc48'
            'd83b281e3613e780391c7613d312de26a35c9af09091580b9c7ed0b9372ece7394f8e09c96ee907beb0d2aff338d8d10a97c9714f2e9e871278202637570f64b'
            'b1983cd3f695a609decc58a00a81aba1395d1763f9a0a07bb9f237908e7b0ce5ef4ec19aaa696f4da377e02b39fc6c5fa6c54f38c01f2c8dd9dc3e28b954354b'
            '83c36347d67abfbf50f9cb242986b524c6456964024c0564e0464881181eb7630146480df6804bf2caa198f18306ffcc5922189f083c3f9222cc5e71e96fc14d'
            '88540a0ac11d9beeaf958586000012a963022ebe2627607a1824a5891ddfe6ea04ed36481cd9500271c7b0341b49c15fc4888917fad7ee9b94e0d8005eb6a480'
            '1dd36ed016325227827efc3f051cf380fb85e4c5ea147acddcd7d2fe00604e88942440410e99776a4a6cd8035c122956f8860c41148b23fd56fcf7c1a72c42e5'
            '238680d073c56fc5aae70518fb35b270dc23c3390fa2a2f563d40e2a320b218451fd7665ea03b7f459871d6025e8a8ac5532e1fad6b221a3da389579baabd9b8'
            '51ea7858f130deb50ba48b0ca46289badeca238b019788a7d97b112e694054b36e38738c94ce3d711a6bb89e5fb062106ef913c57b320e5184ab6c55be5b1236'
            '47a45b4f6d125182e698d60242d11a65b4cb0be3fd828970e62942d7397366ee5178268e118a7c414503d00aa325115e8bf80da1dafc5ebe95a9d1b4102d4f7c'
            '771e7a0910b5d7e0f59e52682341f3fa104bbc54c8dd2db243389aac4eec6442bca34494e44901d42709aed0d3a8a6372365eb9575298990574706b00dd437e1'
            '1cc6212d3e58fbad81db0f6741ce0d4a7764dbdc71e157afff7e58733efcd2ee7c0c167eee330aca59e1bb090844f3f088bbc5049b07ea354cdfb3d2dd9c5d44'
            '1df45a8a6a7a3dfbdf4083c87e50fd171ccf5f2985a6062efe62460d8d2f674d574948b98de3036707dbe9e100633c57cc67d93a97e42707c1845d5e121f3db5'
            '8cb73cbde0d228c5271dc4e0bcab6cd5d987f0587ac1bdd436cedff60830f03d7f73eab7ff8a29dfc6796ff49ebf29516e42fb8e70aeb3a3d61dfe13d2455168'
            '5e1191d645461b33ac2b71a2fc693b78b4c068fbd9716de9c19569305b3bdb369d467c48f6a522a6da882b30ff4371b9a718a2b54c209e35a5f8414f64f43a99'
            'e78b000c7fe7ece729b91003414b2a17b4281520c94bbd56d5563c116a9d9d5397a28ed8655483b2a3a14ea3c9fcc1f2ebee37c54a0966e679214dd59c0037b0'
            '8a799a7fab890d57a6be8c8bb884ae9ebb399db9d2ac3c6c1eb90691df895536d24c29f4058c426e5173d321ee9be217b4fca5f656b3baaf39463515555ecbfe'
            '8838a439cd8b8b5aca214484dc47daa38c74d0a0e563be7ddfc39c59cad724132ddfc1c166bd1d5dab98d7770869516bd2f58973b8b683b50aef2fdf4be0101c'
            '0e2e8caffd68133f67fe38aac1575c86cd2c08012b8a62c22d7706dc3970af8b0e1fb65818e777829c10b2227d2effe76d9413cb70504f3cd369bc6decda802b'
            'c7e3c00ec26d3114e4ddae2b50adab0e64cf8b8d1fccb99909c53da0a2ee1b36aa6f1fa6fe04119e9f80e6dbb944cbcd34f5e291d3d910dd9a7e46c524648719'
            '746e3fa4c218f88c749729b9c826b02f79259ebc90d1b52b9f6ce87aa7368fea407da0dd93fe7d0e38eeaa41fc634e03c4ec4081c9ebd26c4e23599e99a203e4')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
