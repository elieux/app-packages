# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=144.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('fe4396c460b9f7fcd5c53c77cf8f47ef78fa2c3ee4429dded2847b065c1a7a4bed114e7cab2f3d7f6e84e239452b7ee3d4a6f4b3f9a9851139c2b8a84b1a4dd0'
            '340154eecdf35abdb88d2ff5815940c295cbff131367ce05bf44575e0d13c9c080471e98cd3fe5ec6749b23e0eb6926d261a2a14bcde4c2441efe3b1f0bfa958'
            'c886a1fb7060c5d98cacf519af293ba216802fa11c429c849a06320a1a547accbac43fb749fb40c78d19e6fbf7e34ff4fb061121ce75d537e7416ba261af1e80'
            'c0448e35c50587b8fb82bc687c1372a1c341e11f33c0a319211a2ee0f8211b328998bebd4d7b69b13661df7d434d81f5d7282bd77b8b1e9e92baf370890b58cb'
            '613786a4c7b8aeef01843bcfaa189b60c1a8229d95ecd5c2c8c6bc78d8cc36cef130d21e860b068bde53b749b36e6ad5025a8b8cae2b9dcde8503047dce5a7fe'
            '681dc80a4c6e812afc1c6ee66f2659f1c6b2fba8e987d11baa44491f6994d539091eba1af72ce11814bf821167a6a4cf047d18cde91ad1795d96b86b9cb82020'
            '4838f33c5676604682ab9a7af1a06d95143629db01ab1f5c4945a3c6564fcbe7b753c46bac7ac9f20896a11c1418def3abed2872e39eb80a9503ba1450a7e6a7'
            'b24b6c00c0fc6d04082403b02698f7cb23b001deab45ecdbad6e5fb9f6355f34c7d4df43efa7160c82a8358a6e5edce90b42750c2f8561b69038f20fdb3e4e7e'
            '2c84aacfd3845c3e85c8b4dec61ae10b3f3c6ebca754c9f458888093fb24f65947f3da28bb7283352f209201dd78469ecd457fd98c852f401d452ac4639f3517'
            'f8ab8611a09d4d06777465cfcbffa42d354a653d865bd0533ef186db40cd5f81806d21d1fe4c46d840e4a6b92c49e33360bdbd7aef79a84da3b306bd5c76196b'
            'ca890cb00d64ea69b6af88b246c9217b1a1d747ec52ea6ed7d10eb2e53fe237289b8faba6a31ecd0f15bcc9476508c2935f2f12b6633c5ac3c8281021d3f5dcd'
            'e6294e4535fdd9709ee11cb3b25e33f9fae38feec57e604fddfb6fe1056b41b2f7b5c96f268d53064f0970929a64dd5e9ae9888b590ec7a27f8de31751e4ab24'
            '9ec270e1d15aff6e0092d8489d88055a18df84f1c5986a0ed92414ffe8647ee43473055ca7c39e622213883aa5820d54a7df8bf7b74fcc452af7da297dfa9140'
            '9a5d8e769641448f5ee4c3e07b40b3abc2d2b2dcd84786ba471f5e18f9e911ffa3de0c392aa9d531bb2d45c1478acd73224d89b9f495a8d35063f6183f5e1bc8'
            'ebcc8e81ceff9f4330af1169413869d31b983300d1267b1ca7a40613a325f54cc190b8daeb1bb06236acd76778425ea98894346fb4866f7299365102ab0d4188'
            'aa832a720a495e5fb36910cd233668233c23a51bb7d0dfdf5813646572f58647cff23858c0dc3a3769ffd7d943509b45dbf24fad0820d7b1826e9b07421ba48f'
            '21b29687508f22744c001a9f1f9f1a7743f98cdb6fac6d04eb7a461e80177797fe7eb241043ca71ffae958cf95467000b56c52542ec5469157aeb080fa93e632'
            '8b25f898d4d88ab2dcc3f7824ed1cc5920cdf7895df2e381f745ef09856d3893610f01591221fd26e415a4908435923bbe85cc17b902fcb1454f62d907915828'
            '8f711276bbc0f21ff6fd916788dc87e1cf4d20efd754ca96b4e7b4a7653e5830ff5f618733f10964451ca6c4d70f478950741f1c83873c3f1a47efbeb3add9a5'
            'aba86633d822a747d7cf71396e3d6a1f35530d376241e1f035548e367da6161b086159f22d96caaa2f6dfb8d97f04f36af2b45886bdd1debe1aab048ced76953'
            'ea50d00bfeab21f05ab9e2bbd18998d72e6d777fdda1bedbf0d97c76920bf0e6fd564c4acb3a745a3139c8ed9694090c820fe04150bb5bf0ddbaee302ab351ee'
            '0e31ef7491b4cc638c9da9e099e293e97214f68546653fa75c2a31f01aeb4d5889914b7dafadec8872a19ac5af22a5813db46a6999db15a8fe5b2b45d4a6fd83'
            'a08dd96b1d12cceb1ee5f6a034b89e9758ea715ff8addb08902af656448532fca1c15bfb0ea950273dadada50c49faf6f72479a3cf811096806d9ce110da7649'
            '9d86bc459514c37901efb639f48a5172d98f1798998f490ffbd432edff70a30578bc01ef82ea6327867eddb6050af955c379cdd8fd9ffe68d66a5b7010a6ac98'
            '1e5f03550d7e0f3deb3d247909167af541148c08df374b4f02bc7978ae202bc599b2c31f58842d11d0928a65266f964fabed4200c669e53c40ccb99eb462ec42'
            '73e681a1cdd10b629437e85c2327170a9e8b6f3217b9c1431154fb5f02b9d70db45f0496563291863b40b1b69be38dde65ba60511cd955a870d9f710ab2c64fb'
            '70857d576e49f545ec4be310ca5c367a35ed5d5a2c68e8e7b437c7269c136cb752b73bba5917d31565e7b3a5909f37993d50495bdcd91f92479fa18a487eefbd'
            'ce8eb321d6670b424b150c4026efeffa0187f409d4f00c6b86d496a9dd7a74565fa3e360923d9c820f767a49e440803448b87655c8f0fc46f8b76ad4bedfb3cd'
            '41af123fcf41d7413938dacbdc9caf274534d4766030f4a9002a10e7c80380013c94ae0b5b280b003e21f3e2314b20e9f50102d2b376255ed7bd7888266890cf'
            '3dee8c2f955181b8867da8fcfc5d73e3c23d008c4e53ecf83a51ab0c470ff1959dbedaca3c11af71e2b0d29cdbc881620424f1df1835596dbb88ddb030ebbf60'
            'c79543682770c6177211e6d16fee34ac5a8d39e33230860116664037e580f054054a5b52bfab2027413f25d1fdc499450121a96fbf234f3f7b98137a939efffd'
            '15e6a2716cd9594d64d22eac669e821964a1659cf12de47d50cbe39152a40e41aff366f2a54b3d4b39cc2b6c7efaf240d723a6ffa27c0e1306f7f2d0a10c4aae'
            '5c6c50024f5429ba7ee52e309677a6989fb9ae7e8cab840bfaff30fc7471502507fbc9a896358155eaa7a162f554787ae96fd860bb89c4aaf33c1ab86cdf30c0'
            '868de53f10ef5eba30e8651a8920811647dd81e342990cbe32f5d3d5ea64d603870682e699f77bbae065e1b3006a83bec5b0fcdf664c8dccf21214af8d3708c5'
            'fb262b0e88d920f8dc3a388ec1caef763239af2cdee9274b53aee8be34ee8a7687f75ac2bb87c2c1a6c5726eff86259935dbae35102847ec2406cd1fa9096c7f'
            '51687c443ef071fb769d022208a642c2f61540ee4a76af9439f822d1f87bf9d1ca37a2e8ba8ac1d99723009730869e1ea5d62ced836430dead3da37e8ee61cdf'
            '8277c4877c2f56dac87ccb808bc868a01555be45bd5538b66f4676f50708315f09976b433247b65ee4105cb175c496d9675bdcb16ad7f3cb3fb3702182503417'
            '11534545c737af9f00661357317123ff3107b60b889ca30947620aece43604a8898ad6d5e9af4959835fbae5ce19b6d831f6d9b603022495fb222b10b3b1d217'
            'eb32555dde870a87e75847b9ac40d2ffa018cbdc64d77cd90e19e8674ce761435a453430f574404823a7ed0c86af4d1c1202480e25b43b4968ab1cd463a5dc63'
            'b92ec6e3e78e811a345178f1f403d93b1f190604011146212550eb87f90dd1468ab4bdb7cf60351169d1a5c80fe4dd22943774cbf095dd41f693340cd85802a2'
            '85b7f85961eef0232ef21b55594d045213127355d4de48c1e13739d5ccee593f639328ebee05641f50cc6ddfa86133036c6b14c466a717e5666e16fc8805862c'
            '938cdc7668e124d1378dec4c61fa7707b48d6556b27fb4c46cea8ce9e235d67491032360d3f59a51591ca3873895be7010ca9e9539bb804d70e4e45e8ff2994f'
            'fc5ca363b79f4f41f2e045b9d3ed3347ea13f099881af8d6eda6ed26bee37f24b342fbb7dfd2d435f83a35153c7abe931cbf27761318c8ca382892f630fc910f'
            '0eff3c47879c6715d5a866b0f5dd82c9059f267729301d67e3034231f0dd908acf210a3622a6ec368875e3426fbc5e6fe01857e35f248bd4341d13ae2d00e201'
            '8eea0aca155faef0c55396ff5e982aab23fc4200c5bdca7c6b7d39d31248a0c7c58ccb1d4d878822710bcad56d68550d2a6c1c8bc27358beff4d1bce5e976761'
            'eb2ee1fee00894ae7e8788e4b667f0fb3a4a94e3d03832c3740b462e1de814a35c8cdb6f0f4412edb9b59ae82b497c52fb8ba67b2c5601e44e588a217b91cdb6'
            '82ebdf142ddffa449ea9e980e013ac818de038dd279b1dc0313f5c77a7661f98dbfe4ed136ad11e09601b714f2c59f0234ae8991d87dd5d20bd8ea30b3b11901'
            '6dbdcf23b0b66679708ab43910111551315287a04097077d424566619320ac74452e678cc194edba1c381f1e48f5a831e21ec0aa46ef55a494a61fd0ef25b940'
            'c8ff64dd7cafeb91ff98a45ccdebbb4b8a3c770b4e189a831bc71770df3d0afe6997d3ef340897d00efc9387c7f1bb5c6f047ce1f3b7566724ea1c9adcf6c3aa'
            'fb1bdb2be59b4dfde74ee572fabf311f5686697adae3b279c1a1c6fc95b5babebc03a8be229967f1522340a13f02211eb4159cf39133b9120c7084cdb437aa9c'
            'e7d47bac976f05deb379ed3c7ed788f475873bfaf7c827429fc662f11d7ed6a78db439d0cbc392db9dfa4cfbf76e475ef8ff9ec033e234afdafde3c425aa0fb7'
            '73f4fc3df7ec27656c64500032962294b9f07db46dd71b28bde2fc9dc8d9f47488d649a732e435576278898227e20eea17b2f55f8a9a5081313a85a5d8c3a967'
            'd19baf0ec04a2fe51bbf4b400521526b1d9222a9484b650730cb07f137b442b1495b04359603f8857826463e56603fcfab57a3c329f8afe3e6c90407f1e87a96'
            '231b43ab0d4367a4fe1df0591f73d73779b38acf56c56b03fc8f77378ae56418673236c9be32d19ea18fc9e92e21b73cef531565759bb56eed172262e8d60966'
            '17fa0c858748912f73208c9d87535c7f52c334e3209bf14bf52ae03cdcf1caa3fa0beae5f353df264033b8a702eb1d9b5b74f49e073abfeaaae7029ae38f5380'
            'b4d784ac42a726c28c4aae53eb083fab1494d1f20a0dc827f85429d7cdc7acb7a8d09f27d46ef456082bba53b7eaf39729198e505ba9c807eeea00bb124a1725'
            '02667b266bab69b35f56e1c12cdbc21126bd5e3106803daaa6c0cd7bac204e680af93bc653a87fae8aa6cc7ccfe8b5471deeffb3cfd51e123c5ffd8a30cf7aab'
            '9ada6eb3c5efa165f409a032dd79272fa495db1e726027f2d1fcc7c753ada07fb98f25c90f0731cb5c079d403d3080a747ad9974ca409d3eb124faa8caf882e7'
            '11422fbda5362c72e978e28b339e94c800d059cb1dffecf139cf2bcc8dc31b5e8eded74a73a5f317e7dd12cbd844b79e5ea9e2b81f1c5d46c6a584f2c0d58a4b'
            'd4f67e78a5389b56a5e9f34bf07df060fb5ebf61511767758cfc2683b1561f7ce044147a2a5732421e923842918d2000ac828156fcd4a666af901dd0086017b5'
            'a08cb500c544902b5487372d3054a5eb8c1d7450cfb8099acdb630ddbb1886c62c726631473703993496c50d5fc2154f188eeea2bfbb2b214e05f666044f9bd1'
            'c80f9227f425262e5d5843cc783b2fb2a0876936025f96aee12a893a589fd85d730e9fe62e1266830166ea7bdad2bfd66f87019d62ca29383426c515bf9f54ea'
            'd1f52e547deec5791ab72a24accd7d902cc5dfe930bf80512a6227c7e1a8d9d133e5404001bf62fdc79976ef9a061ce535092cea5edcc260174ff7d78b7903f2'
            'f16bc4d3e6652e72583196f0f93270759bfed4065dd52c8be5b468f244cdb2bed7899998f926c137c6115a258107c4837b929e9347f14fd1dfd0afb52ff5723c'
            'fe5cbf40ed3efeb9c269887a7c2f7a3abf57da6b7c4ffb283c42b6fc0788f2c81b67dc5c413fe99336ed6f8070f230206afd8c2a34d17321bdfac317938b3b6b'
            'bbe045fe6475516667d9d3a97153dc434587e15c3e5583f1051682a36a51974688a10dc9cae04d9664f05827a4cca9dc9c83bdb670761578934a1dafd4aec9d0'
            'dd1fda063a56fc13f0e88efd0c4e10652cc7023bb0ec02f75982d5c7fea5e4b2706eb300f95eb3e1efc699416b8778ebd251bd37e004e19397640055572f5979'
            '4808d4937130ed09fd63c200fafc2663a36b64bf8cf99eb49ef3677f3f72180f02196e0618c1e151138694e8b51cf2f92c9bde9d9d282090c212e2ccc21398a2'
            '63f49d5bcb2d2b6859526d9d1a99b4b757b13c0a896155c2b4158d757e50c793cda603c4c29418b6b3866d2c83018b4de62a2440d017ce30f53d5055b6035207'
            '49fb12fbc587e79115ae76f6bc7a584b1c06f5dfa73375a32d8a7f483b8123b61723b2c052b6499b5fad55dcb87660bf0a61e4175b4a48095cd980ecc27a6107'
            'a82d283b5f9cc21aa83764170d68955242440c63e6077ca279736ae536bdca88ebb10f96d238ff6b4e0948a33da6b2e472bc97cc2da111e9c4f48a0dd1701c90'
            'bd07e7a0888e3e35852b95df36310d4772e75d13a2425dcce6e605518efc7b09a39242ec2a63d7f7d8e1c63333e37d2e23996a76774150fe41b6cd874138ae45'
            '5d881f2381b163c6a14ace2b11c3493ccd8237a67ba529c20610ff4a38625101f8849751ddcf1d1b6aaac9a9abd80a61e2bafe072bf6b1e04f87ec9529935e87'
            '23314fb0f2667f2ad04e4efedcf8f62822defe83cbf615e459e21bb5326b38881d8b420508b7b809f701a95058617d66ce80994c158b67fe37cb2525997a7841'
            '18c7d386258fd0bb7117b876942c39fe544b0896212b565860ef0a160d188c9fd55af4ac5e90ad98b586831e922496f77865d276b544a502486d48d5c0beaa18'
            '2ca12e9a5adfe9f992799c87791b3e2bbd15ed85a788367b966706262d6c9647e3b5ad4e888318562ad7f80a1f63db75089937dc3cb4718734a9f70cd12a3ebc'
            '37f8066b7b98fb531c2b3dd2da7e84ab4cbb6ec4e282253aef6bc024b32e550219edd190d355f5da14fe14258d9866f37caa0640638ed73e205ff533d85a2a21'
            '02ba9ff4d11112add7caf6d1920284bca4b874d23e61b88712123de107aebe8e367b653c7cce6d912ea583282406dad49a77782508448579f7e90f805c99340f'
            'd1a8b000a213ba59900ac1eaf666fdef0d3a247c9ba68e890a35bec570771fedf2219364727037958ad0b55873524f5a81ec83237be2f9af67d6599692d86b65'
            '1b370bad3058791fba8079e6a8898344cce79b98c8d4e480e3ff8c2e23230c4e63c4c1513439c088c303118488ae78109561854af1f9985d841015a5270fc02c'
            '2355ffa6cd13b5c33fe1aba5941a3cf198d3b59dfa1eef70f39bbf6da0c2e6365503e4846cb69e95269ab30ea273abd6a92e267eb17b6ccb86bc6c7b3cdf57b2'
            'ce2643928567666d4cd92a49aa40c62c5027e82b3e15119a3e89ecbc8a86956969beae94d2d7bbce3eca7ac52bcc61c40402dd76f61114865987c23cc1e2e57a'
            '68bede88d70c583393a895c71489701987d8ee55971762f233c1fb8e7cbe5ade4b32fb961627f4a592c7094cf2561aaad7382f7f08ad66b7288c96ab801519f7'
            '5b68636ee0cfc4faec5bfbde6e39c0f1dbaa270ddf4356f3f8b2c435e2abfb2ea7c3ad4c85258dab393d398e1c940928036cd4d5b35433ba585fd9eef9613140'
            'c8bcfb5126c33b8f252a51ca930778437628b696f626a4133a4ef86c85ff2cd654d62057427be939a62de986472ccb95e1a36e9394d8198abf7595cdc066dda5'
            '42034022a030ca0c6c3f68c42c8decedace36a0a94bbf183f99968c64165045ad177ad5b5e7e82a188275a53dfb1b466d36f007e1c984f73e5d87f5a8b139cc3'
            'e62a29099d8b737f73b34c482c3f685843d80cb82f9ae6379c1e8f7529349305d389e5adca05485eac79c398f865f1692886f3fe715453821ed8881bf8f1f1f4'
            '168ddf9d03f1bd4658be56c6a34f61635db460d95148cde505831a33a38a103c78153eef2726fe76d786c36006ad87548dd74c284bf2dbd3013fde799604fedd'
            '1d9343db05de8636bf5b018156017894815ba5ba5e298f67be72b3575d8d1089227cbe06ee93708dc8badc2789620ece9ebff3b85c0da78b1b2eb2709566394b'
            'abd0cccf81d1e08c6664fab5991fec180a837224a2f96e80b272688500ea5b72c597ebc425eb1cab8ad9b0963ff5f256ac22b16ffa648e6e5ffa7e2982230690'
            'a3430191c8452e036989a07cea2fe9f7d62ff0f0e920f6930c1bf67ae9af667bc10323076616894f89beed76db85bc59cc13c41c94851e0bfce5d71192cf028f'
            '7e26df3319564e802ab58d397e54d0716cf4ef5547bcc8be7be753e000f17243596f98aa58c067e07849619c96a5c7c620198f1929120e5388f474232c1681d8'
            'fb142506856cfdf917c3e4e66e0291507b9067de62219216ead688999cf5b5ae2da6615a9f5e27b7698338734e8cd9a40cadd6f2d0747abb8d9479cf24515a0f'
            '5a66208986b1f1985ab79c5632a5c18f613706c0e8f31bae025161ec30d78c6328180b7488935a11c8cc825ceb011550f38652c21e54244beab1d158fb84ac2a'
            '52c3bee9eb5e36f7fd54229b3f6f233a7d8dcac741fed56bf474942980c2cf81c1028888d38ba022e9487784894659c889f9b92c250a6dfe28d6b3ef5dae7afe'
            '096f49f4b69c1a22d06face3c912fd5d9a5450936e23e82203a5e2d9141beb4c420956a84ad8da12b3761f293f617053e37d3db9d8cd42d82a0a126db65955bb'
            '1ec84e24e0753f4c28e3155ff2f689865ce749f9e89fd096b14fa812c4c0c7fd0fa5193de70241062cd5e1c887b6bbfd85ad69f9e4e55181694b41c51fe50e08'
            'd4c995be7fba63f7994d262bfe3982cfda6800a19cfc682e0536634d1f1bb9b9d6af0d8e11c11ba59e570243b050cdd40463f014b5a841821c34afc943ca3e39'
            'c22fc2d6af8b0529a36c37120095587c4d50bd54c6ae4c4a64a88b275f5dafed2e4634cef59624c5a030ddc83007c74906d398a72c1b144b84f7b1032a399a9f'
            'd42bf9ae21ad30c0e1e578f2da653ade87fd30e58911fb8cd93720e21d3dd2877d320d9865b08d1e423c5236c1613b2b4371d40d02134f8bb1ff69a42d6ad92c'
            'f40d5c0062693277e8e7f3c367b188dd73fb03f0b3c1b63e8d9d3932ebef415917bcd6e0c076b738431285e9b4da8344cef2e4eac514ab635eb51aaa3921c6ad'
            '41e93dfffb429be4cf994a3ed30a1365c7902bd20d4fda435f1ee7482ceb138581dc7d50032045d7d6dd44c5890c44af51c147f7798edae214b60f2d3de0700f'
            'bb24891bbfca3f6d05b6d4fb7a3d3cf915e8540bf710ef760492c61ec9d4f3af6db35b87151e528b3f806100657ccc37d09348ecf3140cf46c3463be1e70c7d5'
            'ac594b34639aa1845b38a6c23ab3bec316498679a0f90b76db2eaa5992f3866715aad377551cdcfbc60a26719010200f823c4ac9bf77fd73d0f75374fa1f8d3e')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
