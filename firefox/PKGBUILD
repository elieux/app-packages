# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=145.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('6da83bbc3ea3758c334460e283618307eb094ee44b7388021d86311dafb9a779162e68f1dc54e7a56e249fc1cd2417a04b5b50eb2e5bf2a01635d6566946a38e'
            '6f121957ead94b59f1e908f4254bb975a580c8fb085aa9f3317f0d22ea113eb58848a91ea954da9df825eec266c496ff22cfb18789d82fb5b6d14f472244c4e2'
            'bbef766a8618002ddc28216b1cf57ce232f10b946b44ab8f4f9ce46be3755a5620233f9a04a5edd27fc79db35c4100441a8bb98473432e19c317fd5dd419e467'
            'd81359c4198a1278c25a4351d033134163ed17dfcb91205c922235ac2c141146cb817b348e1925129c87cfdb4acd3e575c16b6f74c029ae9ffdfb4916e758d9c'
            '707d8d28a7b11cca6332336ab005daee833ab0424ace194fdc174f15a360c92bc499f1ae26e29d21ae582ef1e614023ffd3fc0f98d530e619dd72da7b2eba40f'
            'f03a34677b9fa182b5038de4d4df920e7df5df89a8508ce4931c260912e3e461f887d65d0cbc0213bcccfe65ebab02cc6f11bc9a9264920704825f11e5f40cea'
            '5b0d7a7b95242595114756bc12f1fa7201303f40cae79b04e76628bb7574f425343306f8dca97b56b165cc74eba81567f95f350e731f1a18710a404e40455f69'
            '8a3363659d01fb9cf2e4507791a84b354643ddff84a65a835fd939cb22185fefbfd4b6e868253a3dc69bb78de5ae68471f4e0029df5f0694b1889bdf5dbc20d0'
            '429c8e4414a70b2c79beb3cfc567cee71347e6d586041e9b19b6615fc72f25427dbfb6c39c51570385de9634cf8038df18afb61f6333a2314d4a7f268ed9c6f6'
            '36530cf8ed4947f0d7201179bfdcbc9f774d3cb0fd05093cbc1ea8cc138ed8ee0c4fda65e4dae0f5977bfe75ba1976a26de3e0ee959bb02e95a3a350f5773dde'
            '919d032ded6848224300fc8a179223b513eec6dabb1b8aba827bf5cdba078a93ad55933fd5811918e998fc048cfc62044754ff85f6a8a6171e9de1e53b30a92b'
            '86a37dc6c9aa1c045007da6bb46dbd91ef7713d57c403b5738f7bfa3877f0d1f48857d74b958d4c5048817540a6cc4ba2273764718e4de96c3b1fbaf1e02662f'
            '3c8ab4c18822da1f35e7790fd721033f9fbdf2726e9ec73cc95166987a85993d0cb9a0a3de0ca1063326184a6366f33ec4e215afe0a7ec45902097ea2d296b91'
            '83429d36674d4f598fa9824f493f8ce4c0b42ad5688764a942ab040bab368a02fb50f8000aba9a5d500bef61ac73aa2a721f65586c8410d3a7cfd7e7e0481f27'
            'db56bf15e309ceb0ca19c64a51e81321aad380db8c2b95b7bea68e103da57d0d5c62374b5a612be24e371ff801cc01bdbec9f42bf1336e6b7518aa32cd8d1c85'
            'ca0c1a072d9e1655b8111ef8cb8552d4000b20aecfb4ddbf0ad07b08273147f832a89848bfb71a08f70a4d7e72f3094a5967fa4469897312549bef1219f5c306'
            '32f564ce340b06329e0f861eb855cd75ab15f586718389808e75cd8368fdd59d1d7e0eb60b5718b39660c62769ab5e0d904c10f885b8704cfaac278fd587f1fd'
            'b4ffb2a1a3e23c6a76a8ee44be04117a1675d6fa11e2020f8582c232a773030f6d04c22214be052dfae86f29cc7fb6592d64f151cd430ecbb343209aaafd3138'
            'de77455abdb83e55574556180bf8cf67c365e8d281eebfc58a383724bf19d87943441fe1b07d5a081008e1ced4f9213cf5ad38242687ae5c5e884ee75c949d74'
            '9c6d275b7ae7d34992932eba41071edaf7b03ba26526886f5a2fb92c6f4f17a469d91b25bbded62d78a35c055d63f8ae3566eb313c8ccd08c100e4b9f669a417'
            '32065ebd66bb9ee813f9806b8c0c17dd9dcecd259ecceb85bf921c4dc0f3e286c6f5de349e983ef7d9ed21d00c24cfe0a453498f522b52172a350df5873702fa'
            'e5236064e7ac784cacb48e3c12d3df44e10d956bebecd80563927e0bb3272d6878e3109a4329a97350a02d4180f233141e8368399e82c7c4d1ebe4df385120e2'
            'ea8d34020d3489f7929063455c23946cd4a7ba0dab91a633bd4b3db54cf80030d7b63ec376fc1287e8bebd84d13e4d0fadab9e707f8f746f8bed2ece4f87c833'
            '66d5c87b332e5b3520b5ec870b85a7a92226b9eafcc4b1e5a06d93796c91275156babe41b30ccabae803d3a1041543800f3eb90ed451c8d1d501deeaf0409067'
            '8f5b4c3148004a1c559ea429d9c1755b2e850a2693b602cd85ee09c439fbc67c3c7731a4414edea196066fe515b56ab19e563ca6f8dcdcaeacb3b7008f20902f'
            '60ea8db999ab19583515fb9b3947fc0fbe1b23bd84832ffa1256aa248784ec118ab7878498703b2db0b46ca5b2041d6eced9192441998c93b908ae0c0d7dd921'
            '4253d95a6e0da63015ef80cc07d584a7b58bb86a9468bff8e95a485bf520c75a7dd00ab63aae93a30b1d96518b5f130d7bf2e58054612cba05376cedfa827195'
            '79eaee6a6918ab396dfe7122f67bf88dea5c0a3464c4f54130485296326e6a6c11ba0750eaf5c85113a5a5a0e800f48764217031845d8e5bd7578263faacf70a'
            '59a353993d3623bdcf50de2edeea74aac3c42c3ecdfbce120b2bf97632b0431aa65e49c5d545a4d35f4de5dcc0068893875fb6c2994259b860eac97369c151bc'
            '0a2c2b8f8984e344db1fd362852a85bb251b25cfe6b98e94dad6fb23a8c6173a1f7de9bf1975bff8854742c04e05a2908ae1be6a9305dcf0b4c6468c93d45898'
            '3312ccf4854635aa2f44154a71dffae7b09e2fa49a9d10a2d6a14dfe272c9a7512730063c5ae35eee9e2d7e59d4b1690e92173bc6702c944b45f680e74784ddf'
            '45594c00081f45bff668ec4095521d9f248f4b904feb313d517b5c07d1754d096401b054a3f0140761b77e1e6c65c851c6045320698dddd6d4951e6962eedd4f'
            '7c61433a396e9e57032c8f257c4d8191ff7f13918f98b5ddf6e8524483ae68ca9bf908b0c5b8cae7f11a688b9aab98b3cb5602eaaa59cf1f7b6d67ede757245f'
            'a254ec6b3148cd4b7b6c17427f8122927aa61618fd9e059915f8be6afe0c18579674a9b6f955899da1f2f91b802e136b3f11031aa9ef2299b462c5846ff7ab62'
            'f4fba3af69494a2c71bd63168ad6862c8bef0c60dcebefb5b1f95eeb8c4e1136910f57b5e0be63cee2591e4011b416e0fa516e6203e2fa18a113f2a78157f872'
            '8d72bb5e44e454552cbc37f10946f858af8282aaaa1365f31d8f8cc69e049b6499c6b06ef6b624581de4c0b246a6f4764de647247a63b7c6d6d088ab6faa9336'
            '897da6e501a72a836f8eb25709eac7c2f452523988d65c85267b699917efcb3ec8e1e5f721fd25771d934abd69988f70a183835a18d6ed7c74ba366ecb55b4e5'
            '54e7fba9d252cbe976b15bcb440784099558f0bcce0d775252e47137e693d572361ddf6206d0c9096f9ffdac7ce419a93ceb5894ba232899141ec1927e9568b6'
            '66b35099bc9b382e3e1fbea3e5b25569067ff7e467baaede61c7d36092865d1e4d35d13995af4cb7d7b79036bd20a10091a2332037c30356137073ca19d3a95f'
            '42dea51da086ca984b055589566631c764041407e6c37e3a524f8b5c989b596981cf30ecf7498cb6f8ecb639cef0469f86fc2ddcee4ddf7703c7d21eb1871fa3'
            'a180b47829d58e1a83af9ec0dba267336a1ccb8844e6a45d202bccede641b58124576b997aefb8aa85b54193a73b4af7aff9e20bf49d92fa1bed1eb63d05d841'
            '20464ce5804f26ea4c30d3cb8312ddfff503c3fbd7e911c9e79d1356fe6d6272fd4fefb2c8d74af0df6a0e9c0fa4ca5c47ba061d5f2d420ed9ab1f24fb1a4ac4'
            '77ec97246539dcc1985b20aa176cd3796416299e894920b66886bd3ab4edaf7301317096ad336a249b9679dde81d0b951b28beeb7ed23d8ac23b3ff65fbf5448'
            '6f967b94b06c2ab2c9d9ac3ca99a987a1d5543025dfce4677c4881fdc6e73e77090a7884459a9239b123f8c5fb3093b911e54bd864e7e4aa8c8d167040ba2324'
            '9a629a1db448a0cda4e85a0e04d8a9e697ffe078cbd2ad6294f8c60618b9df7976690418bf5670cf1b144277f43012e1f73c94097680f427e122d6f18e188a21'
            '5ba3c61d85490c2239db91fbad92aba8cc43e0d36a939c4e65bdffb9b306e5230c5feca3e208b495c133f45ee38b591961cee91915d51eaaf19cfbc4dc298d53'
            'cd6598ee605c97bc22ab354c1041a36d1daa38fdd00b9ee640497e06a16eef3c4eef5dcfe6279e4a5690cfc68171ee399f710070d26824e72c61c6c65d749e0b'
            'afa34a6cad4c55d976772d2e869234b08ce57a0d9e53d500283d7a7ac45c7eb1975d41949a2bc8d1a41b54ae682f850cd380c5ed9512b47c9ab36646f6c17954'
            'd3d6c8f5224429fae72982090319cf9b6d4d564962f4d81ec31028117928ef3752227cbb458ca8f3ca51b416972276e07dead2f84ba6646b1356a516171b3705'
            'f60082ba4616cd8d8d00f7a7bd63739118893c83db983c67a517dd6f93e2a54b8a4c068c7e8253771f6197fc3d122847898e20d7bde35fa092510d1a8ce63b5b'
            '296f004d37d13379917b6611fa77079e8a3d0a0d04db2862107a81259a636001204e210132f63c27762a3ab72d216907a0021e7e3085abfab36e7aa1adf3a063'
            'f0da59ae4346eedb4e889539d36cd0c10774929b866a28e89cfc8506067d03bd77895c952b48e305a9e49faa21ac4213d94043b4598603edbbf3265ecc3b5793'
            '08cb8478d145e1cdd48dbb743e4644e1b1d0e06166d86ecd1d8b912cd8c2f04d88fb6bfb52dfbacf2d7fe895d017aa6d093fde00d230d9ad761c476ec92e9894'
            '64a7e266d0a9d99fa717981408835ae3f614d0dc0ec1042e3e0f44ebca66c0094e0ee1918df1e0226f070894b1040379e8e053a8160dddeeb37ec54473cd595f'
            'a1790b1388b2fb11e2f7506be443fcb174ee98679220c71d6f12783e23bba6efc6fde1bdf98500fe5b37539ccd50ee457a12b8e4a64bcda97ea275cbc3b1f77b'
            '74897d2c0494e6ed6ddfb63bdbdbfd2ed8af48c4c44f8e7b829d7378053edac1e2fd1a37eafe2d0491cb86476d7bfe6d85fe99806e488b3b1b1c4f755e74ce1b'
            '0cfbd5427590f2ecb8c0b8f6b1e999a0606d3fb8fb97660589eb50b432aea0bc963e67d5c6e3091bfd5d308293cb64bb66531f470757d1cafa27c26745741c3a'
            'a2755e6adae3ed25b7e67e06264ff92504e8e71afd5f901904c5617b1d51aac4c0f700dcf4a8154792595c7b165b4d115a72580136d5d383c8ab4459d85bbc6c'
            '9ec9149ea2c22e805656f2765a23c4788cc3d3126e2f25d6ce4a76649b9f01014f54e5e2e46a43af153c4b816f66b9de86bdb4d9e02388a1b35c942bf20207d6'
            'e781dbe01fe2436cc71f25f31605c317612c7b20561af87406f9048c681e528c6f4e195c3b006017b516d175d07418f88dad8987a3bcab8a063235a1d359f2a6'
            '096577e1b5e7eb8a8c941ace29f7fde328bf036016b84c95046de42c96715b2f19eadda4cd6dea0e4790356e09ae9986fcd5841615965583890e9f2359f29d79'
            '1c7fbd4a3671955ecdcc6a1f8c4c6337417d362365ad4851e13d932281524565b91525a0a11bba4c8b314d30fe71ade1ec30a0ef0a935b8e6ba4f2a8ee2d0866'
            '4ad82aa8a20ef9db4b1705e6dadd95a5d7ba0cb8ddd410e41b0c93afa0c2ad3c8ce1a8b7d8ed932e162d0fdbd57e2cb4429e296e7051ea814651d943b20c25cb'
            'b751b3cab764f9b319dce75ebaae5a4e9b40fead2c28294935d80eb7fb49e7024c77cd2f7c6311b17325daece9f6968702065683aeb07539de58cefc368f4f0f'
            '16da729426c21550a4f1aed303618a2100cdcce61ee63e94d4bdc00f997f367b01c1f1a48a4d10313add0c21c5976fba0a4432dd4e21ac3df610c6d15e8648ae'
            'ec39d0991ded27f18c5a96a58ad8dbe0547ede4fbea34fea4b8ad90e4e8bf1808f9eae2bfa7b984a8330af30082ce0630849d2458a7e2b96bcbe340b758180ff'
            '17b0fdc84b66b235ece635a42304b2caf5b7d4e722a6adf80b7d0a533342aa0f3a59c2b3b91f38786da9da846d5a091ef1c2b2c590f0618a44854159fe69700f'
            '42b1684876c8a59d0bc739197404e6096e901f336e5df591d2c4f4760843609c5d3fd838fc3cd394aa7f9394aa1a1d4d8d5a719981d973e5414f58278b4a789e'
            '5a2aa5eaebc02d6c99ba7e31f424f51b431c4c56168fb5288c1ba5615a1114660985d502eef88bfdbb86dd184be676ef373bb2c7721a5e0d29f4763adcdf6cd8'
            'bd1ed975e112c9e3a538cc01d349ad15a9ec4eb8b6c3c77fb59534a783fb47e10953e5e8930824cb59ec71182f329aa4b5138677532309f429e2e28d5bb5d537'
            '8886a7c7c2159490cab421b26cc31a041ab2a4c5a91c285e3ed08c115068bc1e59c51c2a7dd4c6a39a942ee20e87275d96cb05e86f5474506b3a6f3b181fcc06'
            '1047a7409d31de1fb07f28258f31f092fab630f6419ce1be8201985c62f129aad4f5adccde9b82134af045183509292e74d73bda547fa9f78b04c776211ad947'
            '2daf05e848c86531b349c1efcd05756c745b49e622ed66063aa60e630c7123c2ef414d313ff566d0416134cd5a29d000ba88f76d65deaf54d0a21f256ddea8ca'
            '24e69e25537e446caf097133fcb23222096bc61f7385626452c97c8aa2c8e489f28fad9fb8b77b432f457f05f469ef4b7e2454e06b860dde1ec6638be200ccb8'
            '92f5101203c40cd760dcfe8ce33b3b92fbf4c16151503421288b5a15a4ebf483cc3cbe15f0482d91b6f1e8502a5dc587a265d70a51da3ebb1cf962e638ac78e3'
            '06979907d24cd970a4d8712a8ad91d75e91a0f96cfc0133f9649e5881680a522601129c0e6960b620f1556485b3c79b23bd222d922472fa0917270e9ced82272'
            'e2434a58de2d3c743350c0c493bf5ab5e2f8d892a98e037194572e63bf0e01d538dc99f30235df3026c59c99364dd94cbf4d431dd7b25f68a525d4c57808627e'
            '5e7561cbe3eeded7f13752885ddc87d7c96d16caa8f684d398a7176d05ee118b659d1a9eaed36edd46a55cb3fd13447bd24325374a00a7a5da4b22bd75335ecf'
            'd8be9867767176a6b333b9aadacb56c9ae5bfa099cb057962d1b44226fb50d6379d7496b27ccfbe1f1f4df17aa16618618ca630dab52c868a635c0dd8638035e'
            '92ca2949e4b973a3964fd5c4a09e68a766961fc82e69e603306038ce928ab0a903c90d43eecac044f3494b91cab1a11eeaba0888bac1abd8938c00c2cd58afdd'
            'd402e13600341d4433e4df25adfe6635a338afe0d07c1afc6b4cb95e1fe2dde1057ac03812683eb3f05bf460908757100c52ee3162d2846b25da890ae7679301'
            '149530ed27435ced2219559ce76fcb639e76dd0902926977edbae81f3c239fec8766d6c22f8a042bf01bfd5ff579ec2817894310cf6857c1cc25955bc7f3f3df'
            'fe253c11efd5911c847151fc2161d7600f5a9fb47a9b4ef27d348c22ffb5b4aecc3ee68ec880e4f169666877e95a4953302ff861f7a462d8f3588a93551feb4c'
            '28d7d60f20aa4e5a8618d83b23a579246ed0818f9c8859eb33439bff36b9cdf2346ad01e1405a09a6250d37b9ff1996b58d8b6576e07f8af368efa31496f57c9'
            '0b0c28b500804e1fa5244f4259a6da8d87a9c115e7b5e752bbfda4d33ddd769ef7f61da014a191712cbcf94857d0c519be603559c658b4dbcdbd294350462456'
            '98ea47650f3c6432b32e17aac9161d268078c9a29d870df152739a29b41dbc66fa25f46cf54d577fa7a11269b0f9710b2ac32f14938c2b4551d7c5e1847657e4'
            '82c5f9ada41eea1e9b2562bd580e981b1736aa890a4fba9e70da5ae68fe05b63b954b579f4c718cdae808592d3c8f5c8d48e6b03e3d7946e3be089ab256175b3'
            '65869bab90518afa758dcc6a88701cb56922621dd60e44086e4d1ba4800dc37f068502bdc588cf7b49dc7dbd9c7bf0e05ddb8a383a69fa4e5c626610215fead4'
            '4cfe9734e5ba885690eb38bd44dcd106bee0b8e21bd5b62c9e8b36d82ae51c8a2d058183089975ae5ad81af504cd41f6803adfa4ac72f91cedf9898446a3de63'
            'c41fcfb2752c4fa2b001567269b2bdc6e5979e2d30fe1f7f46b894b4680e09242c4ebb6f6fd9bb3a21930ff1ba56ea67705001e76aa63d71376acfeed6c34883'
            'ffb0f724c0221ade750db983c9a2dda4e5ca5c716f699dba8677f9ba907bf38ba72d7aad0ea17eba3dd9b40a4b72d80b321acecf1de492d592d51fee8955c27f'
            'a3216121b1848895490b49e1c38ee1e65fe19a8a1fbf3ddf99dd15b3624823fea62ec44c0d00fafc3ce4f78e276f952eab7889af9c90ceb2444dc1a9cbf1d66e'
            '2d7baf3c592c034389546142ecb7fdccd3c9c754fa82518bb5c345222157e47979f3841ac8561cda1cc1a0b2c76578b44a12cfebd1ccdcdcd453c5996a7f43bf'
            '050cd37e9867967584fe203ebe72758700955abe64813e785ae055957dfcaef469a29cb5b4ce4d0d1abcf36f842dba5c34b37064c2d36a33a7b499b7a5629271'
            'baf789e02e6e3036b520fb769c7f7541f909439997c5b726bc2468df31fb5aae13b243087a5c4ba929caf70ee92662d24217ab26d11f0cdf623d23548787b8dd'
            '3a9ecbdcac9677c7a1d4595e39d203af0181057b4946317b9e397cfe725d2cd11e3bdb2a0b6643e57df90bd1995e2d84c7516dfa70598098a246aaeb602a5d2e'
            '4d764f1db6eb4929d241d23dedc24f00769efb5c832654527f74dde452c84975b290c928fba136bf92b1692d50ea0552e5ca87faf4730e38307ad2ce46c9ed1c'
            'a68d4629be11c430e96bca2079473df2c7893a276ee9becf36e0989b0d3154c5f5dc0c3ad0aaf2adbb2df23c3080a3d99da629868d358cfb0ee6a14ffe1ae655'
            '13ff16b70cf1cce870f575cdefd608f2ff979016699fa2de5318d2a63e54261c011b88be925b986157be7246ddc4b545a8a77df636fc2aacca70cd66f86de88f'
            '56886a8435328a8a9dc126071a9d5fc6011158bedb3b112d490656074c455e863a3601230cb691d7d21a7bb10ffed41916d85e0c3e855d484194dd04b2223d86'
            'fbeb73cd51582d666d024696235760ff7f3acd06d3d0e60857ce5e5cb26a9c1cf4d6c79eb78f9b32b1312913968f726fe42f05826a023b5aa298621c2175935c'
            'efadf4784c0ea4a3d4ec06b48ad25d1f64a635d3da1c0da171bc60e0702a7201b988dcd8a66478af18713781b59be3b762c0b6102042829ff17609ac280728c7'
            '916aff53a92dafe188833ec33d35b184e3343d4931ecc07c1e01f8d53e8d910b358d323d2b888cb21eaeca8c5fc253ad0ecc390796a8ac3a00fb88cd95d64e2b'
            'c6dbfdaae206199fc2ed45e052a555d6f3172dea5c54a04a9108fc3674dc645788e83d0f4560288feca49fed8cf28f2a77d19282d0c6d3a7ff13dd450ab984d9')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
