# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=108.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('cf917ecaa33294d5ff43ebd1b1ebd70207a91c484288a1b8f06f1f1083e7ae8ccf447c085a5a2ba1aeea82280c1860efccaee3d612446ddaa4a128f5814c4b9d'
            '635a9ac1bfcd238adf4bd3df25435ac64eb58e1224bfe9da41723bc1d6f918e74c122818079aa9a84c55964bd348735a2325fbb1dc5a37f33d396627d056eed5'
            '27388512241e7057e1d8459fe017df43173f34fbe7d23a2c59fc2062a4cbe7a48026b103661e8026dbe82fe86129446020059fe822ae935e0f21fb7bb5a9ef80'
            '269e5198d8e20d3171714d0e4180baea9657220c0a46f1f83ece9cdd5cdcf94fdb6d9e917f5b9231502e313a2af79b3de25be5d8dc2d9afa0cb5b6800d5e1591'
            '4830e7ee72f3d631efa8cfb41db1cb07465167c023c2ea2ee8c5b7902891ee46684a7081878c1656164af69172456fcd2a25e3ccfef4d06b4e7cb5f8fef8e5da'
            'ad43cd3666c6def3a05fddbcd4f9a0afc6185e0f629d24eba7ef24c5174b17e1a37f164605365124dc91ff85894d2dcbd68cc5b5f35df881dacfdb9328af0c62'
            'e1a8f7abfd5da8971eef050313d881721940bf320345e717913df24a6b745f7f71f63b51730ee00aaaea4941b8c775f2f114618b9e5e02c1f812fcd6cb923b6f'
            '06169ad3e83375c6b9fea9e8bea73ab2fb465296a0c8fa9fddec8d0cb846baba0e8f8cf8214522c6d685365de187a067d43b77aa3b9c8cdf0f18dce2dc0a4884'
            '09a0388c3be2bf1f971baef95a9af35f8b6d01bbf9f02efc1dd19c0d7a012dc4c094dd087453844b6f07f1f57ff46cf8b8d430200888e872f38ba386932fe435'
            'a38514f09f84cc0dbc6dfa994402e4985d5fb4a60034ce107040d46fbdce554fda5ffe85c56d19e1bd305bc082f73e9e63752fa63263e9f4697dea65ce72075f'
            '9873bca1adc1345c93807f60f76f8ae383b751ebac1e81534cb8a192986e8da106cd29875102ea3fc2e58794c9de21c7bc3df0f679cce451ba02b3cdc9ba7395'
            'e789c445fc5a694955ac147a9d956bb6c5b47c2b0caa09dadf02112478cfcd6d8ccca89b90fe2c24201401a212e3189951207e97a58f3b2f2e21f832e35d5f07'
            '322b4765b17f2e19ca79c96fb492986e384d054068c4425b1411444763b9b07e51fd862263705f0a472d860bc445adfd89281c0a39c4005da043333f88f7eed3'
            '9287167e2c12c4626fbd430e4443f9df9c8841c83eb18923020545c4592176bd2c4965fad8ff0fb1743fc6621921ba7c4d9ba5432eada6f0ee50d8d379b7eebb'
            '774e2f113fb894ef926d0bebaa901d92a115aecd351bd20e15fe3fd265cd90bd9d3fb4fece8c8826b16e2a7852b937a9dd5c0dd8c4b377a4397017a6abdf3518'
            '5e0104d424091d2463f1bbf43afe73b012f52c572beb3a9b5f16e23ca3718a52a3f7501766288c239d16df90aa239c8f25e2c0079548e479242f7c84d5b5922d'
            '6f1e078a02eda4197dd1291554b5908fc624b63f6ebb454ea6e3e9a71e1eb21aa072908b6f25a22a706e2ebd27fc7af80c30bd4fcdc1d8fb7e01ad67cc0c19ef'
            'ebedfb0224fcb44b7bb070b0bbc4ef9b2878b1dc063639af65275a7c4b30a71a942c5841226728b2a30fc51c388c2046a02796a2e0cb2992ea52c6786507a27d'
            '9876230eb6f41ae493561a34b7d5f05f2b6d2dbb7510807d12012038f1f09fef71b58225f34092521f96d56afbe0aad285bc9e6cbf29ec60b06f0a3b1a0cb7b3'
            '407818f1ad40d5c88fbad121b3a4a66070a11823e8445be6bba4d0f16cfbd0e2a1af652d409bb19c5c3fc1979cf47d7ee8f24d874950480a1307081c55759e09'
            'e0652bfe6e5825f578b72eb713b0d98fc4c79e13f0aeba827fbd99e1f9012f23bb3025afa75aca541b996fd190c7c562ea107a4e3f17bbc42127ff3811f8a84c'
            '40226451860683fd9f09f4c6acaf1876ef985d92416a719b25e4f6177d9ec0413780ba541be961b84850f27d00d5b7576e8245fa2d888a68362aeb20f9ff2110'
            '14a08c3c9bddcad101a2c8ae1dc5d9fcd9b4c70c69cc428b639d1c21731e6f611149ff65a5639e7b64762feab49a812fb63eac1e1a17e841270c76aa9ecbd83e'
            '42af74a054971f74b1829564242c9e7da5369564b9bbecd4bda25f3bbc5dbb1ca81d0a595deb9a65542af0d706352c2180f7c74abb5cb1b088802a78d84bb859'
            'f620ebba27a2a0b93fde069c5985bf236473859cd58297d4e23e900bd61126722526cae2626f2feea5cf0076bd6df1bc3310bf21e0de30273ca22631980cbc92'
            '70c22911d61cda8269a9d6f29a99534cd224bfc9e8cca66facf706853af84ef0086aeda89e09ce3b46b1492f00d854924accdea6ba7252ec887532e9b616d622'
            'fd3902e8e2834324a824a7e267d6ddb234b1e965f8fdc3ec3b1c4c53d1440ea36db51f1d2f2ffcc03c4c857d8184681af3c78c3dafaa4530777e142bfdddb604'
            '59087aaa9a07ead15a532778723661ba361f346a84dfbe9d9fab253c6099f2c1d3d20f0ad0ba904883c0250073065ab3b982b9eaddacf679cdefd7b06c8e1879'
            'ab3209962ebce29ba398660c3a84abd1158583bb647318bd913342b1d16aff0ef68b74b4251d617dcc7d2efb9048dbcf726bb2e30876429c8e2b9c921b482741'
            'd9c413571b2f2743e37d53d7653fef13b419dd9e53f6cb423b7ebc10f7cf3efd72fce921406536954892605c387636f96edfc4a6d7640d7d05216baaa2e4a05c'
            'e58014302dac1aaff2cd43c623d3f0173e43671aced27ad5e600d9f7be25dcb7880846ab24335daf970292e697ea535b4b5e531d5edb49eb524e30100131448b'
            '489c73d8fd1576b7070edc3ef35c95ac02a7c359a5944bad55a503178052c160608553bad8ffad93c4ad7923a6dc904e576051c7078ef52ad8d9893372027153'
            'b56cd975b5f047a2c986866db0f6d7530fee66e1c5433d6581e9fabf250b5faab5e23ae5385bbd0eb0f167727ee4ea52040460fcc6a0a3f86c695b31fcfac148'
            'c6eec50f0ee685afabc281ca04a405064d2adc94790fb066a5ad850d45fef647acccb0f77de3509aa8fa9d91a0ea1e3d446cfa60c848c5d15fcd321c7240bd9e'
            '55b3a2f2fbc1f9ed5531c572e63f4d2923202ee3eb90c6685fccb5714c272b49cda8d546078ac757942e7220d7bd9e152005df5db93e5a43e72d115b13a8b9b5'
            '4d3091660b3470db3d16ba125edbec4d67d86a334e2ff5edec3cd7eb53d036f58b8d675e2f681a8c19485f777bbb628d8804bd54b4f7fa49b583c9958a8757c0'
            'e08298dcb0d3a4073791d0ce970598c59891be453f3d5b66f6925085861ccf053ace6447000b9c09e26d1c7199bc942b6c29cfed7c9643732f88c633e8b93110'
            'f5b0cb9286c37dad2e71d541b49bbcdf8bfc4e6deecdfd7aa7227c93c42b1ec177242c95e2a5bcda6341243aa55617b924e6d0ade74bb97bf6b8d42c8052e009'
            'cecfef1e7e40ff907063a1fd560ad2ca79e2e88dbf696c0a9d473ed35aa7f101cd9643dc1bdecda797f7552f35477dadf6fd9112da7aa8a6d34899e0db6951e8'
            '6dd617956ff3a720217adfbc2784015b3a430f8687877604cfdcbdf39ad5bf0a5d5363073756fb4cdf0984a3cbc7a6aa1e17c67a2259a06daaa96c7de2dda765'
            '34d3b8957ea4ac0d7e1a22a9a54b35788382184a556812ab799b45d9c634d34bd544402830651813a88061aa9005ea6fcfff2ec5dc84c31df633b8926c8cb662'
            '79aa5acc0499f4996817e7340737dcd8942dd234914713845ecc8653884e2233eea705ec2aef2989953ea02f97be044f49c59588480c95538c0e8621fd265103'
            'fb5009f2bad35b906c09b1331c261907caf26bde81f2eff74267d2930a3c0d5d3fab1db0ba7f6749cb5e57e9fe9f8efb2c6022cd9247f2a2d95fe08ad1b8ca40'
            '946bd5891cc03ff2575b49172460a5e7aaae6f8d46b6a871b21fe83c71b0421546a095a1eb3d25b4ccb139c7fe96286036189dc37a6045640a4b3ecc24825c3b'
            '6be0d3d833656d5e591be93d06cd84c95a7d8dec3e9ec9302177dd5cc3fffc9d28583c6f0bedf0366ad51a7828382b1cbb3b9f82e8efb61b95643243f8b8626f'
            '67207ab8c4a6a3ead43699e19e952a1fb90fb8b95de785faaf3e479196034eca3c6a7311640edc8841a4c440b40dd517f148d14c4ec439a8bb4e729b3c1ee9a4'
            'a0e50cad6f0929597ddf168c42274186fb0f0dd217b652955b0681c87d93d7d30c52b4f4800c56b7464e2abe64498760b8195c74a44c600b3a57360f6c589cb9'
            'fe5b16c833fb66583b09cfa79b7adee82a399d12498b77b87e0a84b6c77e7f648c9ff31c3d2d16ae505f82a2f3d93b04a1b5848e4822f6c2042730b88208c33e'
            '504394c78b5879e27fa7db57f906d86f483a121bc3dfc307bb788d31beb7040e2a9ecdb1fc06d69f253859360782e683be82ffa2884a97ec83968cfcb0f8f396'
            '4c8b277dbc64b4cb837ddaf2e28ff9f4b748936e1e090dfb24df3b3b89dac7cf4693a5429b4488129ba7dc8fc1bc0c6908dcd810c84e38dea82d44fca42f8a01'
            '14f8653b1c9737cf2cd0af7b0c7b7f9cdcce8b2114fc05a7150eadff7311b9e84715565d5cd87bf4a894a1f6d739527117fa7989fe10ffcb5b5381b7d86c542a'
            'a52c921a48200a3c763cd8e2ce02c5eafb18a084c0b2bb3cd9fe41fe26b45fd623bf4391b64899d82d14b9bcfab532e717aac89f00f6bb5f3226aa54dec5220d'
            'f5e2c0f8183042c1329fba0bb7e74951bff307df900ac115655bd42d92657dec3602a27ff588d558e4c21ba90ac9bc541f87dddf3efe4b97fed629e37c672cfd'
            'f99a14a9e0d58833641b5928b57c3b8ff52cfb8d7774ca129c9fc2d0144fd80533214f3f77b1743128e900224342ea9e021c5b8fdc8d8445395129fcec3b3c24'
            '3ab50c41f3e9118c54465275f4105bf5e4b56e2096eed4f43f4639ffe72cff64b05e7b1790c75d4d54eacca1672dcba382ef741f7129aa1d0182a7c387f00f4d'
            '09d7340db2aad88866d609709ce0b97b12d04fb35eff43249720a808e56f04be0655df5b38da3ce06fc541056d0c424da8ab69e4ff3f749f2984b75fc42f8458'
            'a2505e4b0bd50dc50714346bf8c362655fdc82ed1ac3f3769fff69ddd221191a408b472b9d8bee09185e685ef10e629953fe0a8b1d836b304a6adf617c99a0a2'
            'e7a32a7c0326cd7413aa1eb7b3a407605405b96dcfa3ae8836a3e345a31b69d83aa14abfa3ac4c442323c00c2eee66f444524544e33d854da8966855e3722ec8'
            'd95895e346d2e33e2b25a23ec52ab5717933d5f2118e5c36d1975077b0a8f9ee356b74a2d30e3ce0b2573b4527097bc9b218cf9f160589998930c43d409f2239'
            '0b58ee7c41f27a999c46375397c47b6163eae0bb67007544c7aa401a4481af6bf8f987a695546ceef2749e93a5dc7172a35a8e41f6118c9dc5db8040362869f5'
            'e4ef1e717b00e190897acace23b33e45c63ad79f50f0969ee4a010629571829ba685e8ef90aac51f507ad09da2a2f6ea285dc36bc501084be0583d6a6ffd1163'
            'bf9324c1b243d1f5e5ed42e2ea358be4920dd39edb5372e9864b062e0971085e3dbb8d0faef2851ab87e228541037cd5ce6e727e147c2f13cc0490f16e457a1a'
            '737ece11efde388246a30b8d574bc2c2f41db4114c03d6aa71af7f6494931225e788eb848826533add863c7b48ced26e9c80a5c4ea5212e9b11ffbe40e4be9e0'
            '97e3416545cac59d07277b714b783ed6f103773471680e99fe067cfa9999a1b99a79106bf20ad1a211162ebfefc26165278d0f426f8d4c3cdf0ec82597fb3ea5'
            '26a15f83a029c2d44d94d7a5125601dbee5a5f88c510d15c0ef939243a8a21af120bcd0f9a92a18f8a107c63998afdcb54db6808d8d1347a34b7b2c4d42e3eef'
            'e0173f8416ff9a6be4a1695336ae4d15d665db8719c72565e6ee2fea72c247b9b0e175b2944696ab92f9f944550b8fad2e1f6a52a8740fb73d7178f46f0c2799'
            '151c62dd190ae997ade94c38125a8aa3b37348f2550c7e3f12f2133a276118208da531137f3cedbb364b3baa1058269555b17dfce7772b83a9d195b7a8fed65d'
            '679f250329de71dbc09d9ecba7d0088cd485bfee7adac3174d7d7641e060f39522a527668f6ea4f4567b28b7c99933a6960f74b7f4cba49a0edda27333628c21'
            'b1b4875249ef2f1f582c49521aadbc01f3ff041794ab040326611f276dde41bd527a5a2b7114cf5c1d36e1fd58cf0af4eee46ae5c2ae6e4ce3801e1811171861'
            '324430a39862e06fa24d3f7dbb21e668c78e221ddcdeb3daf47b97bb5a66927df9c105aaa554e3f51386616eda27a0277860d7ba7a4a0958f91166cf9c846b6e'
            'f4970b6055369e631e56661c06bee915c3a1e88b4fcf4a71694947b98d1a49742b0104a560b84d55cbd6009aac3d02718e5ef0929f675f27bb9e549393ca4483'
            'c2c926f4bfe736e4895a37403c7003572ecff4c43920c48fb7f71662095beae7103637e77049ee38046f395a4241a1369aefcd6dcee19743e175176b8e6abb7d'
            '63f06daf8586e77f1746bf891cfc65a0f11ab6dc754f1f4de6322ad1ea0d5211a2a2c0af1d25b4c271a0a55cbe52cebde1065171dff1012fcd6142be94b11ec7'
            '88b8faeccf7b7c8271bb59aeb2ccbafef329980c76c00b4e7bb14ea41ba265d69674582b0544a8177129b261ba39b3c20b26630e606b311169da63bfa01cc733'
            '50f07da7c05e07e5947d652846abccf0abe59353e1104df0768ea41d214041dad111afdce86f2dc7a316c3994513729eea4f3caf54bf7254697a4a4a615d8878'
            'c06bc81f3a2d34181323ea78a5e617571b50f375178eb5ac26c989b6b16f554eba4eaf5aa7e00502fb031c088c93833c06615e1ac3804277c59ed639f3a161ff'
            '147a37447e31a43aab428f8df4884bdafbba5ae465be684dd1f8ccfc18b384d213fbc63b6327f40fdbcd88354b24f691320f6e8cddecab7988fb7acdf80ef970'
            'e7ab13377a92ce03f73fbc07cf35092a3680f83f801c63cfa9806bba04fcdd6de7f4ec12de2891224cf54a87b6280b1eb52a7355a2530b6d38585e1f8ee6ac22'
            'b222eb4f901d3fe6f0782b316ffe4471118c5a0ed5d3e17af3e5b530edf0b45215e73894e5f6cd46ab4bf5eac1bc858bf018cf0abe87b8e3862d1abf436790b2'
            'c7685f7ea0f519c20a1110d7c83ba194b036ae89f43d1e071d000bf8cb63919ef010c542988f7cbd1e099e87de16f463b4c0003c35bb23a89d5e4e65b3662d5b'
            '32f290f40669f2054d9737e0c2ce5b8cd00f98fbf37cad890f6b32a6efa0052ca92cac7f444e1146dae29afd4e2b28548fd3503ee6e5660aab15cca8319ad804'
            'c88c55d8779fdb7b3d18ac348db35cfe72f0eaaa903eaf10eb31238a1fb0fc701c0989ae20deb158aef342239fd5bb64a90d1f36bfdf54eda77376d5d8d113b7'
            '2405a8d6546868cfcef61fa8a10c1dfd13d9ac60be0bfca6e1eaccf4cb24f360a643b29c3df919a6762208dbdccb2375b1b1cb21300404d8cc97e59e2bf002ee'
            'e354ea9614374a566e28e3219a2a9364cec490234a48d657346108b05958b7f1db8233f9a8e2ffc5fa9d25a8a4a3eaef32c8154200e28a885ab8bcd393c94806'
            'fbf0d14f8ec38581a6e1dc864a8ac1e6f1e3cff469331e9a85ec9f56379d64d019f1afce1122327e64d0698ebe6c17c63833bea47669b7bf2e916b5c0dfc9bc1'
            'e41b9bb8aa9dfd087d8b51119974092bdf2e2c51ac2809ed73d15d9c830cc56a8b1c82a0aded834432cabad41c71e83766cd2e8495062119b8a741e5345c38d7'
            'b6ffc197d4d6605bd6f0fdcb443de63f31772d329070a4dc66bc38de40f38ba107942bfa3016192ca625c51f3579b6cf74cdd3e6c885bda52ced1ac1b31efdb6'
            '1d1568ac561a6289c2b66d591c46517c3fa1e1f384bd1323cd666f22de54bcf73a4eef1e9922698dcb90d63a9be25cbc4fb7159bc2fb8d557d17b1f7adf10754'
            'a20ce62d234b9c1992c213818b54b45eed753963e5327ee7c430c948a90af4f6f0450bac92f40c0c9136072add833a2e7febd3ea1be97eded6c4dd16fdd9789a'
            '9b841211d34c2bc6e408364417af1a10bc4313dfbd1322ce1a4c9b4fb25e5dcc4e84be91f2d180bc178c58ed494ba2f6c725916641197d516736881b30591ef5'
            '4762633981e0de7f516a0e18d10771ebda37b28c34f64dd9522781750db8a3c0f23b1fb4e88c52dd70c108dc409ed3e97e835b56663b54ad142cf64904e3b442'
            'ffda66641e773a77241017492d2dbaa8593d96e8c6f26fdfdc45ea3df901224495224e47e2c0aa725e16cad1db7884e1b9b23e5ff7ec9a103a85a25ded43c472'
            '67565f1a87b9e74f71322ad68830c8ec53588882bb94e76649051ca0608db782c1a76f8216910f938fa5b9b299fd02a88038075a4646710cc6b73884dec46b9b'
            'a083010d20f1523b0516a906c3a9534386db7a805911932c4f66b0b42ba0af1859d9ac6a890ff37ea8d939d0b8f8491aa86d9473bcfe666b3b078b4bc62a00ff'
            'f4cf153fdd317544e16c29199a3383153ea68a9e2e7c2bfa96e0694ab23bb1f44f954ca513ac5504a5756ef3b294a0a710502eebcb65240377b80030d7ebba80'
            'fe223a5764f7148155191e667f7fe9bfe472d08c68ec4d7b3d44ea67ad9d6b83f984835866f8e62750abf49f29b7ee12397c7b8abe8a95c9c8b5966dfd262e55'
            '527172bc8cea3a7b006942f941be59924644017b47e72fc0227873f4c8e8af0e1e4f9df6113b58a9e06e7e844a62d458c093e604acf692933146f4ed464abff7'
            'b0a24d9152677fe6d2155e6e47112a22c246401a7c7c9e3a278e7e90c510151f6e1caa5bfae964d7f3f7f44018e9196b454ed660310f929123e751626c24bb7b'
            'c63edc0f214319a53b892d84fc81ec64008e1639e2c440333c5c3bbac57191636563a702be9402beb9a72b81c4d4e1cbb2205be76666c3a5adee3e594e0b9e3f')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
