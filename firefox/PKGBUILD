# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=115.0.3
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('51742cfda478a03926b62e639c7f1f0bdd127ee96f779d0c9eb9cb6b99eb06b741f9b69a1422061475131e9efd29d3ff61b7f7e1531725dffb33139393e5a725'
            '4d1d8520b043bdb957d33caf62f736fade9b16ed25d81d403542ab5b7f956dbba37c4ab37d6b0cbc9701e1c62760639c9dc074d698f63e40c61ee9b483714c3a'
            '6102bb21d8e24af43d2a208e103f1954675b0050a7a03be6fbc2ea9ff3882722d4602fc52495a9c5ae5d89f8bf859310938ec1461b5c27b4d709e673571409d9'
            'f5fa8b65da6a7edcf568b6622818239ef69925d13aff8b0d2673161c7ab694690a9dfa2c5347388f28728ab25e7811bf338f6590d7ea81949d5b63dd132cfc2b'
            '1ba07b97c499bee06b6a7b9c4213c1c9b1d17692397988b53d774c8b48c41e4f0943303b6ad5374982c5852330049223aa4b66af8dee90a9086a9ba299bb6bdb'
            '2584da211b3f1bdbd22a7c21acfaff3e27d33b47c8035eb85712a7b7634827fbd82f3953550f5c778ca24ca66e246001dfe01433660a79b52fd6e9d6748eb195'
            'bf9fc19e5d4a868b8b3b8627855c8bec82ed577c82516bfa9a66811d6607d945a907a94585b176b15585e06b4fc0f2591cc94c403ecfcb4ac3c4f468f6f9567c'
            '5f2518bacb2844af135ddd40e056e87ccd95c855d366bc1fd78dffcf18ad54a63be55c04b3dc8f6fb2be57fec8410d5acf565a3b069f4c0137802026855b6d08'
            '2e678ebe9c7e343802046e451baf9f82d0d1fa54d1d24b791dfba849c38e7576789ff7467096743fddbff571192ae1add82e3cf4aac0710ba84ef9da92454954'
            '10b7ed8077aab91d3970c8c093340f971b6c692cb3e7f2c9a75e7c92bd6c73c3073310a6d459c7949d7de5313e68d4979da64b77347df7b33ba6aaf5d2bfd3f7'
            '84e727c168bdfe131568677d5b7645cb73f595944883d68bd5690994fdd58c948f03a3287f086b77b7094e24c921b32dea5ca3f1930c6d5d43d5ee5fe2e21784'
            '94319d60a594c38643fe6454cee74549822cdd4e2c613d5c32189069bbbeafb0e589778c7abe5f85ca5d961a92d68c102a3ff840821347d57208a8aebced97ef'
            'd35e1592722006eaffe093660ff19a7c706d53e46ad9b4e4c41dd0cfc6f6deae64b44aaac2e142d57d64926a1debae44e4900b5787a2761fe77c7783da73ca45'
            '78d48aea4b03823c038bd7f2af4bf52fa3e0ec4de97b542b45532fc6b9def6f6cb021eebb5f13a754246d9d20212ddd0a107f605f57a788f393df04e5b0a95ed'
            '559ec34a46b8002fc699e223549291205c8dd64a87a97e4d8b86327c5f5f9a5018b2a97cffa85f0b925017ec12b52671b48de44d05d29eef5c9e15ecc1b0dbdb'
            '06252a4ad437c3314a08604ad63a56a18b3055732400b685e11c05660d5246b160bc5151720380048d2ae68c57d0a767a989f8029995993c01aae0764479cfd1'
            'fcf8922ed2143edb4a02ae253676df9a14c63a0a113fb7153459c70bd511630f8a650cc6d652fc9132e5c1a8bdaec59d3f49f20b55c74885e61f707ecc235dc7'
            'd5baca4320a151f0825529601044d44d872dd53348d073cf027e3b1cbee3c964d479bcb418c1925fe90c4cc4588d5e6bc64a4520f73928f1836b45605ccba645'
            '51ef1b9fcc8c2dca93aa83924fc348faccda78e870cc9e9ef6b3484db50eaf01eda9a06f56894ec52b3b544c3475636a9f527f370702aacc847922157914527a'
            '78a239bbe06260a9b79d9f775a2c92eb937c53a3e9483dab59438c69106ffc4bdabf3e236e752a62d6dd9245bc8ce8a25982312f57f242c24ac34498d0b4e8cd'
            '269d12e36afc63502e7b37cb3fcb8e93b932ec362ce729e4f31273fde76cff19fea6a2bc4cb3e18da1b19f1ed99e566ca9c27864a9f502809023b480ba7280cf'
            '32f5dd6190182e3c982c34104e3a45e36895408e0e1a88a8c3e66a45fa442b9c8a9233e24656c0637f76b1e6d56ce15f0704c057c1e2c0ab57f13c6fb1a5739e'
            '645076f71649e92568dbb15c2bcce847666cfc56a462092feef07aa6b4fabea965506c9a541a14f20432cdbcf3fbfd8dab54815c912797031716aa101203d119'
            '072e01d38e18f13cd62a32864c8f2c9268b192fff6779dfb125efa936d70ff58ecad83fd79bc727fa551575bac75c3f14215070ed94ef9ba360612d4c2e54762'
            '2f5fc6ac9eec40c49d09872858f8431528a5aa1c994a74d786eb3e75aa23bf3d2e99b6f5484a0bde2927180a1d6a7a8cac7847d9866e4977b7eec0c86458b7ba'
            '94473b02e510b4294f3fc504a9c96b7531aad0fa9384f1a5c85edcbbfae54188c145556fb415564a8b3a8b2398deeeedb08c274bd592903ebd35571fc63f2183'
            '2847cb9f4847a61a98f11df8cc75010631cc598068f113073726203dc6a94337537909772f2cd3e8e3893d072035887882df777ca1d52c742276acdfd4b8f385'
            '90e4a5efc16eb7a76c724a8a17897ab2d7b6fff9b69388c9fb76c4b77dd071e4e805ec0e3e43d09d6f753cc8388dd6a5b38034e79f4422ee578fcaa6fc630a37'
            '5a77e2d24f66fd26b7ced3f791bd40abf785322ebfb00565d381a4b71cd8a07b0fd842961b84e01c0dcb1a4c372e96e4cab06cdd0e975034e307e5ed1d435fb0'
            '4d16ee93574f03877cecb275a854fcafcb990e46fa5f79abfa3b376c4553b66989a763ff06d826ef30af0ee3bb1e8760827e4b014391e8bd614dade35532ead9'
            'edb89ae2fcd1a1f92840ef3351ff69224ac8794c461dde36a882b8439f1633fe22e44711721669c78bf85a5e7a7e21812eccc29de85a637878574ddb01490b1e'
            '2278f348f29cd3196b3725620bfbaee55b206d70e529550e3852e866462eabd9032036437b7713f5b0a3ed8895565052e26581d262c271699f5d590634c051f0'
            'ca982b82abbb7fe81c72576376be63b3296675d926460914e851a56c27540617557ca81a54c75f667821650494e8481748de09a4c8ae4e4136c8942a036b9ec7'
            '647d10194879e4c4f1cb20bc037258e585098271692a7331d8ee2bd3264fd5a615c80af1097237a24aff9b9582bcdd0d9077d53887618cc3e59558b7c4b40dc1'
            'dc23295336e89d6a1ea25bc47c804caa588e7587487ae11722d264ee873ba5614086a4e1d72102d41b5ee46049619a0d4094b20abcf2121575374acf3c9f19c5'
            '83652422195b354379651d5ef8fe7cf7c6c04dd23370df0bd8e4bcf69aad05fd297acc44e84e7e89f64131fe521f6c5679fc128599741d8866681051870c7a5c'
            '78a13595a546527d7754d0bf5c434061bb0071fb05d4ca8a165d35de29b47255315b14c797682239d891c9ba100c15266e9baf7b6ae7c7725fde732a623462ca'
            '9dced1a8d064ba4b73947bfb3049a4a75d93f1c1fea543e849acf30ff8a5caf5a4b32dea97a1aa8f8427177b054b9c1c03756c70d88548b256150a0129ca862a'
            'd67062cd6b83b1b4f6a5c9212b5dd253aafa51710f47fa36bcf83c3f607397b8ea524dd1b7302eaa20e54d46030639867f6461cefe40bda7a3bebb8c21ba4785'
            'b178a830066f90c615f5c20b1a3e6af544a117bae903d3b019998f376fd7dab63818cfe9242e51d9c20cc9bc257b11e0d84868ace2d792ab0cadf732d3a0c189'
            '42f6c2d51d9bd86640c8b97f92cf66a1250dec47cd0a5beb10181c4facb4a5770784e54bbf7cf233fc080ed378fbf230cdd8a258f32f7f42196583c6ae44c97f'
            'f85a5c4cbe62ac916748377c02faac61ed927b4ac860f1a62a3099f8ea088279997d957498fac2e34274a959f995bfd531792caaf91c547d96faef5041e16442'
            '0c052b99dcfbc5e87cfa703b4f293c96c5ebbd6f72567cebaf02f540f8dd1f97857324a0de92159458d1cdfe1727a381cdaea9a1ca1ba03d8ea3b034f7977e3c'
            'bc6f06ecb2fdf309f91664d0b030453ff4b41293639444eb9219e7efe689b62902e411a8f32ae680c0fa073de8dea82e02f33ea4b6192350dc20e8875327522e'
            '9c1026af40726acc0a1dbdbbcdafb644d2ff6c875ab88ab31556ec80e99aed6dce92e46016034fceeb5bcdd9b65ce919b09659e85668cc909982bd273ecba605'
            '2835edca6095e98f4f89f2613fad1a94fcc7c1a5cdc6f67568a6eb9dd80d669ea200c1b7217ca441019b0f0e90d0b6aa276d8025f6343c4ba0bb9060bc3923f5'
            '4adade804e0f6ed95602b47397ee3055aca6540a5a5c495ce5e2f6b29a5193c0d50c5e37489f447c0ffb8af7ea360337cc09053df887c13d914b94ecb333cbe8'
            'fb462c28ca344fb70026fae605a13599ee702b5dee1de0dd0f6203b87dd5b3c66537aede9e58652a2425ac4fb06288e4acf1010fb0ff593eb6b6000c7d8e1f9b'
            '999c3944e6c84a6b45cbba7769fffe2b61f4900896de96e1f71f491eb3a78c5c99bd604fea79e23ff066cdac2fb4f84e32d8c157caf498c295e287288b749673'
            '6f3634d1f05ddd5c5085ae10ead1fdda093c6149227daf79cba4b99b9308b1af68c9d583844d3e2803e81f4f277a98b6499fd1ca92e8b6fc381b6800e0831a3f'
            'd2e9bf4e7056cad7e273130d1af8077544211173202a02d777fb4164c419c9e3c25620a898cdfc462ccd1169cc32dcf216eba8d51c76f1ba727cbe99d91eb8a9'
            '26f97078fb5e6f23908b44778971333b5f0f39f2c427d9437ee19738bfd440b095041c1358080bcf801950e5414c1dd6eb47465d185020e4fdda627a3e8c013c'
            'd1244da0a7be0fe697d793420be4d0fcdd126f2b04ea7826e595afb9de1dbccb383c39f1e0229bd8cb3f8f5a0c0860398ef42552ab324b613e147048dc5ea710'
            'a9bfa0256d40bcd1b3073736828cb7b71f8f9f81c2a9b31bdb0fbe70b950cebebe10ffc1af92d59de661b453e2bdcb10f8d47eb7d10085f610bc590668052b24'
            'fc078ffe5577552d37f77903b7665ddd1ac61c3406a5b9c3a30b1ddbc7b940064dc9e6bd4b2e10eff38d0017bdaecb01f4ec7847fb8eb2e377c7f64b997f0e4e'
            'f7451c800a90f7cc06fcb294a30182ab4af5798d4cb40f5b4236aa5696d02c8412bb828a9d22a9f6e946fe8cf413218b969a18f3bf98b37ec30d9f44599c1efe'
            '235ecc57c1dcf25f79011af5805c87a387456ac6dbc4fa06a1703cd06ae0b4bc793a5343d8b1f82b79bdbf0aa9d22cbafba59cd1a67d29e018cb08e51c37362d'
            '564ad8bcb0c2a486be1508c02020d2a726db2304ebd30f9a91d291a47c061dde9ad10420fb92c135aac2cfd3a08306fb7880a2e5237e29e3927000225210aaf1'
            '1e6c0e443c9d51236f7b89398ae09772523def87e40dee82b68db238cc787594de872f0c570caaae793c4d134b5a4c287736cfeca28cbfd3987bbd81912a704c'
            'f4da7ed72523985ea95814dbe337146c4e6d46f5bddd0543fd5de09ab3963b08b2fd9e618c567eaceaeee6f1e16cb71c907c0de7dd365be1412e86e71f78cb77'
            'ab390cc433eca78d027aba054c18c0737c860f4be23c113cad09c98ffafcb79f5e05adf1f14475b397f6e9d091aacbf1b3d73de1f1fe64c552a7e8e36f14ed97'
            'f384252ade7c62d7ee9daa4cc0208d1edc6fa4e76fe8232529a993f0a989bae77068a606a8a47d2f3ecb7147e4c874bdd1d4613de61381f22216d838cc3112f9'
            '483b1fbc9733746fe10d0b33af3b02ff4173a63128374f31f4b1b7fffddaa19712b4fec19b5d5f7e2a9062e2c8810f7148bfb6305c94f4c414a39d1b1be56e19'
            '46b924c7b75ad931bbc470b52525cdcf91410a2b5152c61eece939d62e78516e7300f1a50ff5860d1e59e8c7e7fe1ffb6e4a236d7343b34d1c56bf95cba0714f'
            '5e4f7fae122122204dad28fa0d59ee6ae58f472df208e04d91405ae856cf645dc56cfb26117490b7466242334d2aabdf061999c4f8c4df1d1b306633d34b7fd2'
            '3b18f5fa30b8d50118d2e4ba9c8f9946873770fd59cd31dc9d0ae99b4d1f3ec965f6e2cce058ed3fe8b339d8e001d6bf79b2d8d7870196170cc3abb2169edbcd'
            '9c0ac25e91e2ed23f9addea868199c586b5ced1202d15b7c3242ae271c9ce5d39e120830cfc807773e71ff686dc98d2f8867c9567ddb49d3345c6cf8136d8e5e'
            '4752b103d2d084dc04ca325e6e727cdacd67525e99ccece4d44a4b84746a53537e66e16f5d499b39136a19c929e30f771f97409d0dc8f33fe694c95ffd1ef90d'
            'a674d80b369d44c2497bca37550aae28b0b696b998d1e772828df101318151b36f4b86ba12ee1a7b8c9f68e483fb4507bbfffbf9da62876a3d1d50d8b0347eb0'
            'ac2c1d903ce0046d0318852201d7c1b6ce5ace2d4ba99a93e5d4a99788f9a3f349489c47317e1ca3bbf550d4b90b09e85cfec68b3658c07627dc0a1b46f96952'
            'b44dab772e1f909ba92cbe312e2d08b7876eeebfa2317456fb0641b37871a4864430e4a74220f0eee8b3b2aad94a17baf20000e326a8014579a594292541fd79'
            '7dabcb3e513df8b6f341fcdbc059a6698ac84d7e549be0ff720eb5f40d840442d6c8854f9c0e2d8c2def181dd46ee19af88ba794e4794ffd9353f086eedcefc6'
            'ae4ed163557be4c71e54e4153f9983879026ce60d12117796ba5874dceb09b709df10ddf6d6a0ac25d4f391931d18cdcd0d719dcb6ee7ca49689c9b78c57ddf3'
            '61c93179c594e5512e162688334ccf34b8acb00a67bec10ada246eab2c6ac817c9f0250407f8cc649aefaabf88d5b40ad1e0b559878c5bf73c60075150df1d88'
            '0f60c6a347db6a80eb2610a10087daef3d593c0f8f83bc896df435528c47648535fb714f320057d742063fc25f8371c6cd2332c5304033fcd878d4aa4bb89bf4'
            'b3a3b93d8d8393558d3ca907183f7e6318410ea5e9ce2b060c7bf06ed35484a0358d20826ec4f1b267f2e291f7739f0dc680f9331a95253fa98b7e2ef229ae0f'
            'f9d222f728bc0cfea1fabb3351d78303da160acbdfd114f73c67a33ded89a7ac3dede3de66dfbd2d686c916daf6571d15b29a6f2a0ddc291ab108100ce16207c'
            '17a4ded7c1fa1b16ede004e0456db9d0d3b239153f1714b083d039e3e8889dccdb9c619baf81b5c18dc76030f078cf070010d0763b36e71ac06d6120dbeb6c1a'
            '5e6f4ef6d25777a6932e9c3f23ba68d9560afe136d7a4de679217740fba08e004f209fad8f449c4fdbc2d4987a8cb163544d39faf8f07fd182421b4b3087adee'
            '72b9c2093a6cf03b5a2e94be9e8c051952604542fc26ed850438609e2ae45f1051ee79d66d03d443c286aaed5350281829029bbfc65e273d28e7470318f0ade8'
            '42f25c020317a12bc3df8449f5960268025982dfc856e704227041aa3192b6c09d01a621ba4e9235b2cf7ca6009d696cb510d653fa0c6aa7564bbc88cbb0882c'
            '3f2432ce492997feecda010ddba83ed7cdc2c1db8e2e0c482863ec00b1e0edb0de49cbc29fd1e133f1328b6486b8eca6b9e48039eba02c3c9fd4ef1047b9994b'
            'e89f5327e682e71bfafe5e0e9a3122a6b8b1a595f65fef00d1a78f80eac4403ee8e98f83d180eb1e0eb2aeead0772cf799b747e3c2499c2104dd914d2cf3c500'
            'ae200a86cc2d98692ecb750488b88ffccfcd03a564f41225d4230d991e07bf39e80d460766376d03d1fb0dfa306f150e47e38518ceeb57a6141a513614a273cb'
            '830ada2dc02fc8f67250c58aa3558fbb4e2b0ca27adfc539fac019e5f8bc5103c7c9c105ab78ac059279be7f00ad454910f1f7d93aab471b151d8003a83f290b'
            '240d9c640494a3a58b9337c169d5570f31b4226c9165aa87029dc1b083b9d7f3927560c84d8184d6ca2903f6a4ec05bb9e56a4e4938b2f225a246c374163ec8b'
            '5eab57069f7d828779e5bfb8ecca05c67c0e8c918d406d0a59144a86a5fa4e8672f7515642163a53eda4f6e83ab9213d9aa374f53e34b6cbd2b64765e4007ba9'
            '2447bec506004c0d4070fc0c39ea5533ef14ba906af2c7958fb08bb745c057ae5527be20c47aaa7ebd6c4632bf0770080943e9bb5511472e999085db2c0dae9e'
            'fdb57ee5badf1bd9bb4060e1b641362ee9b8c49d1dbf14e3ed8c1e563b6743f4450a078d025cac271bdc15a4465b07cab6876de8821ab2b89d6e5454196d5bfc'
            'd3ee90ab596b1237fdea4b4f3202a242ee7e2aacb2a6dd7b5fcc62ac3145b3a88476521537894124c8598944b0f0328c6bd75ea8b98d776c0185a48dab2c5f83'
            '40a96f9daacd52f8dacf3a0f827f0c64c16a9e23110771a9f4986fb195889033451e892f37094c97cabedb5283f1bf6141b899b83017386e9a475e2fc57e7a0e'
            'c8586813b405292c4a5ec0693f92d65605c5de1684a13b15e534abe43a0dd2f806932c8f67da7b40221b8002e1ed8960d284b9305de74262cd5cbb091a40c800'
            '51105ea2d6f3a6fe03e7f169d536390d3fb9669978af32f27a1964aebfa0799f37c7d94fd38fa14c1f2996b41fda0572df9d7001455458e8421d82ca11156c02'
            '71a3d825d6474eada203a7e8897371ec173f0894395097a6fb9fc276a532c94b3074fba6bb0fd73bb6cde9c47be7598ccd30b6c0a0dc97dd5001a1d94dd99877'
            '219a57ecca28972b61038122b96475676fd261f578e2c8b88b36dc4524cba39e75edda364aed47b1bfc8ec68a74c9a4cfb1125b4f0ed1386d5c2c0c32ee43d44'
            '2947e7a24089ef585b483b8151b5a7b8b54dd76f809645ae0f8558cb20ab718ad6d9cee4f1bb2aca6a30ea821f8b5708b67e4df1bd664dc7786c77925ee3f7f4'
            '9e664fd0c1dbbc1b0607205f6b17168fa0afb4771f3d6a68512fa75669f4d90b767b4aa1dd888f0a197c208d33f24106f43ec50075be0b19ae238ea527219e2d'
            '112d73e1e062d4a1c823052888ec439c45316651e2686a8e0964627923803243e1c1fffe0a70f18ae97cdb2dde696fa606ee83d3b35418174ebc81ca0a466eec'
            '754d72190a1f0a7e87d49dc07842373d90fdef1a73dc5cc328567362e1e6fa9c7789a877c960e69d267f0c89b07a10bfa869217bc9d0b1cf6fbfca77fb1d3f66'
            'ce67aabb552fbae8a8bc569a16c1843ff5a4176437896e9a4a285849f72a1b75430f6f608c0a4a0902625fc3592f53512d8998c02e234edd4c0ccc78276e4794'
            'f2f6efee8e291e970023eac5eed90ea039d1c1ec847a3d70c6cd8eacfddb2a4a69edd4eff3e846e2c8ba57329a9fea4edd0631b1060553ce3079cded246713b9'
            'b0780570b91e3572bb40412bd6fa02a1424670498bf83747ca5b3c28f08ac50ab9db091485ba4bf9483e6ff2fd928700d6a307d5b6449e4f0efb8654bc48abd5')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
