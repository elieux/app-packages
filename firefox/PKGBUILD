# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=146.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('4fa64ab100464907bb24174812d3a8c115bb0bfd08392189065fde341b053d4acd5236778803d7c81897cdf500184453534ead8df5348073df9c504cdbab9a7e'
            'a8f7e6bc25c573d3302f15bacf035bb1aef527a2f178d004a0f93e42d38e0bf78815a03c528c83857bbbbcab74a33e79d22764c5f5854298d97815af3763be4b'
            '6850feb81b9378e8a8767df1c0bb9b8ec6f9f8b8aa026ed35c9472d765c5af1449f0d45b575ed5721b49de46cee6af0e6e58ef49e7ce4818291f5646f732073e'
            '390164294da12bb53147b5a2db489d5847d51a10a68a03d56760836df346b12c5de11ecf5489108fb81925012c0058dad4565a2da5ec859d38bda5e7acbdd71d'
            '12382d20893d3490d85ff6188a509bc23d1fcdafcbcf977863e4dd87b15ebc4ce542f63c04601f3eb88bf8c3978b1c37e288c2e7a94d1d41941bb6ed2a735961'
            'ba2956ca2d05d96b3ef22c7f79f72a708f315ee0ee8c7d339e8bc9fa3b6c0477b614a3dcd4d0e4201dcce8034d3792d2405873772b900f34c20a0e362e75c794'
            '72039a10fff96e3a399257e2004e84daffd671a7c625a5ca1363aaac32f76b4a34dde729c087d83217a55de439207502598ba7f393d821b5e430446eec4bfb2e'
            '53d1675906823da79fab20bb4f2e8af909ad8fb1d638c9971bd9f0029cf1e5f1fcac4f359c05190af34b0b5f540d5dc7a295125e21a6d6dd00f93e9324019ae0'
            '1932857af80fdf03b24157d0a34f5b866cad1ad2606eb657e0e922af852d8c77cf783b769c01bfda029be489ea8df9b8b0ef3d529f5db0e6bc2adbd3cc13d96f'
            '8aaaf54627b69c6f152900cbd748824b2569aa5cdc6359c0bbcea83afc0b0b7ba43470c3bd72ca6c23a38fa6d128ef585186027b95ff7e6b0dc6ba7e5736a4fa'
            '5d63e7d71f7bc35f9d21c02ca1b50128e2c814714b82573110adadfbc1a2b402fad50d21470ffb9d8d610d9e7950a13444343d49b6a82aac6f0a654eeb6a56d6'
            'bd3e993025981f63a114aee74706ace3082f8ae5afef6ef3a2ab65348612a844f71a6a410d85031bac4e2859480531431ca5d40254a28dce3e910ef83b53faea'
            '7c87034edd52534c46ca172042d7c7b02af16aa68b256485607f6d8d3c5be16209d5c410b2185a2e45bcbeb7978e827318568fc8d551f5a1486dace9a4fd91d7'
            '433dc80fb36fbf135ca668ac01529c0351b2e50cf7fc991154848e93a7a6d68ef995857061cd26bd75b506214efa5f5aba308de06e6d10301bef47748c1b00ac'
            '363f1cd2ab96ea791952c3829a7148392791baa54530c0e6bf6e422790ba6bb3688f1f1155fbe49abea5ecec3f43c9f77a6a4bec796e11b0af2729db4187c883'
            '9667a49af4db16dada06ce4991b824798a0ef890f2830cc6344fd30b7c257540de8111ef72c2ea7aa42c03158a312043eea69b60cafec4b4566e6e923abf4e3e'
            'e8f353ad174244d8905368c6043bf951f3c4fa409212ed72f632002a33c2c5dc4705838a00e60ef6bd6222ea68c7e6b4455b017b75e66cb159cb0cce0b2f44fc'
            'd295bf48460db4f0905df46ef106a09af4d15b4b928a3ba14a1c4be35689cc29fe279bd64238eba25d6076385382be073bf8b5fbfa37bb2271ed473f9667b336'
            'b8b601fd72e1f236f613dcb59985363bdbfa77087e7d43ee7f21157817fc0361b5b54a11fcc12b8bfdc3664572744a8a060e6f55b8a450ff87c95f6230d6a773'
            '0f14d175debf1894258cdc978ebe81e1c4f584c8cab5b5dd77740cb7894dd332b3240002c07b2f68e371556ef4a9da0f5d49b0dcf1cbb4cd96938b350433f3bf'
            '5e9a5de511ef36ab43a65c4c9659e4d9da7181f8eecd8223bde97cf0e43146cff09324864bfcf91b15cafd28a94de9e258e41f3ae7a9dc8133c20c899d9af660'
            'f93a25e33e922fc5c756d27a0d8351adfaa9af423cdecde390e95d79d0cb7b0d1b09b4c017b447084de87e6859506cf2515ec160635f5b7c1e17a2e235c9f595'
            'e9c0612e321c080fbc3f93eedffdfd782a617ad21854d44e4b1c19418c4d130dcd87a238e5a8f4a9d9d0c94b601ed5b99a1aaa2fe3e7c5da47f826f4033e067b'
            '94c2c02547d967732c1c5b3484dcffa6d99e796a8305d07bf50958f28d803ba0e66e7607dc4cc5432490bb019cdf7f90b02254d9dca429f6319a39d91e4eed20'
            'f3fc637a2d69473e2c45dcf168946e1f2c49f62381757390363a88708e7fef54890fee54e7d394f53acd80ef8fa92037b429f349f79ac32256c0c575458a3989'
            'a7d0f7c7692af1607795a0eee9583d3c3ae3ead6586ed2822c7a4ccc480eb2b9c2b3bc5dfa45f947033f0c615ac5f32f66eae8b9598ec124227a463a39fede34'
            'ebf6003859664c659a0b09ec9dac487afb155a36e858922ae9c247032bfbe2dc932c4c89cbb63cdcc08df7bdfaf82a87df9606643a4e62c7b57c4d702f5f1471'
            'b0679d091760000f4627481abefc4c44de0c277669455508bf7c928566b521c9f16f5a1935c986d5472350a24b040a304ab1102dba2a9c52bc930f79af7def93'
            '4d0fb7d1696320ea6971e810a067a6f3a7d2ed183a6c3f83cd202170bcd73407bd53487edda7a07a0262cb049d54d6fb06b3e54eb5d3c8b439f4a77f9192c2cd'
            'b8ee5bedfa02a802fdbb41fa2273b17cfff0e2604963e51f15ddc97f3a8c74c2470ad88cd39422eb2042a17fbda49ab7ccf64ddee583d1857920cf96ce8db0c3'
            '26f41e51d090b7d188cc114cfb66aec5115b7cd11440f072a9f8037908cf6fa2bfda79c78bb8fb711d563f38d9f80073f5a8f02caff8e7f4fc163368113af52b'
            'df5e477784b3473dcfe1d7b6658c9548ab65d47989affe1e5167005f79740a1acb527915549bcaa72ced5e0b3dc3828fcfd29dedd4be6d37f0668b16e416cb93'
            '253d856429e31652e068a0a1e9ca37061648099f6760b1209e449ad351f9139c2a26217f560a307653daba06e6eaeefd8da119af58a621bda1b90e373e45da08'
            '85b12bab57ba9f7d94c1f2b927fe01c73df1f52639ff1ea84c3575c0042e072036396ddb03e8e445a37dea9856ed998caa5617a38d002efe4645b8d7f845c20a'
            '1b02ecd3c6fdb9cbf8bb7c9bd76c85c72d432b7f76c2cd531b5294fbdf8c13cc07acf17e261bf6749bbc6fac947d138ba6170cab69976e2f1152f0d08ab9fc97'
            'a311d8a971ad69a35692e72aeaa4c364c92ba4b3ea29335bffafa445b07523e9c637366bf705fa0e6fa61bd0321ceeda89429f2db11cec035a7f8cfc7281deb4'
            '59ea674f8cb8095d8a50ff8d160fee1ce2ec892abc247c639f64da1163f66b023cd3cd4af7b7bce9dcdff22cba6eccb5c24e29a68f72963bfddc5ebcf53b3e71'
            'd95c4db80d7e10b8f6deb7e3a1526d137c74bb54cff7f572696ca750c86372338cc2c9045a7006ace847ba7e8a108082ce71d4aacc96819bd89ce3f04eb5f740'
            '05f314f3a322b824aec858ec5a047d95792db3e9f4091fb19e2061a4e6b6657c48c061912dc37d91339832ba93b6ad5473d2ed6b476c51c6c2598b21449f841d'
            'cb500c59ae230620c626ba38c749de838e2cd92fcdeba542eb08c53c1133488ed5d641126002142374aafc3a8a289019a5bcce072259f92ae8e5f9b45124ea46'
            '555ff9d2b32ffc00650eafa83fe576df31f471964a3e4d52d7c18b62ce2b5d9d0367ff197b794d577dcb2c783a0f0c275d4d5c5f74bc28df758f9091e27601f7'
            'fbe98f3af068b1e496cb1a266a93b48b7445a67ce326d1e2b698ab90b12814a765c1fb4414a3831a08b077100230e5be349e2d31ad24cd973c5abf8a386bc328'
            '8f8edad29c1146e8574518036939bdbab782d2c25ba7fc492a74f460440f5dd328f7aa8dc0b395b3948ae01001c4d78fc49fe12da17ef642d1bb0853710587c6'
            '283827120e4272c19fbc1c3ff6621f633cc3c756a7ce557c385333565d4f299efe53d9d56ab9516691473040117cb2cbd9537364a810ece33c7cf3310cef1b18'
            'd97c3955ba0d599bcc18144f1f023b10271f0e97d9a87084006e039af37810edd22fc79eec67b04c25772a6f33b5c9e5918d93f4bc3da74ddb07220c1bf6d741'
            '2eccc7cee8f74cb0da37a2aa378504b392f1ff8370d6a7200cec7b8bf37995b6912c8b387f96e24b70feb54862437a36fbc42f768257d72b92f801707db62cdb'
            'db8358ba44a90299e5f48981f2ffebad2f7fcd84bb4f638c4239bfa9379879e712da30586614ba68f81ae402f1932cab4c4c3403e169e59b56354d707d93e264'
            '427a92da5de85644f1ebc68c36cd8b2d10d2d89c28c057debf2a104977226ea2824bb374018fa7d111ab2e9a837c47b4c18b57316df387917af71120ccf0c717'
            'b641a5934523917c47a918e91649f380ee5066b9f7141a9dd1cc91e9dae966dd642a244048b41ec49c7755e68b73aa4148c68bb6e9a0d13a526b82bdb7aba6bc'
            '2de573dc1c50d16b0ad97c23717e3cfe57f888bfe626f2dc396b79fb1fbfc0ddde37ec85a01f67c9df270bebce95bf68a7e5388a350c365706edb0ab2b245a49'
            '2144e234f0c88d58cd4770e5f7a0c52e81a38c8451120ad10e46dbc9ab9639edde95ca9099a2c4806f4b4718d8b5d5c370ce68e5fe08a22ac5ea003119eac640'
            '74851763cf5c34f164ff57ea74582c4a90b12ad5ac3b23e6c3ef1ee885db50424a294636a051b28d9080f0b7b244a92b7f9873d5aa0c37074db8ed55972659be'
            'e68d2f8bafc9de63a3710d6cfd31e771f728452645aaca1a48b691e1b5a89f17e91ad9a1263d9eaf3e75abd2215b5488a62fa6c6ed18a8c4c54a7e73d354237e'
            '2a534a46708a01006d11072bc5435bcae907bdd6e0691f66f7702a0713eb3b032acad54062f9d9e16eed9b58a6c11b291911eabc984a7c9cc61b94064b4889fe'
            '9d93b283ccca0cef7396a29d1c648c493a75ca31b656cd4ecafd7aac4da23e3b758622727bebc6a42c106ce54c5fe1c99f9460dd0cb1962a2e92f3fb2fe64147'
            '6fddb23a55defcc801ef9623bd490ec375e4045cd567085614c490bfc067b00bc3814f1d9f9be099fcc5b23ca8d54bca60dbf63bcbc6ac1558bccb8e6fb97821'
            '4c36dd3a2f479811510a992237cd28a3c0e6bb5c25f34f3735fe48e9e0a2ddd00a8c9956ab043e3076db3952dfc27d1ded9e45500d51046fabaf5279e6df95f6'
            'd9759a91140bde02e5b9b7f728cce8789afb9bbf1f4a0ec52d4aac42cc8ad71d06cad05c272a5c436f1027a11a84f2d241a6df211acef6dc3410e3074f7b56a4'
            '8e4f14a4e1e8c27714d22f3fff1a009fba6a234763b05f1488d75e81434e3215292421c6ec118f99b4d6d6e8c26e37d3e6629ed54f6393cf96a7317848498e90'
            '5668a9ff7b4536ec60a46ada035bf97a58c144f9c956fae3be806988435da71d6cd1cd69f0fa21a305188cf7c0fcdac06b2ef6dbbe93fe7c6cb0dc60e9015da5'
            '584307fcdc718cc51402efb513b6e74367a224f76bc742396578c407fb93d1c617b44719590e0562108c6584d4443eca34892cbc89d5d87c25fe495046b7e1c0'
            '0898bee060f390500da2d9424bc6d7caaa93b18170248b5c1aea2d36680bdba3bfc9e53334b14cde3d0141c871a14031b326ed9845a92cb8c80d034ae55ea3e8'
            '991a5fbf10a97cf2bf8ccb64099b315e1de8dd3913c4f47b3b26d5af52a0c8de5cf9abad0c11b7863db90713f95a56b2b2e844c9fb01c61acf7b41f14c4cdd6f'
            'a64c77c00760dcbb83f3cf337ba09d5d2f169ba449f2a9db83edd84b47886e0bf26add73a74facbfa3c046a129e642bbeba29f6ae2c9e4962761af363c5c36e2'
            'df8e25a2cb416d1851bc28d561e23cd82a7bd8ee0dce1d4eb60cd9f60179de6481aeb947af7cde878ca3ddb698de871c25c6d19488bdb046982fa459be58936b'
            '1ce52a23b3faddc7a6929f866a199d435359ee3c5d02fdcb2b8603bf6aa549d0fa90ef66fe940d273a9348a61516c995072ffd635e091d09071948cb80e6e031'
            '69e603f0f8f685a167766ba1366716e04dd0a45e200df4a693d5c7630f97c28e287ce5d4b0aa63ade8612f85f9ae571a7700c01b9530a9f34395a163ae4ad6db'
            'dceab9798a31599a4b1367448c36dfb4870f7bb4d83d9bc63ccba8d612c1e291dbeb89942acd77e9e59fd645f460a3e1bd592163a5f54ffa555afc6efb3279af'
            '64adef7f43de76595b8e5b12d51a798fd41500427262b954df2cc762146a41bd91975dce5e8fbabd0ffa81a2d380cab6bf69090d5b2d557b51c209d01d040694'
            'e3232617c521968d52644fbbc78f930193e8395c11a44a045d4605ca8b630dc107ba5adc9b33371ff070872712acadb57a1d0fa1e7c52273b737f7e38d5ebe8b'
            'e053e6e2f71e9fa3e8b004eca99d86386571c39b34cf9eb1abd866da124d3e417d85ac479d2fb2c9530389488b983e77866f447279fc462156f25e97f0bb81df'
            '537f18a78ca801cd45292f9bb5d746788b803ae9dc17cf97ca6a7851b85bd9a6dc1a271dac4e773cd967cc89e3c443e0e6531376a777aa68a46f1082416f999f'
            'a41fcdef9a0a138a02d025b25e1e494969c635bc7d9be8088a9e96db0990cef41b5ea849bb1141749b48d12555bbb9e21d7a5f43440e1b102e42cb4015799150'
            '32fc97e3dae9d071c4564928146d1cdfea0484a7ab8cdf31324375af68a349b38e7a3da11f6f7f2760b5ebaa9941d70c819ca3088106ae9299e7e1651a2c41ab'
            '41a21aeccfa08a4091ad146dc21b58b6ec4ac56dcab50d6f742b3f31fa70090784bc1c502bbddea62e04dcd12cb049d37c3fcb6be308a6267ba1c7fef2baa1ee'
            '697dd445cde01e4fa38ea50b5714098be2780312f3925632f5b418ae387987fe31f1580e4ce6a7af5debdea4d6f43f3ed765538fa90902b9c56222cf0895ce7b'
            'f71ce1f5061e6ac8edfd45ed84dc6d77c24b3ce9e032074867f567276b79f3cb1acce9c3a9f787258b52a4760bf0237ee3332c7b935d4cc192cb36e66f93db80'
            '76f0eb05bb1da28652a6cc7792c23ec31119c90edcaa802db42e85660a52cf3945c75832b28aa8cbe22ade75b5327d015dc9c30a38ac5ecd5ef3f950c8132039'
            'b09133aa677c6a963da5db35f153c7ebf1afeba7de7fbd5235af3a350a173337cd549f979a379bae7548c6c1c7a3627127c75aeb12dc731ae086a61e5e097a33'
            '24ae9cbc249ff06d46651fd0bff1ded4ae28633e55020befdeade18f925479528ead48240b20ed2fe35bf0d921a142a3ca2ed7c416ee5fa4936520b4e22cde1e'
            'a0f2802fecb9db96ffc09de944ab96fcca38fd3a956740b1473c48c62fb9e331f553b648bace34e2253513148ce41011deeb2a671f8de179f367ad9e05efe573'
            'fd7e5602954ddc0a3efd3f920cd75b688b176a23841880a19538b3ae5b29f360e76628ce91d2e1eae6baf6413fd24da4c1b3d9bf046c93b02f274cce7f66e9d1'
            '170c2cafadb65c49fac80704e575cde99b079080307c2fad5fbae02e0113e9479f45757427f509a3cfc9471ca85a7aca020e35b7aea4a2b31c62112351fa47ce'
            '31ab90cd8bf7ef030e19b94a46b5953d7efe681f888037d9b1c5a29c1949c0590550eeeb9dee9c1658b7b2a1f1a4fc0d777b427313c55cf2e06cfcebea3b46f9'
            '4d6b95a94dd96427e99dbd28c8b94b3c50bdb7544959683185009889746f6cc34423e1fae06eee5932985e247cdb5e7dedc2d37411987eb6331a2bd2f96f262b'
            'f3bd1a4808eefbcc85ddd3954faacc54d1dba0e48664665348f8ee28a2119171c35d44f4674e86fab5e30edb2d2202cf983c7975eba68c9ab184941957a46c2e'
            'c24359555afc60b42220bce065d977c5e6045f6f10c3cc46988829e633f6aa5afb83d608ce3a4bae9bc5035ee2d5a74b23f3909695296e081ef76ce9d504f015'
            '42fad48d6bc210fb26aaf1380e5ff7206d37ecfb3152a8ceb2d696b740349576390aeb19317e6c842fea3b277760fee534a7942a47bf376f0ae2b3ed0c5417ff'
            '89e97403a92cba0d5554f0b705918a37347cfb42908e794e6c57d0a4c0d8b980ca704c8e120bfd619e6500023c312bf10d224e6e3d379070fd3373c2139d2b3b'
            'f962ca8e26e5f3570d8ce1ad813fda848e7ebf3ce8c740a00a7a16fabbd267e990dd66c203a18126a96383085fbca45c0429f843bd0954f70da77acc413f0897'
            '3ba00b8329e4f73ad99aaf1dcc3a99e6b60623af298cd0690c4babaf6d7f8fcd228b317a12f64ee9b4e210299ad399496c5726f2fc05532346232f134cb47065'
            '0831cdbb06347c372fd96586568b04b8a9e87c77918314bac436baaa22bb190fa9330a9c664d6cfe18b3805e6444da51a049042c6f0563023038e58a121ed9c3'
            '567f01d3998623e46aefea05120a3a4682af5e4204ff1f59e5b41cd7ac94868dddf58c0ca984e2bf5b180bffaa2b766ebecac1169c51cb59c63d0ea26bb78932'
            '950ff9edb50e68385b01617c23cc341c7d804694f8560018820ae0181e79d6066b4cb3d01ea6fc6b24ee0443571408268603b0e6132526444f15f0efa3194f90'
            '9772b64c058e4d01c45010f06564baf8b2cd07317342c03c17d754c695203399f349514a8dcdc1dea0aa1e36bb95bb34bf1f498d8133a795f0599a9e7d563846'
            'e1d7eb03d8c925b39786bf1179166c358504401e073cd5dfbe26939bcfd5961dee835bd398e4f4d086525e5b98fa6792223ba06e5133f8a979dcc9a375d52c0c'
            'abe28f76914959ebb7e822ec88b0344e13ea6e52b35de0befeaa6ff48a6aabdd0f87f726c56c1c4335d9893324386b5867e59e0b739c94b4beb9f2b343aa1d20'
            '2e98202f782c9dc68c9f8d14f93320e64fc9424a5533ea0d3130ac8e2111a4096e82d35d3e3fdf968b15a11247490feb07dbf81ae5e2dae332d840d534377eff'
            '84386c6231ad93d5177fda37ebaa162775a486f3b922b1677f56c31e48e4ceb192eeaf1412f8a808046e749db0688d1163afdb3bf93ba587d904c48f1d36dae7'
            '15db6382ef01fb0ddafe8d0057c55e9d8381d8166dd0850c951b470b99e1e401240a81b06ba576c4cb8f8b76cd9e414fae93bb6551e95d81b585b9f76ec8ec16'
            '79996c878708410b433c1b5955a0ba6787c23522f132ae4e412dfd7412b0e785b163e4c1cfc5919b0de94f73bb983ba9284c2c1b6ba91d57924b087aa932d2ce'
            '0ebcbe96ddbd61bd25cdf268adf0fd49857c9eec52064e7441e9a00cc9194cc96ce996470c320298966340c32c32bf9ce0d3d69b2d934a03fe13ea0dc8f12457'
            '0352c05590ec7afc78939dff79ebc0237ed35ed12b3430ad6c2e4e8ebabbd9d9eb925f5f058949e2530cda3649517f4ad6327f64c291c2391ad03c7efabe83e3'
            '7ba8508ce47ab6d05dce8135504bffccfdaaab0b7777589218ff5be9d0e701adf79200eeda84862c03db1ec1d03b963942c1f50e4a265cc7ee28033cf8e6f5c0')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
