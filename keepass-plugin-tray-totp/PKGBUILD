# Maintainer: David Macek <david.macek.0@gmail.com>

_realname=keepass-plugin-tray-totp
_dirname=keepass
pkgbase="app-${_realname}"
pkgname=("app-i686-${_realname}")
epoch=1
pkgver=2.0.0.5
pkgrel=2
pkgdesc="A KeePass plugin that adds TOTP to tray menu, entry list and Auto-Type"
url="https://sourceforge.net/projects/traytotp-kp2/"
arch=('any')
license=('GPL3')
provides=("${pkgbase}")
options=(!strip)
source=("TrayTotp.plgx::https://downloads.sourceforge.net/traytotp-kp2/Tray%20TOTP%20v.%20${pkgver}/TrayTotp.plgx"
        "Readme.txt::https://downloads.sourceforge.net/traytotp-kp2/Tray%20TOTP%20v.%20${pkgver}/Tray%20TOTP%20v.%20${pkgver}%20Readme.txt")
sha512sums=('0c650f9181a9de23d2749a03a588f7fa001b2687fef3c9de2f1831d5d57cf8f77c57cf4b66bad163beb4793b9f30e79a5548c90dd235d6937218b973663b2a0c'
            '8ffaf3af4908371e79eb4f4ce945e1ea82e99275123f7186b7bc848113f4cb07cd5df050905aa834fe739e17312c565f07fd7b9be7fb935f929ad4b2c80a6491')

package() {
    depends=("app-keepass")

    local a="${pkgdir}/apps/${_dirname}"
    mkdir -p "${a}/Plugins" "${a}/Plugins/tray-totp"
    cp *.plgx "${a}/Plugins"
    cp *.txt "${a}/Plugins/tray-totp"
}
