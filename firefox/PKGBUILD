# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=141.0.3
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('a6986371b3dcc6181d8b19a8c42cad14a2c139c2408882ff7d8f3967e7e37d2c05cec0c6af6189714598732180fe8aae107b99c9af397245acf6b9d879e715ba'
            '7a255fc3e04bd7fb9823e20c4bc9690b6137ca20f70d607a7e52e5b932f9fcd30741c8795ba5574e70c2a2e8b46f6a1a66607a59fa17b6ee9d0a75de9445a1cb'
            'a5c7edfb97bd511f7c46f0a021be35f698553c0fb8f3f0d89d69b1f8509901460f48f9a258e6ca01cd41f7a40273806642ca1a444a008c8bfbfb7ce88b5145a3'
            '9621d28f6bbe60ec0affec637e084d60ed80814521aa9f7c9580ceda859e1c0cae69b63a809b3c07d4b778dcc37dc5cec49627186b2cc17b8ca019fb160024a8'
            'd926cf8c79dcb67965db5a30f10d4237933984e049c4e9eee70f487a2dadb5eca4867a717338d863766a1fa48023165cd0fbeb11bc9228957786863af803f875'
            '3416cabdd3d54d08b50c537baa80b48260e29f93984b11c15e6f48b1c915105775a7c4225a3f56a0c0e4700f9dee0f3c61d1da155d7e6d19ead875cf22160f68'
            'f676b59819bfe034b034c1630ba72a63bc094713852f5a713ac3a5314bd461606a56430594e72ac504b3a99fb4863da7cccf8990943562d46c2c64ef6961350f'
            '06e4a88fa88a63ff21d562284544b90fb29b3132cbcd2936a8dde265740c5db24dbad79fbe3cae2812facd0404bd801738e20b1fa2ebfe981cc68e4c8f97cf86'
            '4866c879ba025077478e4190cc5e3f5dbd6106e06ac440fbd5d5ec573fcb5ba86ac309e9b7e47a03a5aa969dadd93374b922f0bfc679a93531b11734977bbe1b'
            '3c70836f7518612b896e0772a3d75bead15451ef18167f725aff5edc1d68a299dcb9ab127aaf9e2b3f7bdd2bdb9d1eec4a39f09577bb0b760123d9dea1825df6'
            '6ff55f9705aa188e7d673a2e2d8183b25a5ea3e031c31b9be06153a8b075e5fa15f518af32c873b152c082e2a95fd672ff2e05df3d4a310c429e52fc99c88f9a'
            'b25f68dcd14d934b7f1df9a6defeab0903cf7326dc4ec42c875b074eb40ff0236de2340f343e8ad942601e1564a6b247ecc5d9239313d1c1b34c564b6aef7570'
            '13e40fb78f9c61cedefc7b1bc05b4e7b312b14d49c71e1c578a04c8bca02c5718012a441cbc6285f937e6f4c7be00ac1190bde69e985768c49b268d4481a8e11'
            '6296fc172852ae060a6f3033a2f5a5afa87e8de0ca29e00b9417f90bb0555092b4f6b3188b0a9428e62598cc338dbcc366c3ef38dbd5235b12251cb572f77a4a'
            '692837147e317e7ed3164bac7e774bc68488315422d2644d72e74d2d579c1bd3f9e19e0671b3b84711b230f1f5b9d5fe943a2643d610e65878a592e5fe3646c6'
            '46922776114e059184dba8a4cf923fe81ea4aaedadaa3f99dda2cfe1bd2a5da4a887ac0e1ee3ca5682e5343692d1bd494bb39dbf5eef9f99392097d9a9f8f5b8'
            '2f682b9c61dc20a48e56856ac947a8cea1f7d829641de232408d3572bfaa897b2538a486985ffc885492a5cca73dd5c7fc2f8f683756330528693e02521c1529'
            '256faee85a2f63d066a4145068ff8fbadae87d60455cda59564f0ad749332d5017894c2ff6bf4c88fe7912d908157e826ed666a969cf31c7ff6983bfbfa0803d'
            '658f6c367d991fe97bc7045aabec72a84124c65ff19ea55eb943be1e79879138a2193135eadb8824c4245da6bb2922010f42b6b83b22abf63f671cba52a59014'
            'abc289595ea5dd6b46962c61cc71b88dd7b441ea7ed47c2b16c319b3599c289edb3fa3a585c650ee26a44db0da2e588c864e804b46f63e97229fe722e917eec5'
            '78023ca174395447e9ae7dfa688f6e99add962cf7d2eacb0ea8c20762f355af83ad2a02f96e61f3f88d1f47312499425abf2fbed546cccb3c85b00e30a08721a'
            '73d98655d2f1ba3e8ee1d88b7e13a6fc881c0ccfe5c0619f1b1dd0f0ccdc35a2b34369c58f0a7a51e2441662fc4bb6f8127b867af286dd5472965ec0a06fc3e3'
            '3740501a53cc562bf262d2b9efd57aa7203933beee581c3df007e1dc1f906f28a74492d06edb25bf4f34fc43cc6990453d1178e636267608c29d45bb0dbd62a2'
            'a09682dbfbb6e6994cfda188937dcdade9534b11ef4c478442718cfb9e12db878ee1a936d37eb49dd628096934211dfe1445e667bcd073f82400bc4032b18f9e'
            '77b9633f1e79976cd7bade5de073517cbf953530746751bedc7c802599b3252ee3835ce7b77117778d6d67bc444152e6a039725809349c166846d1341d8632f3'
            'd38bbfa2394be3bcd3d319bae096bd577a7331a35cc454127da280ea32a270e0ba0c208894c18ce48e6dd428b9b4f700642825ac1f286f864bc11a3f4354ae10'
            'f894c7ee7573875035e4769c1390303c285911489bd1cd08cc71613eb68a8b1d14e3bc39973e6de77dd086e929b98c1776e41bded093b2fc222dad39e473bac7'
            '73c136d487fca20f40d876b38728efb9fcf2c3bbe8df4733b9cc15bd5f2391b0620ac57b1ca5e9d777e6d12d4588e20fe2727cafbef147f1e85c3f2832d9c484'
            '3906dd6df9fa55d9ea08c2093a387e7afd80b8067a77b98da711e15aacd0acec8cd4016ae22fd23478429a668178d4d2537946cfaa19baeb36e7f3e83e783d36'
            '9768b5c16694f445bfdc8e770f57efdff54ca9aaa04645dec191541544453a3397ff0f56273cea5deee1afbac9a6b986a4f830452eb37b674b995301ece8eb60'
            'd69fe6b631a7405ab542660cd73e65412f71ce9770cdcc51b2f97a10d6babd7b63517870c501861de340ce14ebdc5adbdb953cf4e42a96c23f04f5d175abf559'
            '30f961ab14fee0f676f17aee75a325f2c61b8f83585e43fab32f42957ca8b28ff36af2d951b8dbea728726c6adb9c85a5397a1fb0392a29340e218f8e68e7083'
            'ca36b040a8d94100f2501823653be8206279787d58782230b490e3fa93d99b137e95497df90aeeef07c0127953b897c43175695770c1310ae182a80577107777'
            '6dd0d16ced319f65d9e734ae933afd16902459fe87191f689d714673f0f51c18916b14bb3112dbef45dc4e5d06cca1476221ae2666777466ff365bb367dd733f'
            '1c71e69aeb6a44de92245a759eb829a24e96b4334683d6063ab5aa7e213f50a95ae76f4b195239a7785a8a00df4e4824070d68f783aa36fb86c0d105cdd771ec'
            '77d1d6ed13c95f1a9344c48cf1e5223485ef334a27bbf74e538b86e2496dfec6dd805bfd10a899b93eebbd0ee2975ff3566b9dc459789fe4ee6a10d20566e1fb'
            '277c87d4b734c196928a78f597425d9463f292414b6e5fd77f3b4fc441b1053ec5c8323c26441c5779754ac9eec398961d0ea11e6c0ffa4a7d3408c0b21af789'
            '7b569bb2d4046991062ab4790c56f69268f845bbee0da761c7ab9322107b361bed774243ac65ea664ad035afebfc4a654cfe8b4c4c18b400b3e909bba1e9b0ea'
            '136d7388e00b1dbc4f0d59a27c46966aa86fa1839f4c6d9e9b88f2119d6cb35e8752be7a614d09039b6800ae8ae74ec8d3e74d146f395707f912de2789deb0d3'
            '18f7e307cfa526734f2bc6a19f56d69193c0fa7314517d8bf77883d727505c62c17b5236557009f36fa213a97439e53f763036fd663371dd30a9f6c0154501c2'
            'fab5cebd471d8934d20f9e1f36713c1f9a7ddbe82f93b044cac63243bfdfc89639315755c2e83a60034b88519ce2d7aaf1db2835a9d88e18f1ba7811403d5886'
            '3fbcb8e00d7c0d3a6e159feff952dfe8307911765b48ef324dbaf48077b9e645be8f66ea08a93ee0a80a62d9c7f7f5db208ba163a034611acb766e8726629bf4'
            '55aae775c67dffc1c0a5baddb14922512feb8f0628d09f2e965f97d816c846e1913dfee0b5b14ab47838c52e05098df3b80a5187f9fa8645bd6c434f84ea73cc'
            '720b781c9fc95c15efaf345a7a922f7e1da67286aae76584864aa0bc42ef95d4af04b3fb8e266197c87ef394d4d6c0065b3723d6cc2b8b6ebcc1f3666e4ebb00'
            '4211606252410975cca1c286ba5f569437dfb0231fa3dcd532524e695730355ea330720a75f0782c5af3ed47552161060fdd41dc482361c92bb0c0c317bf4344'
            '8436790ba7c69b28ee7da41f9441ff3d6e7ee1080232576c99ce6908822c70686a97942d8365bc587ea5298f79a0f1d71dc67c8f0c83e2666ad8e80822434b32'
            '08e3daa3fc5403396dbdb8872fc349e711a289bc5c91f83082fe7e1fad89cb5945e2872433d7a08808b9b78a580d9132d0e8b8c8015ccd3e6e55f2f80ea1e694'
            'e671ab98f07e9eafcfceaba28960d018fdb2ba739c9685a874d930eed2bbc4597f365b4d0b6a9f0d910854613f42a5b71e4001f6ce5b2fc0b820838d35f99b59'
            '7a7cfa0ef2ea038c2620ddf2de72cadd05e1ebebb163cf50c7e99cd94481fb0d42b23da3c35cbdbd2cabebf7ea80d2ac28b9c5f9a4d42c7a6922ce40b78c85b5'
            '6e6f890ab6319c3d663c23ce556205b94cbf28e0a6c2839635415bb0b1a07e411ff84ea5ed6f459e17fa19f7d30e6ed65c043722d2918fe2fd527cbf90509598'
            '5d2d856fd54db7e1949f4a918242862d90ecb33e82980b3f3f5ed82d7c09ab28858fe5a984d0fbaf84ebe7339880e9c2f710dbfa4481088ce399622dfeb26521'
            '5a7ab10326d66569181b3112173380f1e49ce7d8987f3305bad8080098e631e89f9acf7394df79e1e11f1a05c0cddf36ae25b8aba8830be2620c10705e2510af'
            '973492387b8df6aecb14ec8d555d8ad1843b5504c58eebcd1bc44b31668bac19d2691db76ef42e4c272f539ef7f834fd5a4344ef412f3f9455e8106897567d2a'
            '7cd2af6a01896a88afb95dad71b5c9f49539c2b16d5366c73b8d40d417456174dd7bdb248d05f422d582211f09c7d0778f5e2c2137baa677f3674ac2db714994'
            '462c772082daf1cf8de967402eec8902b9e9d3751a820dd4f94e3ccfb145cdbc8404fd52a30ae1c7c4a028991f445719d697ef77ae3650d74dcd0a05bb686dbf'
            '6cd9288f491cd23142777d89492485c13433154e0c019404a3454ea1a6a456d3902bb3fa9dc85b3f9df92c02d0b90999fa0077362fc1d850c416c7d352b54cc7'
            '3ba8a247fb43147459d4f27932f2b452722813b8f45567b257fb6a81f6e0a7d00684cfe5e2b81145291791bbad41adba4c7fa7e54db23288ad329bb17055687b'
            '535ad63b5368acfbaa11e59e6295ef67a01193464143b7b3917963e372a803493ff97a6ae142c4e641b019b6b9794211bd514d3495fce4c872404d6155272b28'
            'ed56b0454e39df92596a5ab9c712e382b21c7b739c9748591e1073b82c22db35e5cd9e556bc1f82ff621fb6be4d4b7b64167f321d928c0861545e079fe102986'
            'f88b296b6c5f8b92a8dbbd0e0458fcad9e72c42ac2bf42369c4a4834f817a5f7bbbeaacac28480c91005349f2e8f95f67acc70a947ae948e297d70fc1fa04ed6'
            '8beaa984f7ea88deab51ff040b319c761aae91f7f044e1276935c971e4cd20be6f8a308ff6a0327d067c4c9c305ac500c99354cc89052fa39ad8d6f780f381db'
            'e97706449233f0af6fe030d28fd6292fd184ded3f8a127bf06e2f637e12972f33f9f0250e357ae82f5c70cded03eb8bad205e8e62861375985e2434f49211a8e'
            '1b8c9259886773c1e91ebd2fe419f2b3315849ed8915f548930dadb06d996acdb6990e6989a41eeb60a0b40a83a136137ecc35c430ec695500e6605ac1b5f089'
            'ef13c59b3243e78ddab22cb5c49d83b6e4b146731d3276c609b919d3d992561bfbd5f1f8a410abd16b3f60c86d3cd727380653a31238086d2e3964126ac37521'
            '2cceac51f50587c82c9a349acb64a6c4e028b4591429176004893b8c25173065c78697f33aeb58bfe0513725215a21a18c1757b8ffd6a93399772c618f0e2bc3'
            '4cec49b58ec347c98097afcc1f966124cfefa1c217d3389ed93b76f7507e3cc113176551f128e2b141817433852345a48c29368c723b1e691b5c357b7d248e1a'
            '928f35cc7bee0ff251911ae83fc65e0242cc9f2f0bbe3289aac135ad784b59948d8bd3b3f4d0070b7e37b5a48321bee29ebf6e38aef3b3b1d30a1991545d1fa4'
            'fc555f49fc320863fe9437a2a8d99ee02a6baa403cc633437ea5a1954e7bd9ff242891b9ea163ceea2e4927600d4604c18ab4cc96bd0128e02acfd8c6ec6bb5c'
            '8236f27015aa5222a996de24cee40bf1f3c2bdb23993a168f178f600c82f1dab6293c33f0d5348bc6c4db5746fa10c63db4461e78012d5c0b55738a197d68ae2'
            'a62db7ae06bbea4503e28d7860251f4aaed0a7e83d43350025f1d46a8476b733e6a0a26fe6cd48f136c06f6ca8ebb6ba6dc9f62713628ea48f515e0439ae6fa0'
            '9c326518b5c7efa0bfe35c681fbb6711935697c9dc2a0aaefa1811e8114491de825abdd611b9b4800f9e0f814048356b8add93a1cd3ef6fcece4e9a252e49982'
            'c9b0d2ac76c36e8758f69b36b87b102720bdd2ff97c304892a008d93cb9708f6e1cd8cdcdec08a0deb6cb9dedcc6331137f035b9ec6bccfdc65a2637b147018d'
            'd30767d8a5010b8b8ba744464e56f429eea1c1e263554746f0ddcc717ab9d81b7799630cca89c4681cce891df2bda089b73b1189509578d9ddeeed91d1174c95'
            '9f402897383a922f82a6695c232dc1543afa72e0315359dd427c0b9633224bf5e696b94a0ee28de21798c0e4eeb17b80e3b0f9fc1163e12709b5e8716fde8efe'
            '2d61787484a0e5559ca2b021b922b867417e2ec34921d75e834b79aea61cf63f1695f131f257297ccd25be8cf5fa3d2978cdaf9f60f7a0b39b683572ebc52f80'
            '99bb685b31af5c9cac091afeb99bd91ea8b17e25f7bc074f1577fef1258ae26b33ef71bf0a66f78a0f75cbe4b915b159029d67feb287e9e5964d102cd3bbebbe'
            '03bb94f65ae96ba89d1bfeb228e90c256f6e2b5523643379075fdea8bcea51dfeff47c62358bcef20eceb7b2e07699682b10882bc2a92119eb52d08a19a4aa06'
            'e07f8b8550822f6b4664c57b0cabd3f16ba3ecd009a59aaec3703dbb26cdea17419a50d99b0259600bedbcf02e51980265790f9359c850341293ed0c747cdcb2'
            '8d2ca181e0a42455b589f3874cb5f78e855f4712de0f5e835f03374a045703201dc6290dc8fe08887b088cbe10cbbb37e19ed2ecf4e30a57ac660b55a437c940'
            '2ae3900bde6085a48285515bee4e85fbef93952fcf900c3fa50d9ddb611e4efd381355a62fd87e830591879771191ab564c59eb06162ac0f3db41f9530be13ef'
            '3c24bc013ea16b89699dc1d0a2b1520d5981c5612193b227f0008a1526762b2be78f4ca046b0e1e81fbbe62c9036d792f4e56b96969581e5ead9de5c5a2e3119'
            '4d1df11cda9dc632e7897072e74760c34d252fb65cdbd01d17c3d51e7fa1a2d36d1d755bc63f442c93cf3066c852615df6d2287bb1c2a4cd1a52247c06ddb740'
            '926fc156d7337f62807dd7cc4d5ee7b65efa7bcc413d963f5ef2278967a080ffb54684968129d2cdea2d89361c3684f034b6bb60d9e62e94808c59e4329adb23'
            '0e95a7be43e74135714f260c0065b04ffb1bb01035b412d8c9ccec28de0234459b83c597b0451e6f24375eb49e92f99cbf57fd2aaa5d487f6db593686253bd25'
            '6296b194f0ad16225c44ec20a180bbdbbabc889cca60f50ce2c426a95198a1c098db4a06359018ef1631f611093f7a726fd1b2ba6152661da0d44da7cbb28688'
            '15f626deaa80e7aa42c76a70b027e1a0eb69d43bcaa28c3b63600766bdb7038dacf53a874939a31dad67c8195d7c967038827ed5f04d23f896a65165f0840d69'
            '997dbf80864b1b562ecfffc94e61cdcfbafba69ad937068e9904d054446b968891403f54c1aec1807ab392184dd86eafbc71309070a4bfbebc00c5fecd139c0b'
            '0d2d619d962bfd0f7713d315a9cbfe51a98cab930fd4265c77dbd6adc970b550d144613acb8dc91ad7c575782a3a8dd0c1d2e3d9de9f2d6a0eba2b518e82541a'
            '9af9d28924ca12be18aa0b4e8c82eb52e2299838abf3df93a1432591ec3b02be9088db81dc01250ad4a65f4808912b91f8c5434e31e16e91588bd556c01a783b'
            '866fc6386bd23286980ccfeb43712b971d83fb71fd59b8ec4e0ddc0e88863a4a9a1a94dbdd865f3fc6cf8be2452f4e66250d4bbd633436a646aebc54fba005d8'
            'e2618c44467ab3604d710c0d2447a4847856b3b3ab4f3cdc0c8e3127acd8fe033dff5698878bfe1bce29521922f1b1af68b957b216883148b2cfb3351d20a945'
            '770f149209c65ce101ab5f8e0bbde821ce7fa9b00e7692da9ca5fa26e83bf1f40072e5f44269d2f3556d1f2d03daf1e98fe8b8ba42cd7ebd79531e5ebd7bb92b'
            '64533c32073a84faf47c0ac1d273173c9180aa8a99a55c8fa636f66da43198fc8fb3e71cd85d53316576171182d2ffecd7a5b0c476fdf8d0aa79378ce5c656c0'
            'a4af5dfe5bda06606c73a8ce2199fb5b644b82188bba0192bca833e29e0e15b64ac81a6d7cf5b40b3ed32fee22aed362f6d37457a434f30c37fe9b52aa81b45f'
            '81641b649662cd06321d1e8e4931b584cd25f58ced37f5bf1c0cbb6fe3d86835aa3bc69822e1ec6763e66ff80799763034df09830fe2e69cdcedf04123a89cc2'
            'ee4f271e0c80358130cd067aa56fb3958cb5ed73eb1347334751f7cfe502bb5062b4f1203237750554f647d59c5c5fd96e172fc2ac489c282f9a4460a19e1fd9'
            '5d118f82228a3a57619f7f09b041dcd2e6d927c5ee7241abd2227be331f7409a0844e73842d0c6bb13e00575df26db84236bcd0011e260438cea61eca0fbea44'
            '36853a52dad35ab21cb09aa9f78a99f483cd54c568ce2501a8363fc25f738a977e7688b210e4bcb91b91c2b699557ea496d7504f4f9fea7019631bff1d281d50'
            '72d37907243293dba3bf4691623f6c6025d7211d2f7489bb605f51b6b7d3e533fe307534b7e12724e7942e38e12fdaef122fec781aea174ce05365b0937b3d6c'
            '9eb89b349cf528627d0d1c6956dc51882ddd9a687078890b57b9ca701e69680dc9145e7068643de351a53c9d251353aa02472604e396826a7c7bafd1bb96c7e4'
            '7900b817374f2385a6c92b175611c8206c9961958a6e8113d030e4249d081d1a693e9e7fd2c40381fe08d8317df62450bae517975db1443354c53c63041f1165'
            '7ef57658fc1bc3ae08fb4b44d7e670e19b44e3014b9e49185c275b2a5a6b9a2010342f99856ebdeda0d2567d452459d6e345f636e7f65ea7d8e4784a0b589cf4'
            'f1911c61a79e054dbba4315c85006ff416d2b76bb64847b4537291f85f3a0a55fbc0b0a83c3d96aea0dbcada635f6f935d5d8060f424c418a54d98c18b9f0b4a'
            'ba086732bdbccc0e3f3ae62ce5477e3205bafc91518986a289c981a7af13c30925a1e7632b459e6d846759fe06b14c936d14264e167a88a0de348e9ec22b363d')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
