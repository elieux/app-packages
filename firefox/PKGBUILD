# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=106.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('57b7f9c3542824796b84bcf27759c9bd1da3b1b6e1cf760d1f6052dcd6e1e0270dd3bcafe191adf9ed761a7dfbb28b2e71f96731b209e87f7ab73219effcfa5b'
            '24104d81775981ba5fd237c3ed6a77c6d484b024541af0b0b0e82d7347980a0d4244291d673654d96e79b5bb2a4a8a2d7da1b3ca133792247da1d0f1f35856da'
            '85716d6352f78f4878033003f27d84fab3c9e64ef8a4afe4c17bb4f14871234f6a44e91ff8d3d55bc2cf135315c0420306dbcd66b6b7ce23494ba40cce534adb'
            '158e9fea29d372aab6b2e098bc89ddda44739007da532e06be87e0a71d4523649a1f2bcba3229958e84d53f6d57f24e4c79ca7f8dacd55683ec55136fa9178ad'
            'c3c495110272e4154c0d8d1f0ead3f539c22b8e5065289aa73df78429ee736de1cb85027e73648f9d50b181419511982d5adf4f29d909b3315c18bf48d0702b4'
            '57decfbe30f8a1fa6f4ebdf5d5cbdc8f65dd9e0b8f17915d68c0817953b85bd1438477ba33d7c1644a8355d9e520bba7ec6fb5da2a0f7698de67615a017d247a'
            '83f1247f5b003643874fbe2d7e7c9a55818058ebe5604d23e0933867ea69a293520ad8d78a4e06578fcd41fa71bf8ebb73ecfb70b89aa63c30792b13dd6e5059'
            '6f0f7cdedeb60693ce878c6e27c7ede5ddaf3c9b2b1dbe40aec106855bdd9fd79642400a94d2263420282ad84f1290d3db7515899954a546d1b9ccd5834b12f6'
            '46bc766adec66a4a73e0831e8ba415f219b804a07d893eb3ceaf0c6899eaf3560f422039fe4e9a14fd005abfb996cd07dc67d77d9465baa4809acaa369b8027e'
            'e4f92cd2274e49201f4641a54952885dab49cc7294b5a357d195f4756683900a7af9827588f4521e82d235f70369e45428aaed1f1969b86a76e438554c03f071'
            '90abc395744c8536c0367d215a45de3e3528cf3b8009c57428eb1cc00398584ef32935354f8e3f526587685876c02eebf3abb6eed46051a1259b68d1cb141d67'
            'ab6660691a2cfa3130c55c4eb05e3844925af0d8f2a814fb6bd1ed490bcb89a357eb167a3bd7187b3073ecf985a56a8d0411b831a17bc7bdf859bbd697980200'
            '536f88b754355737d4d6e89fae03d00309438e207ea40abd8552b717a899e6228f51ebe12e147342684e06f3f6db24f2a0cacbb161f30553dfd25352d3214511'
            '07540dd444f9738955dcf4e4d8380dfd172f693dc89f0126ad842572be22fcd4e9bbc42e056efdd30233792721e8feb64fdbd01f3c1c932458e75f1cf99cf30a'
            '35ce73f98f4a3c5afd05850cc1bc9a50190182a43342ede1f42b7ecad701a953af224f9ba4de4c9a21509f19b52349aa1e30710eda0285b27800b2cbb8bf1483'
            'e8305a781020777a29a985f1e4182e566e67a2c8289af24f1281f760b6b4863694058b64abed0b2379efc97ef9ad0e38b89517c5bf1d8daa7be48782dd6dabe4'
            'f8b11ac1ef42803044f7ed538acfffb35f7f1b046514aab5dccdcacfa51452fc0c73ca2376918e25f56d89ef79b82d5dbf9ef4c13261e5089773e957f1db8854'
            '5983785c0a0186c43ef40c112de6aa32ad70850b9b8b9300241f461ed4acac1b30f67a4f45625df437e91f7338eb756e1138337f9434d9bd9487eae71d41245e'
            'f178e3cc6137a00f558cb9f8a1f1209d350b3e4aadf883449c90ae82a81addcbf4ac255f9f0b3371732b70fffb56b69046e796893344c6882241028284f0bb00'
            '60c6e9dc3566b294fc56b1a1b32c0891b408de2840dbbfa687f262a2f63cfa5cceac9d62a46597340d3fef81e0c9449c40050c8876544423836ffb6079865be1'
            '1f822f50b12528e7b6947ca2c62dd683baeadce9cd2d6546e023398e2f01b55d6ebc9909f9bf21d2a862c0c8c626a89eb87da51de5e8b542a55d9b5c0a7db382'
            '7b7646e761bc4143b598cbb7b3e4179417ba3925d21c28f78dd0fafd396e305c21aac38184c35fa7eb7052db5f9bafc37b4ca8d638e190c5b22489b93df3fc2a'
            'a0d2d51f508753eaf0397d9d7875c7027bca3e0fb9d38cad4f0b58678fa2d5aa158fbeae3b0d8fac86e720023b6629d8b1ced405c5d7cf2cdc7d196e0d8741f3'
            'c07bc976df35f36416520b60bafa1b8242d56e840d58ba64541a372eb37184ed4ff8bfd8103377e26cd8cd0579016573ac8a873856fd80e1e45d324ac47c345a'
            '1c53d9fd08c83968d76260a6e89c43bc606c94129bb21bd0d846134e668eebdca50d2a19516cc8277910e3d47a96c51e6c4aee5dcd9dd585c8028863b9054add'
            'b28eba89e1cbb7654c14aabd43fb39a9b4c5215935cfca69739a3edaf904a6a85c6a122dfeca3bb73b059bcdd8a2dc44e5992e560db9e56cfca537a60065c05e'
            '998b985882d3044e37f72ea482da0cbba4fc0e4b0a87c4ec4881517fa88eedf92f3b8471a56583273e1ccdbdc18c9b4d739e68c22569fd166dc8ebd27b10fac2'
            '18f542fa75f65739718e3a9a41fe8c6b3f3a792e2a6e6a748fdbb5f7c98af44d9ad6d63309aa8c2878f4a832fd44755f946a6fbaf861b25f4d4388400c707891'
            '2ed1d2590df1a1dc4a629c43b1a5cab1e40ecb7131434553c36740cc7d0b7e0f31196aba619a8f76faf4be8fa13e5f9d520aa5e97644ee58e6e0be28d6b3ef30'
            '55da6af74c661aeab4618ac771ab9ef9ad0abd93d5014f2df7d0249613794a257990fb1bde0a77592fb90aa4751dce1e9d3f483115efd34b22d08a16ce45cc76'
            'b8bb75035bccbd6c031ae0cbe86fda28533796c62b1fbf1e82ab8413a7d414cc99511edaafc51ba5bd339409177bb87d635bf7fdc0b5192faccfb9cea26f3dc1'
            '5a308a527af339ce5490e480c8c7ad76c2cb668046b11c9f10bceebc7bd67a336e2e3d409393ff67dc0bb3dd6ed64f6f2ae7c44e78974c7f7ef79fa2d39b41f1'
            '81a4d1ed49dd1772a32e18b8f2b27f6e7b2bc97ec603bbc9420631d5072674d6b7751649e16bb133e408b31006f6bf3da046045e68d78bfde133dd7dcc73ba44'
            'd15e985027878249147359b7add0c9b6f1e39a52860e0b85957d4bc433e09a082cc6985df590158a619b63b47748a8b30425d185f712fe8c0c5f0134dfd00752'
            '65f14cfdde47d1247d6ecd2537ddda908b6cead1cfd9ac2a25ffce8e8f8bdb3e29084f6fcdb53a4440edf74bf679bdf8235d0f872945d722f913c1bd9cc62b72'
            '97723db1bdd8665ebcb7dbe43517118cc396db0381ae2400ccc59f5805916616aecb41639db370605772d1bdb09cfcf4687c593f47c6654bd5dca00c9dc0000e'
            '7f0aad71bc42266bf08585a293204715a44041c8bfb3d18ddbf38a818b79bcc142a344586f9671303fe54fcc77f401218fd20f3df8bbda46b5696f43734f28b2'
            '39bdcc2ca81df8958ef7c517d59e4fd77ea1f1c74a0a81db996304c7cad4a783550732c4797f450afd054e393a35b2f7942bd92c9871b83375fb36aea1f4f403'
            '5e51d2fb4e6d6209108954746ee49db1216a9a3d30f4adabc1a96d5be5f653aaf7b6c421dfb47daaf8f1cd527a26edb58664bbc19803d5527ce4a3c306928c7a'
            'd734ca68f69b3cc2599ea9a3bc030e115b2a150528db61bf58b7b4e26ac402d13d2cc674e58a3748b3875d76cacc792dd9293d47fcb7659d9d2af7740f8b600c'
            '40a4959cd06c55ed929fc61cc7259910960b9026bddf92bbc53840f43ec84eea230da24fd5a7b4107891efecf31e580e6b802123a71191f71870e3510ee415e6'
            '6bd5a9dde2e4a7cb2c94678f6c0f7a9ddf7b0dc4c7616ad2ef3c9e275cd62642be3adb8983d108b7a6e318ede79effb84b6468ad6267528c08b2cb11b7423c94'
            'deeb1abb15331bbbf76c2749f7c87a55c366bab3c69691fec0c68f875809735a5be672b859fb8a787eb245e397ea6a19d3bd0d9dccb91bee6794b6b2c15c6e30'
            'dfa83e911e279f34a22ec2756b7b3ab0581bf846c5ee618bcfc5c16b3d43d46a597c10d5b59f84df0d2f9b1e7747ca27dc00b7e5875454647f77ea2d72062b53'
            '616f0f705b53d279e49905d9ac0580820eec7c7e5844ed31433c2a0d82184d260b9660a7649e66308643de3ba778be2774eacd515cc0b52b3cdae8b0e9daa2d2'
            'd023d24b1df4d36f10faa73e3fba12a28f32e90b10f8fb2ed60b8da303e14bc2c573764bd6d064d1b06134eda3492982bc6db23689bbd5f9977914cbe7051bb4'
            '4514f362f3ec7d24ef4f0ed86c6378f027683f187103fe7c4cc2661c186d6a12279041201106e936dbf9367ae27e245a1b417005e6cc7ff7c77c60a4da14730c'
            'd38d7378772c32dcb076b14874dfb88fc60b74cec101449f6b540556ac2428f1e2e52efe06c1be285776d3f9fcb4c1cf2e89354e384615dbe76de38de248ed2a'
            '9d697864a56c09e4d4aedb768fa7b04e16b8c5f25253aa4af17f7d692b42c086becdaa6fe57dd8de701542f9a250ee5b1f44e9bb2de04bbedf5308ebe1055f74'
            '6390dd3aab18a0a918ccdd31033d8c63288d964e8a55db6c9b9c8c255058513e062c756e52ec42831db7575ca00a45c94756d238c400b01fcb2e9fa3ceac6b1c'
            'ce0df31409a5a5a9be5fe0352fdbd91a1b1674c2b825643b74e724b6b5d17096026ed526531313366f5c0d712d9b1eefc18970524f509d9d8004c5ec75168ecf'
            'd14187c8e76948a57973ed08a2d17ed6abaa18d40f3521ec6b188985dd59f1870db4cd8ba9c4363e935c24cace741597c20427ff03f51d43bf0646993dc0a008'
            'a310dde14689f7d29c18698e5a354da573db687a6a65256c2a81324aa385be542e41a85d8232455b9e2a7720247e2170f1af8f9bda4028a790894ed3a3987a9f'
            'b95780fd59b3b80cfbcc90597a9b6d2611d1cb03edbb93b6df46d6a30671320b61b126515989f222a0633ac34f07888b48223687619a9fede87991776944b6fa'
            '608eceb274a2b66f1a453858d87b93c77ffe02f12438218ace4d56f640b6ab2f70b0b2890f799bdd27c1e815e6c2e2635cafa38a822dd59aa8888b56497b4e75'
            'e294ab00f198178307b28ee9a16dd15abcb086de5a2bedcff5ba9ac17697563f0637944fd5546d053c388f996104e7c062b6559db5f5180aacdcc581cec3a175'
            'b21a5e169f87bc54613b6d79d5e6d79804fd9bd017025fcbc6614b2779401b4914e283392f25ac834c9b58a9b4cd873f80edb90d9ba8dbb97aaa4ce1a673a32f'
            '1f42c3c5bb672d703df059ca9d125331541fc74f28cfb6feaf261602a7c8772f74ad30160735a97bc4009ee0437aa7141ce95628b1c21dcc2d04e22c13a44ee0'
            'ff796898e80d04a8e02969340b2ff5a7858542607f9c9b6914c4a88fcef33ab3d5181b8612a767739fb13043217e160b009cf158edacc970c27bcc3e2b1a07eb'
            'c8369652f22752d8561ae0499d7b125d218fbad13c4d493760b1db75655535405e3e245851f7b7dfda6f18d80b3d8f3b8714ffae4993fc74db6d466311a48124'
            'b54eec80871185c0458bd109a7158e90a9dead7eef818f9806bfe01dedf23c8f5348df3d1d58dff0d682d75400c9c7d2dbae54bf43768e803faa190be5924914'
            '7ba099386d57133eec275ccbf34b8512d790cc8ebdc6951019af051bef27a9f02db27011c150e9abb9784d59d63911742fbc5538d3ede83f6aab23437260552f'
            '65f7bf941ebbb07fa15a8430a1fd0d2d370ac89b1cec0e7922b049fe930bf38165b971395fa4f02e449ea8eb721fd69bc37f37a25b8b0b41439afb0bc97d154d'
            '06f5e78a4fe55e5c46a99012e7c976754be2d091d4da0f7b737c4af5ccf3721a8f95ef94bbf183e4b44ac3894e7811487adb179f0f91d306132dafc51965ebc9'
            '5b2a9c12b236f7946730ec6927319d3aa2a5edaf6aee020ff9cec95a2fe7d8f2c76e2a61dccb3b10e6df61f7699ccd3de36bdfa27732b36fee8a79562bbbe9c3'
            '1e726a3593e3403b7a13bcba08936eeea6cb8b754f2b1474d68f8d94d3e43e5035b6f2431905379b4460ffae01536f6a2241412dd82595afaa71a202ed645429'
            'e05fe8ffa57fce96d76448cf40abb1cbfd714bd0a084beb384a43bc722cb0e7749885c7c46b0809cb8dc0295403ffdc7cc96f20c05ba492bb3e72a4f09a2e606'
            'b7b01cb039fc81632df36538ad76ac9519aef42ec98dd57fafa8385e9410bae90b55c0d16dc3fbb58cf5c5f14f6670c0bef7f8eaa3fa0b3467a11b9984dfd7b9'
            'f2cf5e2c6fefc1b12237e2132e7ae0e1df9361b9f3c48b9f7a8a43a9cd0e6da854c786239db04301ced514a38217e9c48d2a3a593fc97a02b936c58f8b1f7789'
            '7a2fe697bd841d3327b38952bf97174afd5059db9ea82edc53d79523362c78107b17f5c1a0244b07e309e009e9e2dd260285ae6fea4fa56d65294c416c9d4152'
            'b5dbc1ad02e55a5e784350a8d6c61f018df84899259ceed62cbcb42a3f1444acff9b678f441db7142accb1d6ecdc69a250e762be9c1999309f8b9aa33850cd94'
            '128ead088e9046c8beb3df18c64d9823f4e6dd12697e75a5eddab9d53b1c6543a6173b8a4ddde22eb7e6790b85cb43fa22106cf62c4c74b89487f77be7dcdd3b'
            '272cbfd2ab8f111937b78cc3da8b120d964471712883c3ebd70ed0bb8ac66169c1ee5d7ddec6dd7d7fc4469b93591d2ab0466842b7cc307b5f47f5bd5d9cda41'
            '465512809663cb60a90ca38d0f1008b651997872497a34e398d6949c636a875d2afc3d18807b2f5a7f408472fb3ec7cc26f1ff59221e013613958e5316113a15'
            '520a28a9e7a1bef024ccda1b96567228c645e3c431fafb3634590d5864ce3764a1cc00914d1801ee0fa95bead81f5ac7ce6508dcb0c198495dce08890df47ce7'
            '71b27999cd6ebd874b1ecb78e5cd1b23b5d1aaef5eebae21e9ec1afc3668bacb100e5122fc1038acfc5f21b4603ba9fa4b0f703e485ebdec463b65c53324bc78'
            '421202a5bd9ba5ec143915c331251889c26924905b8c99e18f8f921f6550e5468bba5b572dc50ff791972bc336c683c9a0e0f1ff84bd1b6569f1308c9a757da8'
            '449f4aa4bbce097fef7b162d512b37e029809a9a8b902bb8683ae1df11061139cc81aff50e23aca8383647b8aaa57d2e523ecb59fc7ad9302e80a3a6626ae455'
            'db1cf0250ce4c9fa8ba5a639b3fc9f49596fec240c76d18e9d6fc0ebac769974f919c5ef2d784acbecef44ae74fc9ee130e07a4a4ff710dc527ffed305236098'
            'f83e36927209490cf1988119eb54faed68f8fe9502a8a1fef0dfc2e6ae198982593f0c183e97ae432e6b8e138002ef4dfa2497204da6945c138473b768663160'
            '8907446a55f15b8997e7da9644fe661c99ea770cac947d5fff6a704f348afb81e3708287f16fee6cc9499386bad7902cdde737dd3354c560aa44fe61e0cab0da'
            '85d9472b08c750cf5b06c04e7fcb0a24afcdd8cd651fbd38424efb9d8ac36b194b350bd3138dc4d5ed57c99103d56ceaf95f96d910c799aaff122c7bfb191e14'
            '94c52ecac07f1855409ce67342c72a05e5cce9a74355f8f4a584113984ed6f5414b1e4447ab4594e3afc25f9052d2243ae62900c188de194ecedbdc5e668aa35'
            '3e09cdca17beb82f9243e8a8b546c45f12ae8ce1a3a325e09564ca22db7ae7047e1a3c189eecbeef96ea940448773df82a285efddc1cb022c7caad1b477e3c10'
            '45e3e53d79f4a55044bc3324cec1864b8b3c188bb5cb0ef72ac4372f3e9b4a30e6aed13c2ce1b1dbd0548bb40b53e73c10381a3de68e1b2f11b6a82a33a614d8'
            'c8225df95a6d1e4587b8bfa33530c31c6012da98220093f578c4c381bd764cc5100d9aac3546ded76ed4b068e08454d22a4eed93228d04f2767dfcd36c68f60f'
            'c798c6db6648dde77cb5609b7d334c5b9c088ea72007169b4b0c3b03659b30cbe95c236ccb0b184e6719545d59978fcf11cb22952420558f540f0a2e74d5220f'
            '5ce8a0ca3b90053ab4ffa3345a944728d875e6c01183eb680a9b7f29688dde801d123b7dbc9894a2f1e4cbe431d1094ac592aea3670499654af03620da02e0a9'
            'af8fa9e205209caf6f0e217f721e62ab72adfe411ac6e03725b57429ae8c944e3f374743796a3172da460613aae1ea62e0e89ba96f6c2eb90abe817d84e9bd10'
            '600f4ad13a49290db2563a81cc2bec4d98d5ce02a2cc37af5d0158d73bb6f7de7ced2ab85d06fe1c61ef46870ec163b9f44b4f5971dc5ef8d2c1c53829ac3139'
            '77b99ea6ce1205f7620607d9250592f4c906f9f30480ef1ac581b9ee6c1e552ea470d4868d6d918f4ee1f7d585b7e93ccaf880c99a74ad37701ce9da626364e0'
            'a0c9652894004bdfac7e578f75709dfe6130d270900181002aa2f998d2bc2aa0d6e1a799682c9296cb3b57ed7d0fd4cdf9e0444a4c34f0fb2a78407c9f3126d8'
            'fb396d94f604c23a38e7b840770d195bf070e09fa11938398c81ef6fa33a223f2000405bfc5081cf63ef52797f17c7165bd51c1a3d061e2cb5725c1af978019e'
            'df553c83566cbe60ecddbab2babe65e454e756f1538be7058195ccd34511ed64816dae1c6801844f7721d712524a76ebbe1d27d09fc0a374c2f7961a40ed224a'
            'd8e9a35708aa6331282aa7ed80ca82ba2f13ece41bb93e864f1c676e4d0795ee8419860824dc5c0f3eb696d783cb18b3c0f91e1d61237eb0a6831b6fb4fcbcac'
            '99dc706df4f6a3fc06884003acca0a6a28c7b7b7d67e5598bebf008815b664593ea8934699aeb41c269db9a786e4d4d4cf29127a792fd4641787ce52d1c10f9f'
            'c28fc89ae0a387e8d0054282f531e4f224195e381aeb04244fe7c6d7728b7e184d148f665a89d7b1cd631777825fdf5044f668667cabc02cfa539f13df4df7b4'
            'b4790d2d0e34aa928c3545adc781fca3cd74209c4d9daf603cfa63c382226692a8a6aab88cefbf79765badf7a61fc1d489af70efa0e0280b30221b5ddaa8194f'
            '4cb65815eeda936ccdbd09f55bfff3c441c692dd92535a984828d01a65c135646d6c0b859dc23921a08fc6765be0c1d4107074ce020f2961959ab3ad5d1b4382')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
