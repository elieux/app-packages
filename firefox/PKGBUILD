# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=106.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('558812e1405d9f4f746affe4f9fef55af530b96771fe66b9ca45248c3f5de0939884d745ea4171bba34e50f208da9b913d4a6545e1495a2be5c3af4caf4a754f'
            '20ae74577a663aaeafc17a23e3a683ab503cecb666dec0219a1b4ea080e14be752efdd3b9f3de3001dced7b39ec19239a454c58d25f55536077746283aea2f24'
            'edf8908c02e2e42798f6a2e9df98aa3d2bd6a12926a649827bce977532e22608bee6fbd4a7c39edaf50465d4b7a45a52d7e4f1b4716d882a88d6d3294ea93060'
            '33612ac0f792a254efccfba4939a3c15ba84b0f17428c37c2e0ae6b37afb1bf5b3ea18036c8581e342a74d52a8bb1d8af22c645f1457d55567f02aa6a4b4b2f5'
            '60347ba0ce93b8afd7a53a1a307366cbc312758e32d74aeba6643f3265529904153cb872923bd85f0a57e47c327fa6e1b51dc9c0213966182117738d4f8dcb1d'
            '7a4f2923c078fad1069622a20a9e455ea8696b1eb1f2414aafdbc6eb81a6636d149606ef342b9dd0445ae603cf9c5877901ebfa87f5f220ff505bcf1ccae0c7d'
            'dd1439ed1ad5e760e596dbec2d2d51b010a003a88a57fe6a4d088d73cade4887f0dfb84030c08835ea0b8d38088bcb3d4b2bd2cb194bc587022aae5154e8c8dd'
            '968a7c3a94b8ec8cf84ba405c513b0f9123687917720ec1e1607b82df9a598ea5821e978616f01938e181e85c3568e75e348ddbfc7fae6bfc1f1034bc963f7d5'
            'efc1cf29e98cb5e3e58578e01c312f2859372860d03f91a769bde3922a040eb255ab3a7d5d0882c82f0f6fb28e553d6d41ceb8cd253b8da58d3910d39c8ba131'
            '658db5a3b02131c9abfc53ded9b34ee63f2ab223258dd726cccd2f5ae1d7c3a995cee6394ab2dc67955fcadbd4028a2b7a35ac5b2e1c6144139a425d734727e1'
            '995a3f5c5267e3da47a7012b7004a90e56629cfbbc956a960b66da3e5e5fdf3c31604742b2a922e1a997e718ddc1b348b9cf33fae61052f6ff1a905728e6a640'
            '293b2a41a2cb76703705d1d049c93cecf9a8217a603d65b6fcbe80534981aa71bfe5964b5e3ad221660f8a294b0fe36d77a65f764f92e2afe14de3fb75cb9632'
            '72bd2ea26edc07ea8b833fdfbf972d30296665d5208b8b4a4656f23707517f2763b14540787d18e876379f35aea72d6cc270594c817e6d953cc22bc4a5a25029'
            '21a450b24cde2c42be78959789d824792395d561adbf94f55119b9574c2ea4f19dc8f2ccc8cb2d514ed943fbcbf964a7e7a2671786643e6d0626a32390f2ed95'
            '97561a2742b7f94bc463726ba29f322e78bcc53a407a2482f92c4b1e407989a7e415392db2158f1c7b5713b24460daf3c555d8d3be56c8d10bfb08717ce4379d'
            '23a7e522e54ca82279f8b1eda6820499943619a6d7a5c3151e85625dac342cdf056cfb065ad505b4a4ec91dadb5a314599a6acc92d8fed1c4e826155fc31a84c'
            '37ea1156174933693cdbc3401a12503d5ba4d9aaa49aac9530ecbfed85ea33f7c34df3e9135f8284fc898d945c2b16ce5fbcd5c09bf1ca189b8ca7e10e4dcdc4'
            '1d452c4b8a6e1568f152c4babb2e82f6cf9aad68e34ef9d0c72fbf7e66359637166916eccbffead10633ff93e7bf7b910cb37e62a2415c3ed59ebff962dab737'
            'b0e52f9296dcf33117cb836bc76544b2b86ed165b1065c2f1799674e4137476f596a2d3d07e814d463120cd0ebe018ec6e5c2eab68e4fbe08e9824c8194c0a2b'
            'b982a2c29d6e610de6fce12c397ee7994192e5050212f63718d8909a29e208ce1f475db7c140d876448d9463453a90f3e2881ab1652081cc90e7bb20f3639a37'
            '0d538687d1675ed26b872778749d9a0597b51fc5b0ad8d83501266da19e7f70adaca432f7b66ede71ccd1c837d95da46e13e63cda280461e560de813c00bde8b'
            'd1a1d95870f1ada50401002e2d8fc13036308f955ec31637951b9819515cee9cd3f729929d6a3d50ca6bebb97c5acf39577ae1c4230ec820d54de017706c8f17'
            '4137debb9d73c7bae8f85bb980937c151546f1be14302c584cb1c86321507cfb818e5d9ed96c79ae2de85844cd15ccbdd02283a2692a129d1c4a50985ad5e86a'
            '6a06866f38f9f90997901dde5b2397a5fa83254ba98750384eaf521628e44e76ba53ba20c1735973da619c9f0f12a788e1eccf0c327ab0093d4f117942d89001'
            'e7905446fa9cb63d7d564566426bd2ff44ed25e81b777e9e31cb5ac164fd1d829c83897723ae995c0c3bbf6bbf5850e2127d51f6c7b16e4a7da2b149d2677e80'
            '4ae500f3c7b6763b1fda5625daebb7451e84b55e936fefc22d6cf70b6d2115c596a5fced878ef7d9925bff7a381e58e27600c004d592108989cdf050141328b5'
            'c2ec1a7b40ba5f18e7fb2fe88c4cd7d6966adc1a24cd9d9e2684fc351fdc9331ad0878eedc55ab0c55780bc2addc54b7ec77a5cb65de776f7ba06ff524f162d6'
            'bd49bee5a858409046eb1ee0010223a737080da8ad08de7ae042d8260f4cb671f38c1fcde83d3bf02d875380fe18fb7b2aa767b663d018449e02cd02125b4ac9'
            'fc0d6c92fafd2baa1e174195da336ab0c97593d8d46a8c1702f55ee372ad48bfe5879b5d2485a230a92890d66a8435eca8a5af52a02dbd1433646666c643784a'
            '75aaace89f05a14336fc69838736c35a7c56de280d8a37c0cc0cc202982ee8193efe59cbbeb10bb57f07327ba291c1552cccad38fe84c09d915fcec9f9d629c4'
            'e7937c171cf7d532173b33939bc9c61fa3a7fa7abf884124da76500aa7e31360b00a0db280d2323f5f95faa58526f5e02ba620f8fbb64d611a8db8da845d46c5'
            '982929de05b5db9745680a8d9ce3fbbc51a84c9ed2c7bc6037ec1b147ce1b54aefd8d708780ff6be8a4daf22fa12cb76d68eb24f9a2de9ef8611ad5968445917'
            '8ec032923a911dd291e1946cfeff62d8df6af2dc9483acd6b221a3c581fafa2a26799c6d9f0e3d71b993f5d265c3fbe68dbf44975fc150088e2e7d8079fce26f'
            '90264b400b1a99d3e3762ba5a09aed00870adbf4a3354bb291a7d4b2eec149afea53256fa081cee2413ef89f5524abd5b83eacc11cd17baa89d0935e0c84e0d0'
            'cd833fd7bcfd271cb3c67419d5d254133bf032795e8793b2ba9ee5dca419738914cdb140c3ef737cdd55ad345a97359d0cf336a4f12ce0cb6ca7a727658703fd'
            '27ddb6dc4bf5f1970e9649e13d9e7ef01411ef44e0bb7582b6ebb169df4b038b4078e77f36d0810ae3088678a3fed70ddc53b70f75ab893aaba4f5f6f402283b'
            '4e5345f7a7d1c2c1c819f56b86c14e7866818b14b9f831798ac6b639655e578c90e5c16644e8a8d846c34db14f3329e926cde0b31fa2e6181f200c54947915d6'
            '8895f20a04c544507fffa3673d23ab8a7abc47f0f0bae3790832e34579d7dae319f128c452e8219a8e36b34638eb149ab598fa8769cfe319b31b352f4a831f32'
            '2e42597e096c5b3472d81fbe27ee2a7656846933ec6307fd936569253bdec9191157dd05a747d6e0fc8171b46ceeeeb88f0ed0bec94a7eef57007afb1cf46953'
            'c384a4c490c7c1c7b989dc3d59e577072027e093557f398ab14acd9fdd8a8f30c17d56c34fa8e0e3d96205cb54973f980f2e2b5215b8498d8c03814019c1f7a9'
            '9a23d438e8062d6eaf3e31c6fe945508ca8ad9b01af5c778aa6d3b8ba870898ed544e47c4a08fca9b4748b78c0a60486f54b8e442b3f5601ba72535b75b7dba6'
            '72608100c2055ec8e924f912522785ab80266bcf22f2c73e45b73f33941c31929006872d7fb3b5289ee53df5e4ff703b531950e6d668be8c99ea91550ae2309d'
            '2736b7ecae9e8b37b2f1e26f4998c1c947465ad857b4ff46dd0194d12b1e017f692a397f7967611c7fbb1f2db97bb525e6941f19ac0b4eac432ae8907fc5cdd5'
            '774cb2c4dc683250f6fbf6af0ece2b4b3617df5704f023a6db9df85bfd188ea08aa3d9c07fadd5109501bae4b31986f95f17fb55b2b1d5f39e5ba1ff3b760290'
            'f66b2c075c322e3e1e41eee1495e1509bad302019a5ebf8c7e3f98a29ce158728493663302dacb4d35630a6ec7b4d82bd7ef5f111a104f8b12b4f99dfd432d96'
            '59c826dec708c6b037ace82e7851296a1770774df62b274a32e2bbad290c51fcad4273058aea79be4c223da1cdd50ad5e563a523bc0bb5784a85c75c7f207784'
            '3a9ff565aeb41b529fcba4d0e3465d5149740fcf425a905f538f5fab01f5261f70ff17fe0a6555736fa5c100ef735a0dccc1ea4358f53c0aa6bc9efd9d2dd4b5'
            '5e7a5a5bc5383dc27d6a022d652eb0b8cf580092243e0a4585a977ebbcadca47a3001c1ff830f0a8244037c719bff615e63c3785922bc4ed90622c061ba84983'
            'cd9e9b09905e06dbdc5bf4f52595aa97b87735765e498c4a54b84088ad125a47981edb5b93343f7bf8febdb2568f6bba8356e693076d932d162e339ba581f81b'
            '78b7ba8ff91591c2f52bc3b3a762f720aad6dd4f616801e25990ee24a472d8b492607295c7cd6cfc4329f27305c6a5bded1312f9be27deb7801530d3fb3751e2'
            '06e8423852810c89a72f300f8b66dce8d00de29a410e7669ddf868a95181218861f0006e8cc634f8cd12464c3c455469e05afb12bc67737d420896516931648e'
            '7cf410b0891235c478b664ba833427575a414e29782dfd8b7ddc24f5049ab978280befe8e7efe73197980d520544ae65a25b0159eb82c73160fed1b4e4992be6'
            '95f8cfd3fc3f7f2856ba8362279fc87c76a250f029fd3ed8e6f64075907244472f94d87d26190710a78f41d118b3561d5a87c05dd52509d7f4989e51a22d7942'
            '4a9ff28e536956b060a6637e261d850052560130d3093cf8f7c9ac56b195cac7dbf9618fbd0b7f49c8141ad4a1e536533a8d6911b9c36994b98bc62b95af5979'
            'a1bcadaafd179b5688012955a0cca9d81d6bd10931ab3d127927f715c7863df45e32473219bfeec86b4ff17ebcc88d7d5b002ff91f3a9154b87602286a616c8e'
            '23684ec667334a96bce7ceebd7cc683e64b8bb5bbd7eea3f68ce875bb70ad482a3ec3d925a9693a85461dc65ef2f94bf18551f871072b820a5b0512a27eeef2a'
            '5488e54eefaabbbd4a05a77db360ea8ffb21e39b9def49c135c160e616a393158ccd7db9af8f2b8f3cfc43fe77d4cef2db4e87281f3fc7a422f997825778999e'
            '076587cfc2e3124e183674c0cdc466dc090062c1445091decfa3d82128da811d1a9193c94074ef9390e166818b2dfcb3bc1fa51eccd751602a83f897b06caa56'
            'e49d2c457b362064ad9ae5ad30f64ce5f694671b4279d83e36ec1499eb67bc8819c9ef83f892aa17e470e3951eb41c545f294364d28ded9d713ea9d4bb90196f'
            'c61077dda27c5a87fb81961d5141d863a717e30b2bc8ddc28ac35fa71f60f1783f2fb752dcfe4bb6a3d5e2ad2fa3456f716cc13c84fc960a83e2f10201aa3428'
            '81ce5f815109e039d51d589dfaea64f0653e263298f06db458339e6e341610c97285dc965df99d71fe6681c7fce9bd01881dddfbecacdebfbbe0f6ae0b68c6cc'
            '5db10f2ea9bc2c5a9f82c5e2c9f6d84da616bc4de02b73468c92fe58cf60baedf7329e1e26fb37630267e052f30152947adb17729b0d24df75e57293e1a9beff'
            '3a6ae69372be1bb835a572e22be5837e6a6c29d3fd6e5e191216e418b340edfaf209015f08d54f89a5f06f63158f3dd1a4aac48149589197f2afc968004e40c6'
            'e7a82a5895ee2ae060667b8de71b7a3dcd229c810b141828c119d5c5b458117aceb5af9b9d35f40495ca298b4360f81963a590f153f3185d0a697639d273c609'
            '01a05516e07fcaf8be5bd480793821fe50e0a7f014f68b2190e16e96e604e48b6f8fd27ec2569b2a46b1d854e3b43c512cf5fac892e402232ca6968b8f245539'
            'b7ddb61c20403d81358beeb332893a5b2ff29bfa385748333178f1778580c93e9c60feb40b754906999df0bd246edc368b950c033223959fb26b9277ebcf1ead'
            '1889e2c71ada8b14b5c59a78fda7bff63625ffde3ee202e08467e38d20eeb9cd79b45d62186c00d2696bcdefd47ac0e524a4461435a1e167730711da54676be5'
            '7949d82fc4d8ad78eaa4e1f073c0f8488c3149a093f9b538733f8654e90871c9f6189a4728e72c70cb31cff39941951086bdda9c587f82506e2cac3fb61bf7b6'
            '181a3d04d6898b0534c1fb9df77488865354e5b5bf9372324af9487bbf766a0659163a86358db182857b4268851734a6dc4eb0d56b18e313ab47933c6d7ae90f'
            '57964d7845764b2f4cf062c36c7b6de1f8adb89db7465d276202126f472d827ea9b0ae1f4b93ec72f223b5344758f8f7b9853c05722b160f586e33d5d5a86b9a'
            '61af44ab598e31ef4b6232db5446489f35a0ab883ff8fcc7db08f71ab7f59ec5b371a6aa05bf10eef87e3f36d32cad4dfee17cd48517b83745d874975fc7ca73'
            '98b4b1254cc5f56509ea70515c99ab122194b9dd58e5175345a36a1dbc58595be3aa5aa8c9ce20e8abee96a2451317114caa5b4dfea7728a7800a1592cf8e74e'
            '36ff35e37b97336faf5a8e8c8bd64a214799498b9df0439f75ce307ece939fac7c7bdbd026aea798a791566d1e03e5234c0dcb3db8d1fca9af962f001bba0c7d'
            '6936bc96be2fa0436810e54528cc4fb6ede571f48e5e5c974d49e1c4782ba13aa64513a589490af481c3e085d3d1e125ed5ec150e9ac8ef3d14f97ea8d02bd12'
            '8e283987ef0a3866245ed3cf0154d06e29e4ce6cce98800366302caa6ac1a50ac2416795d7656910a83f8932da890334e94ff179eb825dcd27ff483b1570f08e'
            '1397e65b7e69b481f536f506881a92ec7bfd24b43a2cc79940c104e4bc372990f911b90cf8d63c559e94d7854e54015637280b0daa1ebf3ce65ff61149513b53'
            'bb76461af17c8d974a2d125fcbb8d38d420b48902310670aa40c4774814b7fb1cfd0e00a43ba8397f5747d5070516f7cd456f063ff2ffc90b5ec6f2511b80eb9'
            'e0c84ae9fadef2b6251251835e31328ed4038e1e5d66ce225f8be58d72a5337cce1443a732b17c95f5a36d60da6e71b88511af971328172c65e8ac74a81444c4'
            '04d9827532ec4bdc777ee150541f23e278c27459597b2bcb577aef2218ec31b80ea25fa22d08b6c750cd2b9979197888fe978b37807bb5ae5a09a921a8df9cbf'
            'b4997438750fecb71b1589af994949fa55b630763dcb7ba626a71490ff23f95ba6d2619a11ca90d0623bd76cbe4e345eab1fbea979a31fc7bc1ac21b6a892a62'
            'f42f2ac2d252527a88e19b873d440b47e36f5ae4d4867bcf081b57a45bceeef737918c97191052e08711eebcbc5d6274d8028ec42135446dd65bc62136002345'
            'e9d7d282e3a323890420da3170c589bfd179e89506ac40d4707aba521a9db94a2167893145c62012db395a2b02f7019a87be0f697ce81cd21e55d2df5911a923'
            'b9411cdc9f154a74260f8a66231e6eb6d4d45ac30654986ae41c92d951d69635e2d1c65867c893feba426c2e8d7d94350385c0bd15d7332c308e98e680dc9967'
            '1869abe61adae8cb1ea4c2b1397c57ab30d57d4f02abf9dbddfd8795dadfb6d050244b62f7a6554b47ac1ebefd61fb84c5bce5b27ef27f581c1ea377015f0331'
            '94ee76b7740e0583078d2e0438e6451e6953bd0a96b399ceda37635a0eaec12dd3275c3a4d809114f87c652a9d30cc38afe6cadf5ed7f2b40686b1d155bf8974'
            'e5a5752df9a48cb8440657103564683254ec8fee31f81f4dff856834835c1aaa018c73a59e8e8c69d261c2681070a19d509ca1af21ede82b32c3e0b9ee33a1ba'
            'c71e4e8d498e07a0fd6db8d5942fc587a5fa30d61eaf9366e5db1fde633a25bcc1cc6ee60f9ffc61bc6b9b5b5b1547b3a21fd7d14d1c1238e234781daea22357'
            '9e2965bcea35bdf1b54b61c01d81beb8d6f0137ed9edc0260355c6dc1500a5522e86a45d0cb1022dd11d1e62a772c1ac2dfafd199c2a87fe1186775a39598b8b'
            'f81e7d55a3c3a80de9497e221af232d86a1f33fdbe64d82fdfc988f02e270c7dd4530411d8667b6fe3a9c243051151e9d3c76506acd208a657d138063bb12d5a'
            'ef8ad0d373a1a47fb2a8f552449470b767ea6c45cedffb275bb2aeab09c76d5977215f7205ac99888ebc532780b93a172657420ebd3d354764cb223bd53f83f7'
            'a9d9cc37808c201fbfb56cd8c10539ace6e8bfd32cc48f9c71f4eff7837861006cae04ef041dc271af916bd0dad23b1ebaba218f649b207617206ed763d54d4b'
            'afd471b41b75b28a365723e5bf346815e27e84773d815a58a0604d7afa7d7a8e0d272cf61e41c50167dade29814c34616078c7aafd8f5e38e7d5afb348cf7bae'
            '7782c2a9147ccd3903fb25a25aff8c7988f26db2d598098932c76209b8a7b4b240d3477dce706df1516ac0bb3e07dca39c9224fe0b7742971ee4470c15a85238'
            '08ba6cdb416dc457121f5812763f2872fb8f102b172cf66338155aa9a2bcab9487a8d8afc2c0df2f9a051c4efe9b44830dcaf2754912568d6d2f140a073b2ace'
            'bbbf16bbaaa9f06282e58c58c9062325296bb97750096346d55ddbd4e1f03bf38a70088bd870ad3e780981eb86bbf9504ee10f71a858f9e949c15b4b5c7bea75'
            'f07204010a6ea229ed46f70b0884a9ad862e982581ea26b0ce9e0c90ab4059e4e22efd613a0d28903df394aa0f52020a5ec496f64785177b5ec2742519d8ef09'
            '4b7e3c147044f532df4547a765899256606e67fa64c3d8553cd137f52e02a1a8ba21953eb05108963a7cbb3c4bd1659a63ce5bf9d619fe351581865723a353ea'
            'b997cb0ae5d2c76ba4ce885da09207b2561c1f4453ac284a58ddbed5de41f0378bb4ae7507573df378a176476392b278e5d025a8d59f23962d6fcef72805420f'
            'c6849a68624ec1ae00fd5f622efb5dc6e79a03c23f924c40e2ef448a4d52b9da972c263c3719c3ca033433212cc47b200e53403f5c26fdc3561a297911ad48a2')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
