# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=123.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('52ba0daac2c2f01da33840ec7253b464e4e07a74a56caf169619aee7f70257248368424ae5571a9caef43d3da741b92742fbea34bd605ba8d438975b57d8086c'
            'f6f6866bb406763855ae10e021d9a02d7ed11972e627f77a9a9ef4308550d7515141435f1e7688302e38e78d995dd83d06d7184c72385f2b6461cdf1fb1ca5dc'
            '5debe069a919b6d33f4d3fbbae06399f7b048cea3053e825673a9ba864d5464b01896bb67ab8a68ad44dece437edeb975bfe4803a36df0088af82541b52412b1'
            'c3c3d3a353a9a4fb5d7004b7277192f79601e3ae94ac1169e50594bcb29a19b31bdb67963efd021422917840cc04a3adf22dab58ace0646e0507b96a1704f22d'
            '07a97ae8876a7c1506d969eeb8bff6af0f0e8ed0e0b5e106260c55c86d1125e9014a731e28202a1a0a714e50e018758d38108ea755fc78a3edd0e8ffd9844032'
            'df4c677484f35cafbc55ff6ad9838d7a71655317cd91b8699501b73f9038b3e6403e36859ec34e34bed85bcc09259fef43d7dc3ab14afac7f525fa07c269e31a'
            'c11d92859df9b96f10d6e1e012335ac326e06bbe9fb74669554f154295a2aefd27dbe832ca2e7b61923d4e2a1edc4ec09ec85c8b26fad3e1a9c679dd796020f7'
            '10d734c7487c1ceb99920e9170653593e0ac8d0448183cbff98b2f1dbe2880efac8377ec7acfba942d981a8b053cc2ea17ad9d2906249fa70dffeec3aa85ca49'
            '20e396ab8a531f70ed25ab2ac1d69a382f66d8d57bdece529c166d181e70aeb11c0cc27781aeea430c97d980110dae2893a91799490f03db938ac4e3d88d69e5'
            'd3774fd9c21e73a877b9c0775e5925be326f0dd98933dccb0342e37c84986b17cf1b33acecacab979bb7b082a0ea81f96c172e4681b2e1370d3d448190d9e084'
            '662d44da5449ae0bb596414e0ab48b9d640e04eb2e9f3fefb321041a05f02130510767c9a6c585edde9bf8d528aa0978d2e658abfc6bad3d1e2b593292b0e95a'
            'f48c895223605f047e273a7c8af37b7ae0e4ad263e80894cbb4cc7f9ea8bf82b43b959293d58ea62d2db49b1c5edf7ec43de8112634979ad9e6efaecdeac96f5'
            '31f5a483d10faaed68486d76a3cab5b82ad5bb78287d20b608e41d3286989de56758fe225cda48a7deccc371b9d9ebbe632715821e535775e6410fe346d5faa4'
            '99cf554bcf1964b5cd5cf8f136fe1a6cba84b801a54373a281405dfc5073758d275db1f6834d116d815708d64de9712480fa0cc752dd5d4698210d9d6a0662c1'
            '78386cb171591649d73957db57fda00ad23704c8595347912a44090ca7f519494722f4cca6e0fe4ede5b3dcfef515cdb51cfb0b8b29b28b704af302c15701242'
            '549a2820e95d9a49329d9ae9b2bd2a8ef0dff68daec996f7ef18387cae65e650c09a7b11cc9e0972b0920c4d619aad75fed109b34f6dc7e075aa87b8d30deda2'
            '97fa7781b41137b63a8b81fae4d255fe71b0475f7d7fec7ed0e1885c972b72322006e27fa0093fcf13f9e340b34f0165a139aa08fa9079d44e54017b667316bc'
            '974a7d4d2b4ee62f067c2fb0017a323120abf13cee41cf1e579cc0fb033e09a4c0ba0df79811d04392baa88f0e58acb4635860f12c76085941d3d371ae0019c8'
            '37bde470a50d8a5a062a0dbec5c87c578240c55571f9b2bb7009c6f608e7bb56cfb88c90829884e39f6b51a855e816bbeedab62765f71c6c98b8ba816f87cedf'
            '7fccce90e6a6671363422c408f19172789d7ec3522e8554b2ee68f38aa861a903f5fe9fd1710c4bed2da6835e5dd03cae2c6993a17589e1cecac5709987ff01b'
            '182d368ec9ffc9fd65d32123554851e22a644514e2f58d3ba2a0ac12a164ec888c0cefd2da3cd5ae862d4e00e17b6dac58102d32b88fb34d93df6256f032a666'
            '43c64a0f283e79f0e681e8514a32d864a836b722f2543c979c3766d83bbdfe5bd1ddaf2a3c2d305efb6d5722eef19fc07eae8823d5223ca73fc77c8feb08d3c0'
            '22db9036b953ab2a8270bf84e4b50bb6cdaeb6fdf84ffaf7844d254ae61aae78c7c5f2af3498ef83ccc27d3f6ab0a5b61edc5f381dccbc0dbb3847d0f8c02a8c'
            '39cc3f69f873c28b09314e6bf3d7b8d7f345fa58bd7e3c7b491638941f4cfe4a4940dced6df2b525363966c5c211929b126c64f99cfb6d377cdc1b58dca72c79'
            'e88a65854b32add9be62206fc137a7c0443cfd2ffb4d277412e9510c1ea0cc4abe0e88ad1ad15a209aac8319f1f5ecad29f1f9e5b556b0b19a1cc86b5be1c511'
            '1e80dd9e289c278f8d63c2dc398b33a96819d5fd5d42efed884f958fef07afbdd013b548fc3271a56c164810e9c001ffb234b79960242da82f94797df74408b1'
            '471e32f65952b40aa166d7f11aab392bf8db7390b81ad9b0108d72264e11b21d8e6844434680c62f14e295d825dc933c2044eadc93c85b42d8551ab993e60459'
            'c1d554cd8095faf1f36498f37e623f7bc12893e22a9b91d03c21299e044b977c297ad12934be7636b70d271433cac133f7fb9796dd2ff5145c6c4edc307f06bb'
            '04794fa4022ae1b09936f030a6193bc8104acc984eb3a60d6ae56685f3b16bd15a60c68f5c1827ee0c35fee7c911384a487646b2ad6a0b421dd7806a5f2bfd34'
            'a97142ac5b7ca922b9b22bd9f74e8acc3ea4090de73cd96f8d407726c2df1a2d033f11dccd65fada9ecfb5aa14e39828f11e14497fc1d8ce0ffcc3a982320755'
            '0cb1976921868b261839831e361e2003f8d1de85fc0eb21a810bce6d88edf88e88a0b37cfedace85a81b35ba813ebdf91a4635c8faddb43488d306716e1313d7'
            'd66f4f2eb91a95424f3237c24947e07e1ab7bf0a5a840959601985ad3fe96d135801b380d7da4e4fca728d6ab71536874dcdedf87b6430044a2fcba136d10c3d'
            '1a5140b3afaff9587b2824827e452479149470acbcd963285706e06da1213edac67e5b02e664ba3a3f40d482796fa9869c500513d79f0f96b3b53ed8446612d4'
            '3843d47033730aa838fa770b20b6f345c91eb569cd4d6353a8bd8e3595345b272411f2de0a216e0dcfecbaf8f8e31ee4d8ab715677352e0ac8c6ead4e275aa84'
            '2d2c7881d3d03c2c57e8aa8d263d1b885d8c64e6c479b49aca4aa87dc188fb96ba801700aaaaf07abb686bc25845521186f5246160f1198e422a12e1359a65fa'
            'aff085b1f4a5a9e54de18bd0a96c1d36341767c6d314623f6b39253c8e74f3b63c2bcd820dfcf1cb9491ba4d457fd4887fc5da81d54bea60a853a56800a78167'
            '093ca9224c048c74140d55ac7036aa5d481c42589f615721506610f36670b40b07dc5a475a637e876002c3f9515d7f64c84e85cc3caf31d9a034baf40558db6c'
            '27e5d712120ff2cb8613d157aa14be94ababc42d8e6357fe14097a5a952a2cc2774be88429dab61b78b5799c44c548be2fd5ea351f21d4ab22a0f2dd9ff69d8d'
            '0a9e0266834a85fb80103bbf23d3f7c24d97420611d5a072b8b28d3467a00eb9d024e15968e236283ddf9367e4e0839e20953ea22d905503e4e1c04c39756c9a'
            '22a0d5f831cc238f0de9d03db0a40df23130c8a4b8d3641f9bb0c3130e75d191d75fe2957aeda3e95e6e4adff4e6fad0412aaa88c47a28e8e3f6441d18610369'
            'c009e5f5cd8e1946dcc7276f54b8adc4ae898149fb7716929f350059b7fa6d439d3ff58fffd6859724c62ecab17cea2f8d8e3cefec572a2c018f2c9b6c9347d4'
            'fe76deede8feb4a76f047d1f8a0e0d599f07b176a9de8d006edbaba5652fbf8fd9390b030047bcf47554723876b7c75f7a956e2c33c22e83ed9c0288b9dd6d46'
            'bcde072943b86a95b6b4da251b6f7541a837f13cd7a083db635bb01b7c18b62879187d44635a16b656685f77a3702f6f5fa97c3a7e04bd6f40efcdb779c7846a'
            'd515c60a931408574b6771a1658456f366297fc8f8e922e39af38c04b09b070c238dc2142be5e896bc31a68d50487cac008e0dda253e8e7b1dd8b9d420dda989'
            'cfc8fdc853b9cb6a853bbbbce8254ef8758380a4800bcc6e408948f4026b94acd236796d822ed99f789b9a97cc2c1cd48d2ac0ac91defeb6e8c033878b73e8f2'
            '650ff21e04c2d69c567e12a5784f528a89d65e7cd24c07775574e8496705411ecb92acd67bab10a7440caabb6df6c574bc30a68f6e11b8d8d653bda989629fe3'
            'e26b265684256d48e250155f414b56587950871259764ccf1a1cd7892f06ccd5c138733ea51e07e61c118262e7810a5223568ea30cf2c184eaf013c9b778fc45'
            '5c205000f4c4f798a6a916f3f51d30d84ac1c6c43062621e916ea7f2e78a1e427381059474d736cb9f800db38f3557e513de4a90c10fe06034f4b1447d4ae1c5'
            '1d8bf1b4610866068b75aba238acf4942efa6f0e1fe1b91c33128572c69eb7e54049e1512a8f4381486b2c4fab9013016bb203aeb831e5484098041ee4e7b6c3'
            '14491501a6c5815646548acbd1926439cc05fa38d3804e798a466893f770093d199a69ca367955f350d25c7e4f3328e01a1386018d5fa255ff6439ff29a86793'
            '6405fc8c5ffae2ed0484abd655627d57c46a2884415bbc0dbbf48f1db1eb6a0dbb6ecf6cb765314ae33796a6cfa1b2b3bcf04f6deab3bfcc2cb8cef5ca134f32'
            '98fa386aaccdb17ff652b99aa2e58504b67e073cd56cef9845c6f839732acd57bd0a4d86d30b8be72d21a390ac2eb9f4293ad694ef0ba3e9699355c2eb88e3fc'
            'b4914dc69c8248049aa2f4f20debd10f36cd0007151a5a2d15449562c4dddfc981d518e6e4cc5b86ece7bb1e1befa0d5498f6abf1ac9ef58c31d4a088a537da7'
            'c75b6e073f314418087ad33912b78ff2935eb8ca2529ad736cf934883308e6629eadf258614e58b547b154e3d592fc5f86499c59e22d477cb2e3d831f195bcb8'
            '9fa8194e4a346412eaa557d21304223aa848fbf48a1f54a57f2c77191117eedc04f0c566551fb81cf1ef3673bac9820f2b50a1d337b33217a2c8cb2ead75a1fa'
            '546aee3598adb1eb208d7f54147f201051550577424c4890a2901f332758ef2820720fcd9940ed54439c3481494465749f5fb589708ffd3b4beabcf2116c6112'
            'c4de85a359db4f01ec0d790372e92424cd4e6d4af2f1f264e97f35a9df127e3286ce4d516373ad01d7f261c5f9f41fda980f93997edb448dc759767b418da8c0'
            'ae66134a1cc69141c4b8bf30c11bf31479a6d117d183f5dc21fbe44591de2db333eeb94569da95de693791d54802641be23ef3180c2285709f886f087a52cc3a'
            'ec35637a95889116d50bc76f57b8c358e0f69efd47a191ea2bd3376443f550bb287b6712f077444b40faff13eb322bb9d9bd1b0cc3bb7c77b56881c86464ea7c'
            '2098d827facbbe95b6661f70f647ec56853f456887e4f8c5df64795925064515a3a27f4d8b40b77ebc2fe078d877876045c90d4eeb86bbc612911fa74468bad6'
            '2f75fba3a55534d19fd3e98bee40f8cee264aac982c7289bed9472c4051dba93e7dde8d06727bae79584b560393a09f4365c0b1aaa19b6e7a9bc17176156e5f3'
            '5e0eca6a34cc1ef1160856137dc0cb379d5eceb47a3ea7a9c573320cc2df275e06137567b9fb3674bf08f1228b7050df1a62c93e33079a6355e8ea24f8cf31fd'
            'f8c3871b9f837174f799fa8ca1465f0fbaa505c41a98efb47d991aa5347a4cd2423274530f4412535a9ef558f71efcf2ae6e7339fe7a04646197d853b2671582'
            'd7c03b67cd150521836dc08f3bcb091bc29bab76488b204cfe95d7a03c1622e05e07dc67f038e799749894c0ab29503bc79861d6605d3c016da684d86bd2ced2'
            '326030a18d0b63c6dbbba09852d3b1fcb5e82b09c5d4704c9fc6dbdcb9faaa6131d386a35eaf6034f9216d9f057320219d88564683bd24a7a8ae60066896bcd9'
            'f9966b883f65e02043a1e54099ec1a136601536e9dd187beeda4405968c3d3fd86d1658e097b312f14d9a4d8575f2e66b2bd5e1f08a6be3038068ee0b2ef1c11'
            '9a9f821db797f8ebcbb8fe9814a909eae97ec6fffee9825b3e6d64369c7074e09391ced7df4f0f443aa2c9613e4ecb25f2561a26744f79378a59d11279a216d1'
            '08ee987726490c7599ecabff8549bc2de9a03437bc5c54021159a7e9448356e4b75732143caff2c757fadf99509cc22afb717db967f0fed72f1ad0000f7b1626'
            '6cb6c84a7759f956af5241aec3806e60e6dd95c55695bb89e8c4676d432c69d00a895f82dbcf71022f1489ac4f2e9df6b12f91d02102b11aaa11ba5cc46c11d4'
            '6ae8707fb367dbca10a0442cf31332bb5a0e32574d430f6404c136895b5c04f7f293758f08d84c24fc186d028f8870f6d0702b5ca79e4e8e0c1d334e93548db8'
            'aa1ba1455a563364362c22edd1238d55beea45fe129907be1320f3fb62a4acd098b0f6606e4c4300c189081eee4f2098237520eda2191d587578ffb359ff3660'
            '14c95b175474d0cea9eb1020ce0bc457da4a3f53b069f1809a95230e66bedd6ef608e226b954240e9eb145389cba8fd8fafc24daac4a4b06c46796b04ba6ddc3'
            '2c08962022faeaeb923d31e590e0f75169e1068b78f7eb3e9246dc34254c6ebdbdf72166ec635dc30a3306ce65551d4df3a57b9f97684b7d07a076a44553ee70'
            'e740f421e63b76c55450d67524ed1d63a40eeed78cb6365527785048596459eae6b38d915ee94674ec22f3f929f3b845c07222b4a0776ccffa9b44a26b7047f3'
            '9ca5402bf76c2026fd09a45070551e645c6416b1fb2083fb2afdbd7bd812ac67885e336f4230269b51ee48d163edf37e55b7515d34613f4c9d3e07bd5ba192bd'
            '3fd7aa7c1d673b8ac86104bf6c628c42b44f913652fb4191c673a2db9bed60f729c9552f7aa385f35ce659576ea85914d0470a10887960e736206e8eb9f1fe87'
            '3c677c6f37da2b340f3d2bd6306b7f5f9ebbd77a6e579038a0fe162f3396450e9a713bc8e4cfab280fb3f17f0e520910f60267abbdcaa377abaa35eb022e3ff6'
            'f9c20c71b99b0a9cf9ae7def3d21f4714922d23dc18445b0796521b30a2f44c4c6ab02eff50639467bc83015e6dfa317a61359b8c1ff420bd8663b1477a65964'
            '92c1eeba7e4744ab96e25b56247d0aee03ab80946f152a56008463179d0e3029695ba5ff69a3ff9ea941b7b463c574cc1a2d5ae066e4de368fc63c5f7bf0b2db'
            '0b9950e70915ceed7700665b1cd54be20fcde7cc594e0b94eb78799f36daad330cc28abe516cd4b0aaa85bfd8ffb5bd0a434704a9ccec9e91c05b8983d65f93c'
            '6e356acacaadd343f714010f7fd2f890ad16576f72b6ed9203d8785e9e7c8431d01859d1b175450fa9e283407b06b2395b99b4cece9c7ef5a8eb6efeafa24081'
            '7143a551eac1e2c1148f54e1b8b9ee6a4bb46fab351e03972f9b17a454def63e87b5929ebe7896540d299ace308a056b9a85eaae137bf44d7a820a9c0d86c120'
            'c233453f2d22d0cc5d971dc3a34b13419be0323729cec05450cffccff102d86d805c5bcb4adeefb1bb702275d2bc31919f526ff8dc7f0522f42eca1502354279'
            '2d2d62f98b3b63c1b6cd64e2621bbcde8771234e855ae567be030c10096110fefa6921739b2feb5883a162e59f2691553d1fe044da8e6090ddda1a41558426f8'
            '0a8757d1a7ab2c23cbbba318830dbb3026976fe60006f54a86a0cf8e2885d98f552a83ed45a8c6cbda28037544ac4b618600a340f404144868e54fdce8550611'
            'e79c15edc0b7d74fc0f1497dd6e6eedd35008e0a05cd67b593bdb094d77b9b7e5aa495375a079ee56de1c85a046cc5234b230d374ba15947de20a5c4b2c99165'
            '5ce91e065c76eff1936dbaf5d1da88f5e9548ba123bf38ca7f8aa1f9010478810e3039efcf411c56649e6b6a64648241833352da23bc69df0d124ac04adf729f'
            '3aef2afe77ccf373bd0651e63fe07ff662f11def5e4e9af08dd09a3b20dd7ceecaf16b1c645a140f48aa8ea31e026ddc189f37c528cffd8f765b3e5a1f5b2ed7'
            '0ae6cb6e4e91a09a9d0803d4268f9e4764349a61ce19eee37a91e783351d9a440215cbfcbf4838a2e26c956a89ca69e4f0eddaa8e206c84e5af686ac301e1629'
            'a275d1a34edbbcb10dba640d31425a173d787b2f9915209c8d36a1ce16b6066d32a98d89bb0eea7ee4ace4ca9dd8ea1a4114801daca2bd6705f6813ee9906797'
            'd5769a4ea1ff328e864ba3be2d040b4d9f6a834bc070837526f4ae04a4ff2894a2136192cdef16caf5c6170b0220878ea489bfd89cd40e32a5588d1bd41df499'
            'b1062d2985a2937db190a8476f0196c2e418f7d084f183879b1c9de2533605e474cd1883584ca25b37a38a56e60bc1bfb0414503de1e97cbd610ab17ce44d26b'
            '06d8b9e3ff0c1434c100f2c519eded08e42ca799996e30d45b79e30be733246563a64786e61c9a416606c295bd9548f59e78793a314bab47f3ff6cfa3b251884'
            'c554ea9f39422230aa382814c8b5e6908dfbab2de8318da00cf98cdee590f78acbfdf99abb81fd683cd61e12e89090cb77ad2ab48d70160f1d883b5d7ed283ed'
            '305cfe5210f677dab4992595eb8abfcaa74f73496a1fc498fa78cc74596a491c27916f1a4b82df4778810b2292340bf0d6b6ab5899718663b682cdd9d8e5a942'
            '7b2655e77b1dfe437a78c833971e53f317e04a0796ef3c7941aea6481713f93d0ea1055d074de5133a4da36bb4aec37ce6605f0b3c848fde090f8c4b452a1bb5'
            'f90f58eac4b80325c4d9b9e69f442f4f2f1e6109146be9e3fac1942401b03e896728d4e5efb5304ba6fc9e669a931cb81ceb83a05633743cd92c5694d2622c53'
            '4205a386561a954f1fdfdc4b707c4f0963e0a673e96b14cc37b6b587081165fd36590354e260ec880bee668efdff7c7d0b9ff47534f9f9eb6d36e6338f11648d'
            '5670f3e015fe5938b04526ce7e57e4e4545798371f1410fb301483bafba8a0f898cf22949c5c1694b52ee02886c83ee37e7c71de124fd2dc9bbeae5de918d7a0'
            'c47b0f456a6e667ce74d422bd428403bf8c6eff2810db8a56e50ea720c823057ce1b75ee88aa7e8ca7930be8535ef5a0dfa71e4b78f9e16979341b357914cdf1'
            '3dcd91766e2c666278bf109f799d0215f17c76e74d601e8a780c75cda75fc5dec8211d2c107ec92a6122aca7574abf4e3609a2fd7330dae342be0cd19dbddd6a'
            'e6ea24d931233da6e4df4d58c883204421debaa83ba1ef71555a2077a34b214d5fb6269900de157c025a1ae3a76e74671729444b6576694240b1614fdf74222f'
            'd0f4bf4da0e7e2138bcfe0a242fc325ccac7f7938004de292473d1d7b8f52a414e4aa4b24fa2541ad8ac201bdde4b960d51218674c60ba50785f0e65e3d46f22')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
