# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=116.0.3
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('0b6c915f63324e16760b4d4d97602b537aec44cb872e81e2e6648e20a236c7797eb7554ad5353620d6681b0edb290ffc7d8ce8dca80df674ed5b364d707ee6a6'
            '4d45e59a30d7fd47366c3102472a15fd385ce9d1ff314eb91df45f0683d319a9ea0b9c6fbc261015f017f1c30728a6e6b3a8da9d49b7972abc0350d604fa5672'
            'a4ae9689730d18a039b849a5e19c06821a36b59db89d838f0dbec5fbb75c8b17578cc5ba162d1b0976c7d770df352d6619a6660d2f9d372d222e99179888a3ca'
            'fef7b7064e8516e92ad1c67aa8e37a2470de830d9716127e6bfe1afc2a58148e86a632fb841920b038ffeccd99bbf803c1123ed219d2c72e0ed07c843a7e9641'
            '7491c0efd5e29699e6fb7def53d2b27a8df91ec44c44f5fa5dd9c57643746ffbf80eaddd451ca1e449c8030a6e85b0c84ee9c7cf656453c61a6266c6ee8ef313'
            '08878c5044f0d62463f9a5f28142bd20713d4aee27e2b72dcf01df106134b7b612fc37b18d04452f34f46b4d4452b649f82a746889fad9661b1595f780e6ae3a'
            '1476a57088b5b8106bfeca3cf047552e44fe3d8ecb09c377b84f86fd7215926d5a8b798fd46fa72333cbca5337ef210d83097c5f04d2f862514bd1e8d338f8b5'
            'b8a82d48fe4230c630518d94e1d94c5ad3ef6b5f309632bc55d7d3439bd371587897979117c249cbd95c7eee0a44818ecb47c227f6e0e5ec945ffcfcbcb91921'
            'a605d56f963f99ccb1e2b5d1f58ce3d03a2d010569b6fc802a88e102442924e13b0a7a2b48c60c288f02ab460a6672c471a06fae45eefeca93b328ad4c0c975c'
            '17fa0b41742d853ca0d65982c96d8c382df81605a857a3d9b74cb8226114b7930da02d71d81e09fc9c855a22cf7e46615c0df460bc959168a08e9dd8548e4a7f'
            '06c70ebd1f42a2fb5b083d5c20499e95cecb64db05f3a69c764d19b2d29e9e81efad32247841f251da0b6d3ce4297dad2b580563453a17e15bc51193ab7cd35a'
            'd194a41f30deaba93909cae8f051b5565ef2ca97be9157bc2b304562894c6824474978d9dd4f7b3ddfab0baa6997d5318b1c78580c0e9e4b1a3b4172acbe4680'
            '4adfdc2b51d9dfb6bef56bcc64cb0acf3d3f764150c468390fd55b1ae17a9454c7e3bb1c915c1dcce17aefe182ab06cbaaea2ab78b6ba9d5560598bce9ad1c4c'
            'e4aff6168eae6f5b4523d598e43abd53f3f7523804d9698a8a142b7f214a378eb310d7725d91e0bb154738fa4f323de58801039d05d3ac98de9b861c176486aa'
            'f37d5213f4422d510cd8491fd5abf0fd433df807c68d5c4d3e99626cb25ea8ec3dbb795b7e648b8c0711d0d1be235f9cd3d00944e21d146b0aae571a9483b09c'
            '55a143c77105d46661e284514a4c21980d6a03a3eba0ca2c5384d4116b13df997cc36fea2af0d2d9c9d539b9515c25f6f4abb987f37972794247769072f34717'
            '3030404afaabc3ba28d5e41cccc0c0fde6c1065c09bde2737bd14028e8f200eff82381b5afb1836e7c7c94e622cea0749b3b649f18b3e6c55c4e8099fb8e33bc'
            '2aa23ac68451d4325612fd09080dfcf1b85832cb7c468c2c09213cb2a6dc8964f95a402415bca11740647ab8ac44c7e4ab63915380d1b82c93af45547e75c05d'
            '62a6e9dd015f88e834d64dfab061800ea1a4d689d350673678c363afd190f9a1e5ec47fb84780203a20759c60f9c95d7bec938bd858b6e625655edd6114ab495'
            '39862959c28003d13cf1f594c37011fbf8236c732b7070658c55cf74017c146ddd4032fd33c4774e10e6d2084b17882f2427afca5f4e18c8f50f075c5ab3435e'
            'c7628fbe978d0e5256f53abe976e579fa334058b6d43bf8ca95ff248894aadc6fa464187dd06bd8df3f1473b067a2ee515ed70e75a292612f78f40278ab2ae00'
            '14ab9d9f19164d873184497160df877e9e7d0d2e6100e1fecf8919e3b50b628b356a3aafdee172da323847136f4f823eb1b165341fd06ae95b6edfdc3dcbc377'
            '123e2e3c15c6e32d3eba1204b50bbd191bf7a92eaa3bc47f6bf9d64546c790729ebae977fdcaa95c8e50aa3c295e89a06c260912b60f629b7a4322d0c4686396'
            'd353b73da47fcbf721ecaece9faaa88ffffb9525228b90a9d9ea04b8812d9ccee08398d809b23d33558c098fd688c28e3edaf80f8190901f0aa1c23d387f3863'
            '0d5d277cb01edaa9c2bbcc3237ca9b11897323841df5c136b49dc4e4f172b1a3becb18dfa15f164cd4c4e2ccf12ae3becfdf7b5abf0176e0a88bde6e0da398af'
            'bb710bf949ef56f15c7adf324f910320caef89aac96fe2e567158aad03e4135b1fc043e321e01e99e4a364bb83e2914c0ce42be22ed2e00461de342ed8f00d23'
            '20ded969dfd5623af4508fa33a3824e5407f8f69660f2ace1352fdb86eed20b8e921ced43db5ed4822582d2b2a9232c94358c183ca571a159c7f367032e6f371'
            '9714765397a4ef7364d0adea995e6fefadce51a3d3736268a3a4bf8d89fc168c59e6e63a9ac7208a403835573a0e0bf6f884e41269e4e133c805da44e0229bc7'
            '8c3905dceb6ac72c7529c287411f945e2552ffc417cbb949ac1c0ca2bc6aa161aa9c855836993937aed9bcd2ee7edee56610e1ee5c8c32c80724aeaa83516ca8'
            '8f4f0ee8a7fa352d4d920f6eed1db65bc50e8cb550b3ec9a1b77cd6be53f8dab4af847080424391a093920c962a8e7a19f8b6869659e172a3df3f6e24a510415'
            'c2b04bf89bbd34dd2b1cc155c14936af6e5aaadf6a577149ec55c0b959582c9438907bae0ac5ce3c30e292a5d3aa195a7ad9063e2be58e7412f5a9d5239427ee'
            '0fb993247d093c1d6d400c2e1da575062db27e9bb64d2cd115b7095daff3170faa64001680758a039b58831510d9e5f54fd23c44caf6f4ed018f67f64b271059'
            '1e760a529ecd8f1f3995f1d2498a8937c5ee80e5fee0e5027f5612fafead40b40d8b73e78646e490bfbd7485cc1d0c1f15aba5417f9905d4f48ee620e731cd33'
            'b9f1fd6364ed4423836cd8041a04726b880b162a29e31fdc59839166a48ece5830e4875f8accb6ed2c830ef4bd9cc9dbc5e95156d0ea86ebc69a18faa946f3d1'
            '733d5d82e5df79609c533105df3bb2d061044169b34f056dbfae87726ee20d62b321f57ea5e6e20c17f10dfb4ebb54da60a4ae247a2b0b91c9f6c78606700362'
            '0837c59d63d350d569d2133816b8fb03d4f1c45c07712169f630aa584711f3e2664c58f09a1b62dd7b4b27c5041ff947b957efd291bf04a790930f44b27f05f4'
            '6aed9de5f055d7861aef5949f0d74f01ececfc8d25f787cb0e7b142e363a61b0e7f07d28e9bb4bdf36ce6b783d9411e373226bdb25e8955d59b5c28da7bbc19d'
            '518d6dd962933c0f3b668a7a68fd6b00133de2b39f0d1bd034e83c5e357b7bf51d81b148602d0a4d10de332bd149efc92c8db92d052d54514b201a8217734801'
            'fb94e661d643e3dc29a916e89db0dd528bafcbe9a6cbfbd59fee1ff972c0b0394c10aca0141dec8715fb5a4b11ebd04afac9251092790659a2659eca849361e1'
            'd5124310ac427cc212fa344bd05debed0b71763bdf8b7035e02fca2ff9721c3e1ec7ee9475b7a00fec0e03f59fea3e86522c2c27644455fe5ee0d8ff14fac30c'
            '764bb158f84cc036134c0717dd3609e8f33930a32ebed31e0d60d734b7628f2c8bfc42ef8882022e322d5bce9900ff25a49c66eb1ca0acfbed4fda5763423a43'
            'feb89366ca67f8391d883f43c437eabb88ecd5498612fb6f74cf4b67dfba37bfd747f334f11fb82a8918da9e4c6b9942291434e811c669c921d4204fcd4c3fe0'
            '52a4291ad7f0b7c3db5274ac17a969efe895566769a0eab93e45db6261475b36f95e7d8d05bee477f32a580bb2f49087d44ebd17f04b30df95d9ff0e2b22c70e'
            'e244f4ee72e4034711920161f99bec008cd1fab46436e875ca6d284c8c6140ab7487616fd6962436ed7450a9e84fd386f83238b7ed155d4f2154390522478d8e'
            '83ce34204b455aa3edabb53c926242622da2c10bbb5468c70b954a99950e7d75f9e6c62df0ac10835bef11699f98bbdf5ddb178d8c2813a29de41e32337560fd'
            '766bf742011fcc27fc15c647265f8176ca67b886785c69e8401442a8e0cba6633f365b80d8a24c7b57cda1aa50e625112317d3b3155f5c83d37ff98c997da68c'
            '6cd9f62410f5e1afdd886bac7df8db01c707baa3a792ea86ba8fd7fc23952e5bfe9a1969755a30de1bd4135a2583d262028711a2d7110c4cb6afee69a78771e4'
            'fb5c40238aa0af7eb2d2e4b7bc85976ea47b1802bba771be9cd8ec29c4868d44c59ce625cea6cdeb5c7b9be864b4ca40b0a3e10fce280849732d75068a15f9e3'
            '93e238788b9a7efd607c6d14ad6c50c862ac37b706c91a150240edecd6b5a9a2777c1024e5d831c13c0f0a0aeeb688acc1d4166e97a1043b60116ae7da193fe2'
            '940bc961694e672894c9426ddfbb30105a16dd361fff777c0adc96ae1297174094ac8eae17223ecf2f282a2e557e6ceafc21fe3bb8d6ead971de442915a34662'
            '43686a3db4ba3ca715cc2a12a607aa76a14c7094fb9da093459cbfb8234b619e3813ce446ab45f00baff47242c87bc11f9c8e8f9600d3096f941974728b7f6f0'
            '9c628e40e45fe45072fa2c52ab06b147e016fd114b8d691cd4aa79e40499d45f456ec4e4a4052de8631798f122d94d2aa69ee10157151a9508a516b2e5e1055a'
            '221337f241d750a4b3dccd985859345248cc1b5451f3f97b7150cb9367c9b5a9737bdc539075de93ad395cb8220f63c5e8858eb0dfed072af6155847fefd572e'
            'd8175a22ff1e1943a7be59d4ef0fca44d17a13d6ba216522eab15d746416a8364bff6a84099d8ca09c50cf7cc385325906d60518bfb0bf414ca781f7bdeed9c5'
            'e421e07880e48011e69979e288224b74bb61af25b50537038f146e0f0d3c312d9556591719a00cd9fe3352488c426a74aa8538abe02912747a670c78fffe237e'
            'e0c1b17b1894d7db6cdc45a560cce51c7ad149a151c246df90074969d00b3c2e2b7e71a02d56a9b7d69bf163b70ca13736b2234c3c969b64162d13064e0c3c06'
            '6a0b6c5dcd177f7d3bf1d7c1ae97f5b09d4cb7a25bc7edd52c3f2108ef0e71197ca0175fab26fcf18ec3a8a6884cad4586666fa7668c4eb47318af1891205140'
            '46d319993da12ea8cbd9a19295974569b697c4507dd9d7480217cfe63445719d472693b97ebd38fc171c554b03388615fdaadd898a89d26017de545b84ec1924'
            'e8d89a2260f5ee0f8dc0f3547a9bc34a1886d30cea58210b07d351a681a4990dc7df36cb8cb910ef50edcef44bae10541e9b9c50e2ae541335d828dba1254a64'
            '0ff8160557dca8a04a2dc4bc6d3f3392c0fa4c23d68e7a4b54ce68a8c63235c4c93de619fc071dd8be21de075f7ad82eb323e5ca02a28cb4275da7f619eb1f00'
            'fc1da4466aa8947c4695789491c2e192e337cb8b193e2f1cf8883c32529ad9d2d68bcb357e4fbc15a4dad3040d232c2312e07b23db7e17c44e3cdd563fec1ea9'
            'cadd852c00ac5dc163a423ccaaee15e5229c2d62d6362288681cb51e9d8198d9968db0dc7c875cf9abccbb428e15d5ac07686e775198646e431e363fb8f28a91'
            'a492672b3155cf44c6a3cd642b86398f7414d31b4b3dde4106fa89dd95dab07f1250789b831618e8fdcfa8c101c529b9970ff72a14975ad534b22f46236a5162'
            '5b3704c6ba140fa58c9b3ea1313ac254617f72232a59ccbb5b08ad9222dfe6a2d22ff333f8cd47f613ca67e1cbcfdf8e3fbefe5a959d9fedbd4151d5ccbb36cb'
            'e59c3648b24b3b3d255a28e2baf0a1aec9ad31e44658a27f9c94be05e3f7616293f43cb25234fb0e3f163fc609a4b8fcc426e32c42621daf057a82315c03b771'
            'c86787ca1ddbed34e81c07bc592aeb53c3379bd168baad024102da828524f3771189e32544cc6aa063f7c404c6e7ead56a41e3a3b9281844e7e79f143e93b1e9'
            'e69c298b2a122b6e3f458b4239a6a5706b525df97b12f007b9c34bfd97401a1e05ec9fab2a23bf5b4a2e0d0aa8ffba90d42c48f0bd947ae9ea449f22507fabf4'
            '92d96ed5ad8cf2a4a6aa18ac5878506cdcb7c55c3b9662ed719d45a6bedabf744e33afd5e2db8d97015e3ac1dbebba9be0b4ead00b365c76ef230012b3770aea'
            '662f431d3c06d93fafe20848c68a8a2e1a69a858255dd5ad22a91d238ee3995db43414cb1f3464e2e199075301466b43b5c7703d0cb3af20f559a13b0c931d11'
            'dd1982fdac9b359ea2b7799dd80dd7f9acd0bcb7d777a0df2079a2a1eb36dcdce4ceb959064ce83bb707b872bdf986648d7fec1df59f0d55408998440a27211a'
            '00366866e1e2b9225328f334f7f397b9e159cd976f87d9895656a1bc9a8041d77462be4440bdb2e770eaa1ec1666e006fabd5e864193cca836d967c02d595e3c'
            '0f797185a52715b15580aee97bdbc7d49713ee53ece93b29539d387895baa9c6665bd771b7dd6c88c430b7486a0302c222e9582a0f6931f90afbaa2b94320a17'
            '69bfe916d9e26ca0b56afbe23381d4954ba6d6bcdf7e1e5df440d9212f4f74562acc99ca0f6ca65d9282b220198abde027969c504b49be5552bb8a090010286a'
            '32b533c8ed5638719bd30c8eddd11a6b021cef19ad97b36da01b157b253ffb65c1dad210e1f3902ed0c7376da22ff6a8ab6588194f040989aae34548059bf65b'
            '1f98e8946c545b2841ebf7ad9ef6598479bcb0e1398a27288fc439b2e7186d46b3b7ca0d2abee52d1b9fa4d533483d61bac3a8e035d8038a1200db79fbc48abf'
            '98a09cf4ff707db03eccbd318ebb84cecd38b95643b195b42280f490d443ee3eb63c2550de3b7b55d2d53eeda145bb4c4c8b46a440256037200bab703c3c4229'
            'b4ae3e19ce0d6a248c12b9d674aedf779c3f552d9bd94bddd4a5a22813f8c469f4f6c63e05e9549f36116c973bb82d2b6222d7eb0b373ee1d340f828824225d6'
            '8dad12507051eb578503a38179c861da69c86995383e529cf774f8761b8273d2e9dd55a83f5a586e9cce220cf0d928a8b9e3815df2964ee9739a3a504e35e73b'
            'f21d1333c5c6741a2bed8c068c6fc88db0547a77b04faf6f64ad647d20a8536a1334b9482263e417a2acc7a84bf1e6f2a6a8f94196537c51f8f3aa0160ebbad8'
            'e115023ad7d312217452e63cb0ca62530ab3b84c3155ad0d66e0ebea2891f2e49d2917e39dd43d41775bf9ae7d60945e8d4f55676ba33cc9261395823155a3e4'
            '51cfa9cc44269b58fc04dfba1742efd262c6a389f0c109b7688f7ed46c1e9fdf06299b5fca8cfe0293f75cdc213c9a2016484454c6c722e07699ffd14b0cbea5'
            '7c14b8afb23a49a404b9eb68f6b5da6819cff0a921e22fd1122ddfd531e591551c0222b4a866eb49b08fbca93b67111e910f520acb62aa3f322e46ad9d1c19a3'
            '191cb381a828e4f3475a826c4490f344f49b73296c11bc30d794b06d8344dd83cd575d29ff9fcbaa98cc5869776574fefead511f3c548a48f6c989deb2e44ff1'
            '1d29e8965d1da5b26dea7e431c2f9b8e6fc94a15e4d0b0b2b521398a3e15d9dd8a02f76eb0f473cb1c1d5c8b4c696730ad1a3f132293c92a3228238effd24bf3'
            '19cc604eec48e9487a17e738166f4f86c15212f4d055d1a6a307ca4989e2c2a3606fb030c0f7134e10abde1ee21ad54788c0a7ff6d76032064a30085da8f8a6c'
            'f1e54c27b36096d4168ef47a8024258057d3881722b8f240fc3e7c57ed6a85820be2fb9b8843966ddcdc9750ff7ebf6cc967ccb788b342eaeb0c92eae9dc0519'
            '1367701e2861cf1cf9c143a192a4b044b1bb7e9f8c7a1543be167e84e897c3f043014164ea7241009d04f675f859159bdf37185d6032f792ed8627f881b3f0b4'
            '8da5004f16639aa755b56de556e31cd5bda3815debe364d0fc86e8914e0bdcd504ddc6e6ec1f8ad498d0a8e76aaeb9f6c9e6f7df2f15b19826073a7606e1f8c2'
            '264c0038d52f77586c5da3489b669c5bdf607792c6e6cac7172a56b50035c03b6c4a73553f44bbca7ab38c3e4edfdda6d82df90f8639fce5587d33e06536cc19'
            '1e53f16fefd1b57af03e0c6ee695d92ae56ccf8b0162d8e270d2f0b5b235b700c20c2e278f63a1b59cc84b3dc8ada312dcced4d86f6b47d8699df23e6c1ac3bf'
            '243ec7338c7cf40ade320d77a07edd81607ef5572815ccdf00e4d06cce7f02d7fc964a019790cf289fe86d767b9fc635a7c8c8dea93bea508981320873361e56'
            'e88ca08136fd59382289852aaa1c48cd9b7dc4a2047a533fd6f7b64d2463c03fb098128a2084a95438fb4644ae41fceb89484b28d766f18ba3c9950f73de8c7b'
            '7a709e6d76472f27c0efa32d111a36b331701fa94ad02f99274bd8faa7bd1832ca415141510a405c043530e5c24b0057b4c8d324223d8fc9803eed0bb53add4f'
            'ff8bf885b3b3a05fe8217ef8666631b0e7050cd121b42f0b8e001caddf1f6ff720131daf3cf2adc0b63c71952d1305583618644581a5ebd1fbc6162eceaa87ab'
            '9dceabe5d45d4e991493b68240936ff031d6846660d1568e7c67a3c62cf9b02aeedc070ee9b2a3de0380336cf12eebc4869c877c0682e9b665251e4b0337790e'
            '8d723bdb0e08713a5d7dd18b69e6c8d5dbf0eb71b78d198b0863dbe4faa004c79391eec9b9fefb1991db296aeafeac07776ce30c9ff8e88c44f06ad83925be05'
            '96ed6f6dab7386250e4aeb1ad9bd189ee97b1a15f57db4c0f862d43744f870352a5f040ecdbff1e67ccba36400fdaa2acda2ae9a7ea7982e399ee1f3c3ae2886'
            'a3ff074743f1b1d0e01df001b6c982bfee3bb7b4e53755c069be1b316a3d8a325e64b1697328f74c68c8ab2c3253dda49e73d3f7f9bac853d9799a01f51bd4e1'
            '2350b0cd726ad4f36e666333892fdd1850c97972e17d8138827a0c4fc31553784e8f4acc39cb6232baef92eeaca870f32f1a3d60e9ed4ee997fdde8a9fa70977'
            'a4ded42cbabfa12b9236a699a52d27bd7083e118ce683a59cf3a200b9c70aa3333238d1729f19c03001bf97793102882c3fbf88e82f79b3b27d6d653b8a536c2'
            '1ea142d55ee2eba534738e5fa8eaaa4b869e6e0c33f153b2becaea558ee196805b20bbaabece433af3fbfa5b667820f948cba57edd76eb7ed4b21cc9645f65f2'
            'ac20f5fc22d469f8ba7550e7029884ac4733f33cd0b7d1ec89723072ce99625fcb2fb40535ae9972a0cd7ce4f6bb6349952f785c44b00384abbc2ef5929ec330')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
