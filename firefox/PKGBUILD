# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=132.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('9f6047a0752bca24d6af1a21b0165b15694300b7d860468e9128e0b653ae53f66bf9e5421fb33cc93f852c7edc4b43f35858ca1513ceb699e3e1b8071d0605b1'
            '72ca18245edbfd77ce7b9f4d19c7cb5841d1de709bdef182e1d41fda889b9e164e34b41fc78f0c2d76ab792c2122657de551c1bfa99ad0d555a2d708beccc8a2'
            'ace2aef67bfc74236995f645d743d219f1dad7edb086a007df34c3e0be1a90305d70dbc9b692fcfd6af89d264d429b8fb2a971a98e7f527dc1f9c4b36f723e1a'
            '2dd1058c1e840e724595ec6f3137f13286e7ce90b88d14c24ad77031d2cff2e0315d9d252586d2f63a16c2d7a1afb273791392c3cdfdbb27af96cb07b5b35998'
            'cde74ce5754666c88109826f83f829eafd4e6d1c7408d16be7ea1d92f733703680594b9c9edf9f8b467da2574df498e36117364c85815fe9b25b9b10d4dc8228'
            '1e423656af13a15ae1da07f742306585c961b8392e6cbcb4274a9a24df8604cb3912b06d24eba00bb7c4c6103cdd37bde4b8a2d09aada0413ea0b272950f3138'
            '476de459daac3f133daff9702baa44a7d9c680cc4ad4cf75b1701ca32237020729848dcdbae46eb8be352188e94c25b33e26ef200590b1511e8d59e847f05eb1'
            '59b8e7771e9fb57fb2db64474bbb58e460c7bbd169ab4572aefa3025e9a3c32fe4f25261431f0900419bcffc422b9ad56d4d173b186beba5b8464389c00aa008'
            'd4bad7e897c3534c69e034ccf4317256472b8f58b7be892ce2372d6f01f8340bdabe2d29b6960ca7daef1f5bcd3f020ae183bc8b6fcdd92f4767b0b3b50f847c'
            '620e778303e9f2f3529ab58d06726b73162c2a75289ae0133992ecb23a0fe3b2a7da6e6caac6360e3719e9cc36107edce844d09c5f8771d7b307f6d2e6dac5b1'
            '5dc79f069528a3d298842be0eef06e4ce862995879fea2809ad1f563b2d4a3ff0619dfdc701d18cffb7a18e04b09282464c891ac96ed940d8891cddcf35b24b4'
            'c281376f082678103b766392d50cbf16d0e2169cd3ab79dd4d728694cdba4fc514d8111e54de32bed8c19e1d5dce4c9c39fcc7c0247fe3c38065aa338cf4b6e8'
            '7dcb6b66a095f1e54786882413aaff67ebaa1767c156ee014cb707764a0c8fd7fd6ff4fdf1004c2691a64253ebfcb9363a26255836eaa7daecd4d0839f8e2a5d'
            'f781f8f9e6d599b6cd590d2528b94b39774105368c2ab2a06ad95e0976c1eef897e828f82f4edf23f6ca866976b2258578fe8e81176873610b6ade62dbc86e6c'
            '8e45e940ed69a0673fe40082e58f8b08ae549eae7fff6538835da9de7d69732e06345a4205e18ce9ec04dc4e85bac753a772d054cd46bfc82a9e02aeeb7699c0'
            'dce64b2fb18ff4bbcfa9d372086855dd778774aa8db6a77da4c2f670d8d0ced9e585915a2d99bdb59a574faf2a2578768cb40413c7eadd240a1eaf0b5ab6e822'
            '30ca15b96dcec839207fa821f0463bb720c03b2e6f52c3d9e7f83c1115bc94699d330b8172a50e791b8a3db96bbc2c1fe5b2e80e6a3b9df877454966ebdf8086'
            '8358b4519906e06358b65fe0d907e2abeac2f75135d11f75be01ae8d57ea3dd8f4a4d61aa7981b08621f025d616b670a56b26000bb0bfcdc5f18866340f06fc6'
            '7ea49c009381679e1e1088f612d01a613d86ac1835c03e8fb747fc393927ad025d310f9a904244611db1c5e2cdb5db7cbd04adbb6d61381188213c09599537b8'
            'd8c870c1d6e44b3809a32b9e7e413193de3404d62090d111c3a04354efdc1fb33761a9c2f064d1d4fc3f5ba07d1de44cec3c34f8b85e2f8e50d62ebb8f0dacaf'
            'a502fafe230786c07b3b65fe5da39406e9961263c0e1c48e726357013766d59508e61b4751ec36794e6cd5d004a72a2f0086bd804161207cbe97e396dc871ab0'
            '6c456ee5c60123efe6363522258d8774bdfefc2388d82c6e318d8246d7743b754f5543e4e47ab82d1fb2f57fe0ca6ab3d52b4682993d0e93d2cb3193b733635a'
            '3e2367c30908ef1cfd7ca51500257de5b8bbf8dcdc98ae9e8dfb7414599ab48b7a949761b720b847ed6558517d58080e1af587d08eb775cdeaa90f78039f0a8b'
            'feee5e44ee01529b51006abe7ec0a41d5fc0305adbd1e3c0718d8afd033d32db06b3fca45f7b3f3761779027d2b51a2bc3783a7762a8e4965641e912d4989c96'
            '31c07b7a3445e875dc1f015060e11f5c04d98e361fbb132b75d911fe57b746bc89f35cc976446366942dbb438a37a98657be6efebcf8bca9735e55115264b77c'
            '7e32b0a98c7b41e49d1594d68c6e10e5d541b71db840abd576adcbb160f626e800ad9d91efaa7a41a2e54b7e3697a9ca44949285237a51104600b97f44573d76'
            '5951d921056f2bdc554925d5162d5699593a37d01300a5d64cbeef9a69aee553fed476b57d510745f508855a20521631b4beab1a8d51c6f2a3c0e198e263ac5d'
            '1f0545e8bfb0c8776b8dc4e0ba05f775d84e3802724f699dd85733bb671036faed2275ba849c221ae4ee481d573d63c1c57cb09d66bd0379a9e17d0090db7685'
            '6ac564bdf4aac750a52c92abca8ecf1cce55045b1faf8c43538a8a3e40ffdbbd1e1ad7a8bdf06373e66227700289cb2ebb9204717a05fa251b23bece35b1731c'
            '64d691c3036ef685bb90c5f9ac74e51f90137212ca00db980bbad5e20ce7e274794d34af97671e067097d7d8fc09d0a5009c20b8bc4b9b500c6d4818c54d8682'
            '534cd1653b26ebce4900f961cb5f4470066da0fd951c9a43d2b4eaa2c7ae5529b15b14d27cd259d18aa7c1b2f293bafda4c5b17ffd4907b1a2494bba97d3d102'
            'f1b9d036dee8f1a9cbabfe42d6651c931e436444ab924c745cefc8978a2e53787c05812612ef7b2c2f5fc769a6a8dacfa6387e72051562590bcbaef8ae639647'
            'dcea6fa8f8ca8ee72ea3e3ac8b2752e253b9aea81266b0097da90c9f04aba118a42d560f1839442316a5fdafc2951043042abebd5a5b208f0edbc8c9ef9dd23f'
            '34df4572610bf573ddfc7b0a3db12e6ba5be025cffb919b63d4f8d4793627ae6194af8f860fc7600d06ed138006d80a77ac4ea3f060909e0fc5a4d704032c793'
            '1439183c1e7a150fccda22a8a50c16309e6b7c21b869985334d6659d6bf20a93299bf1157c97972cc6eb9438932f168dab562e732283365850e89449579c945d'
            '3316868cc3d92cce7132e35c3c98e2bade728d747d0bf343a4bbb0c5473f3c6f85254ac5634b8c6c48e8b297c7996a3d0d860305fc7db5383e07716d8c4e91a9'
            'fb4f68cd5e110414a7ba3fb78b6cdab4e02ffbb52f0e0916208c4a422d6aa3a2b46214bd1ca6dade51b1aabad71521b5b7a427c0e2f990cb83d08159c00425fd'
            '7a7297cc1c0b4f752b7e1fc13a3bda38e4a668993b4ae817397776a650fb1c24e514662c709ddbb580698c47c9272d4671c5ac3f237f3b5e6165c11204cd9df8'
            'cef385c4f1c37c062a4b47c1b68982f6f27b9a6337daa07183013ba46752500f4076acf94c3bbf0591c9ea18226669b795cd0fd21ab9bbff6503565630e4b42d'
            'df3acb247af217321be3cdda6227ea565144c35e97f75e6fc8c9fef634250a629a61ac6b73bb4f680db09b1bdff5bb664317d2320aa29a98055a33441a0411c9'
            '65c394a3d1d4ba41bf43c30ae56ca102145b76f5f4ebe0d51e003fe267c58dd1371f7e7e45ca47eb69d01f7376a25571ba082747db3e16a4f673bef04f9f5766'
            '7a1cd2d15557deeb6b2aa3c4b8fef725e12c0a7d8b43c11a8845759e9c3ea5d445a26681a739b28edac87b0e248514aa8bfaa0d1782f5f0793740a7142687a34'
            'e255f184710750c486605f67e242e95dd1734197b7780f34e6497b0375f64344b6f5f78646558d795980e6185e5df8438375769271d908f4ec553467f8f20a25'
            'fba5e75f528fa12b7c19ec2e971f04b019cc68bf91a2965c9985822c8a4f8d3ff36f353dc14d03e3d848abbba5375c90bcd46ca70488b30dae54a91b69c2e21c'
            '1eff632cc695417ac4490e7936c8632132bb48c0d880654ea7fe30ff955924d78cc00194a902c2680b363b375f73436996495619aaa9646c8e89ff19a98ca1cf'
            'cae655d51a2cbb05642dbaaad990d8cd37c70f00bf6d328e2d5ab143e3b0d0a356a1b4cd416ba9332ec19467718d86a16287dac129389f88bd3304a0729ec121'
            'bcda7c6da5d87d977f8956db8831a12c33549c5cd0d1d7c26df5a6c69f9a08edd1cefd7fadd1e42c5c252dce0ffe20c8f4f4bd2b22854a95cd3f666d07fb3957'
            '97aedac84914947fc8aa8f4f558e8dfdd8702d4ff8954dcc4829be0acdf184ecba0829e986eba2562a2d6c4ddee7b04f98754399aa0c4c26655dc678d84eca88'
            'e35e386b94ed017630c96725dbfda001a4246780c6a5f3b9f125d216f629e88ac6e76b2454207c55887046297584d790859682b7d7999b9666b1e1587e1320e0'
            '1a393de38bf2ca97eca9777dc97f2c8b650471ae7a41ad24285a6fffa1c79aa1189c5ffc2ce715f37986de40117e7fbf3ac254632c6bb23cfbe89bcd364d17a7'
            '484c7a6f187d7a0d50c37272d901548c3f17fd9263360a134f000ccda07393021a8960e686dba21f1a0f8786f5347dfd9bfb39911d47f9761e43a491f42f0e5b'
            '6703556101453f5cccdf2950496b2e56fec415b3d58fc67798fea02663549948e29b299b54ea21e17b8829c7affab059ee9d5e31f27e2427484b7eb05823ac40'
            '67c1d7217a0b82508460101fb0c64c479016b437e531d6ea4c5d1d217a9529f228860ff08b3ff9ddd5f82cf4dc5c5de9382847878fbc5ab18b906c1f2373fbaf'
            'da11d68956b6356fc6358697267ddae6dff97d3432e22379f9760959a743c487798aca20e2cb3c1e91e921528b61551f90192f0b76e0bbca8f949d22a8488f53'
            '7b051aa5225a84311e3357d37cce82838d8dc93435f12b9e4c95a6d0ae949796cf8b05227d1e45e72bbcdf2e0370486cc4055b601077a9b96c7e59f9b633d64b'
            '21d8692c267dbeffbe33d5c960521d7e074bc2a28d6ca03d8d4dacd1babecce723363613d59f0369d76c9476e84fadd67875bacedd7576159f2a1410120c06b6'
            '8e5efd85dd1379ee0b4cd5349fb7a2879ab14fc7781c622d021f1a50481f7d15a6ad7bb607918fa572c0233c35a355769bb71405bd61269a15bdd9c80e6da48f'
            'ff381548ba0125caa7aa74439a1ce9891e63938051ec5fde8296c88d5f9f16634fbbf7bfe6cd9268a3c6b32012cdd7685b259b6305a09087700efd64cb9600a9'
            '2d08a46784fa575f91f9c0d110134833c684481a8adde2d7d8de1ea692b15c2fc45095b26bd53b33d67042072e6aea3d6794cf396201638527c72ba6aa71b4ca'
            'bf6cc840e1f38c8549b42f59ab34d19d9df87b10e6b5ff0e5eadd3dcdbb5bddcbe3518b9cd77cff7a6510dec497742a72ecd1a436133d9e0dc83972f30454647'
            'cb0b3cb791de05ecefbae1c2c63b45b888fdd357be189975ab2a797b714cb748e039c0817acffd11593f07ce4d1b1be59330e4b89e6c96428b092a306a04b1ef'
            'b18ad4ca7030e3e43c5306d11bfe21d06c190e1159042e65c0ae920736dd0b03e95a1eba6c524a501447c34c11b50bcae19be3114e2430b7e2ee7480b6540f25'
            'ec119d0ff9253b2b73c148199bd4582d247a3bf8f75e1b2a9d0af475f1d3659cb25ac4f2c04bca2f5d05dd6fd5f938be6f344523fe8d29238878169f50eeb20f'
            '1da76812738636d32f902169f8524e2e1a54faa7fb62eaaaa7aea7804a71343ace5c874c514a6c604ba75f2f0a5569183798e79872c95ea90ed79397274a3239'
            '83bcc2679f67c6f8279f74beaf407025556ee53336e36c91497b1efd46c97f0f81bc3815e8b476dd861b7e33fa867d5566a108bfa75643968fbfbec1bf7b06aa'
            '8bb466f1fab21afce67aad70e0d7c952a26f745f2b7c9e31f40f23b737d48e557df09a5b880f6f8ef440a1f1767dd11fe7db652f7dd6caac8bca613c300482f1'
            'a307bf838822564e4923b4cf605583e04e370fb6019232658d8fb37e51aad7e35ed17e05b792cbbc88634fc59253c24044962e9c1b72fc4bf195f54fb7277c30'
            'ecb019fbff8d229dbe9ef677f63ff8dd40898deb9a1dc8feb9496fa2393688c824ff68b3814a7769cbdc75bdeb3cc3a16bfef0dd0e99a012c76884d51c809519'
            '217155b5cfe13580793c7bc843dadd3f10ec571a05ae05868b3b4cc92a6560089d11b8e1c1c923374b6568c39d5015b0684581b1d69d89068c98319bc2872069'
            'b80dc19ccb5b1a7d3a4d0399de9b754445ebfc8b0c51cb9984c52e74a29412f0fa8943e77e2e02332a3070e61a6ef9659efbe70d0ad70278e4b1704fa74236cd'
            '6fa064702a75c23d1db592c0a3a16a5ce0ab5b71917c404d0d96e12a0a0b0a225b9b088d2c0866ed7ac6503d0312d4447171759d1bf3a1dbcf1afe23b6ce8bfa'
            '335667a473eb9121c1710e3fb07880c10520738ee6c9de2e7956ceae59462fd5587084645fb29a6214a2cf1c7a31382891ee1b232757ebe8c85951eaf8c809bc'
            '9bf3ce1c48e5fce2c2edda92569a9578f5e623760df1cb2a14871d5f5389631c5ff42233f140eac8233f4992527227bd7958a29a4e99ba007a3375e0b3d60376'
            'e58016f3da6b61ea742c47bcd5bf07a3989bc0577d18e190d53e61ed741aa7ecc146a11cc371df756402cb405e6841160f1b85632211a236372d259c3123b8a1'
            '77b3dc821c8b7f1d362194c6a8eeaa591ed999ce215a87f774c5a24ca94021a66a9038cbea1bbd06d06d30260348dc6797911ba9b49e132774e44eb930c54ae8'
            '983aa0306b42b9951a0e813f345be0541850dd9181bc1814f95fcff3be6ada18f09738ce880156d4449529b49b2d60a440f6f067c6bf82f0cb316df89bda5787'
            '6f61cb405105e29fd70b42515e59e0a63076e7ed7adca706a2ee179e6dcca818a24965395df88e1594d1b6cbb6b5d1008ca9d78499dc1b4cf8500e1a519703e5'
            '1ccd6f879f55b0af64da13068dccf44319559cc04884415d4624f1c0c1bfd3ff57130cf59414d47f8947c4105f0cee117d5d91ffef109bbd18b4095251d4d837'
            '50fd987ac50d063ce72fbe44c5f47fe371c8d8ccbab84ed02ea3cbfa905dd59026a29a185cf22a455ec22b89567ee3b225b0961814c55adc30019165a8b57356'
            '20ef4616f753274aa26885145646435a8dc8722bd97ef6165734606abe5de0066270456f1f37c88c0997ab888c8fcdf4e92fe300aa5d43f2e3c9c5ec264d06e2'
            'db7c243932dadb4e2d9f2e969741d2274627912250ec456423ea346f5c4e6193e41ef59a22cf988db0517e81cc4d35ae254558cefd83bf5151799486ba69b995'
            '326a0551cba4dfaeffd491c5145b85331dbdc9dee91e49e71a5a9a154e705b1ea16c068e08e624fc456af457c35b8766f923323969a3549936a4857df98087d5'
            '61aef080645d7739111df14f9e7f99e09c3a74c0e226aa51d5ea51ff79f7a813e716b38240a4de8038c2ec82edb930e9c6ffa0a6139455741c5ea678afb6e24c'
            'e936020c1dddf2aea58eaf5a01f927f7afb9b2c8f8173441fe048965ed5027eef7748fe3a80984e1ca90a30a6b89e04210c78706f35236c713c5cf7574e846aa'
            'aee2b13f50af10011a1054e3282f37150b20be77c32555286723043bac26cc224597f294f4fb441f20fca4693dac3cef0879c16c280f1c6e280b51f6d1ab87cc'
            '367beea0b3c242e3d19c6869d12a9c7635dc2a40cf348c30ef5ab9a2d4a98850c68806901a77471699d9f9d2ec2cb889018b391053a70f16837c55dd3fc2054f'
            '436da27332b7bcaa91b37fd50d27a1029d26716917bdfefaa245edb801fec994114089d7a79b91f633e2c5aa615d2d5a44becb0749e89f035610f4d3c60f511d'
            '1f3a364c38f929624b2670db11dd915ae6f97192fa36a9154894ba2bd5290d0e5fa90250ae6a4a6176e13e5d02514ec3d44232fbd39a0b87ab14ccda8f1eb3cc'
            '6fc22edd0a99a15a6fa78b90bac168906577bdcc406c7c02b4c881b061379e6918ffaaea6c78be8f934c141e1b5a701a5569d6f514aa16186d786da976dcf0b4'
            '834ff3eae172f05a72f6a8e632b4c0fb99029d83fe769db40f466aeeb05519dd86501161d30d34f795c6424fbc36c71f29ca75bac6cfd479e077cdb7b2452f72'
            'aed6b7226579ccd611ef98ee925264b782db931cbadc8e98f5b0680345fe7056e47045c7ca17f00da0092d5b9d50228e6c91975c4ada1fdea2cd4df931811747'
            '2fce2b514550824993bcd89337742d1793e11c560e51830b28b7d265c83276a51d445b23c02c75778af08c44d4314eed288f8f68cc3fbff4f9d87b5d1a3dba69'
            'e9c2eed44249de46c12aad67aba36e970a15d4e72addd530d896e3320b06a1d9b5fd8619405ca01bc7c34491f21e39243ed073f98fd5d1bdd53ae40c3d575995'
            '5da537a210da86194adbe62f2b6377884fcd251000d17a1fc1a628ab4ef69e14b55f51649eb3b7e415d8c78a8120f60dfa9d610b29115b9093803abbc12b5b04'
            '3b578f1e34f5ed4f3d4d32afa2b42808414c805a0f840a8d6e80feb3476ae8db30ae40c06895dd5c18ff1664f29c23f3996bdb6d626ec41abe2f61f8944cfcde'
            '61a268485ba028a277200400b2289ac8f5b723cfb9f53ad5c8430d1d1b451288b511956f55fb2d13893a4f75eb84f4f7f7af1e9d739d7ebb19280de2ae24699c'
            '74cbed02db9912dee825d33c80f480e9128d2bed3a0b8905976b762f8434c987342f2491d9ea0ccfeeee124fc185d0d09c24d2bb1333bf09f0971f697fe3c511'
            'ff03745fe0ed9cf1d0b6a4a7d7704d8917b3303880707eec648f549f460bd16b71e69b5356453b7af74b63a01b424c32118186d740a289c43ee4453ed3323be3'
            '20328412adf7b342278620a5c24ea7c2fda50e47f290be95e324a34c1db8dcd28a48440ba4fc3aa5e7f4fc9f22adbaf992476fea2618500bfbff2cee03794b03'
            'c96b3b9e9494c732065b12554441180f5f0f673733cc3b9fb4e8685d85095a7ed9a6b2f0b5958516387a24cef241cc57f0bce065900fcdfefb867ef6d00bc629'
            '3227ba2290d072e8d144b1cbd06b64c136a74a25e3f8e229db5a149e3a7343b23252699edaa5a0e06760d26f128ce3f43ff04c4c45ff56f8fdec4854765c95f7'
            'bbbac92eec43da48674d2b693a19e8f1c839a08214971b7d90f1fc196165240cc9f1d723506146adecc4286b8b897a52332242a57c32a3e256018859169472ba'
            '65ed54c87a62ccd4253f115752f1c2d4d276156306624f2d24f010015dfbb0e26a5a18755bbb9d44124f5a0dd483a1819a72edcdd06f69b6ca67d50eefc87f0d')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
