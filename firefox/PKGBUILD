# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=142.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('3dd31dd91d4ca91fc9ae61e444387d1ecb9ce557432a0fc296a9861f43c8193055b0ce10d49ad44fd28bf4df456104468d2ca41ace5435eddbd691a14fe8b68c'
            '2c5c438e34bd8b1e3a3f2ff532216863d775d0b278a9fe0cbe03bfd0ff8e709537d95328555a021713f1f952d8f5e8ab61242d01c692331d151e3ff8064c1e17'
            '6ca90764821f482cb8fc43b3f06e8bc9b45724d7a4a4d7779053a9fb19b2fcde7ae2b34e5c87a934fb93686427a0b7db03b7a5ce2164f92fffe73c8d258353fa'
            '57df2287d92e39a5c522913835fefd60ea2abf3163ce76e40b5d82af32463d12bfbb6ff50b1b2bf96943c7d27685ee39eaf00d58568643dbcf1ae7186be8f778'
            'd730e8f30d91fc245c149b088d745b32d77c41e7fc9e7cd8658dc4ef6078f265741b0cb6c06bf32bebefc76c1ecf2d39f20b3bda61ead0a8385b48bed696d093'
            '9684f0fc557236bbdcd379b6f9264673032d688e6b8047816548b23f69d1cb491589d017fa8d5761f81c3d7d99ed12ffa08fb82b99b98d2d0fd25b70844960b6'
            'cc6344e6ed47d4573e2c0652347b4b6a50aab9344c5863b8fbecbdcc8b718f780776c501bec60705a34346c82d53240e7c6f9d06331a43dc0d30193651c4dfa7'
            '4f15bbdfd0ae9a42bedc5965b0177d36f274ba77757b83c3a7e3f3a42dcc2e6c2c83741d5fab3736f19bba8391f59402d616df99fc910cb23f9d341883fdfcf0'
            '1f3db2a68996f26c3a759694254f19a0b4dd35da3f60ca531946f190b19c699e4b06c6237c22efd24a5c09d14a80cc5cedaa89b9a52da26b60d626c1be56cdd0'
            '7949b1ed075c3a2f726e861583a520a2f222896465bbd5f85442f6c45f4621a8db463b24c722d3ed50ed3725ab8868cda6cb0cfced74eabb92396620337ec6c6'
            '66813e81006ba24877d44a7696a185e09b91c395f182ed69e92a5997bc877a146634c24e7358ea9bdd474de6d96264b802b342166334cad426b71bd8f477b327'
            '69f27618f839d90f8aec2e80c10032d1c5599b336689c13101b76bc2de580482c20ade6010a869e46cad2a0c6971b3abe389d73a53887b27ad13b8df3b6be82f'
            'dff1e3368578f1138bac2c0dfa3f04d3d0292dba44858dc801cc187a73335d4f6a64a8658adc3e0fca31877e7a974dc2a61d422d02a572adf01df8b54334d8d5'
            '4bfca5fc9738066d3991e70227faddbf91e71bd6bbe214da44e4a6990f27a8c64055b54617e8f6fc9e2f1a6a3da0d0fd08291cc7152a233168fce1e6099e7c59'
            'b412d738e6c45d83a75c571dab0465e23c5c7daf87a3f085ab10130ea3bbf6c5116dbb15af04d199e7b9ee8ed2941ca7dccd7d7c482854d4ab284366a8d8fc60'
            '5cebe7c97669025a0fe8ffa55a1e1057f0a9ae528dd5794b6e58801b6bc738e2d7a8854ba8eb5e7cc1c9c4cfb80ca92b30cb97c1d86b9353e15593bea335a075'
            '22d51a288577217aa512fba5249fe752fb48a93f042adc1ce3843760231c4e612483d8dd7668a170c5478c1a5c2867d45b46dc4b333ed4de33d7b2e86d17c8e8'
            '73f4bebdda3a5c1a036a4144d0721ba4500bd7cefbc751bc5429f60eca672ce534c34b4f9dd4b773e64054937cf7b8467054c3da6de8c840fb61578d9601682d'
            '23a708d602e28c9f805db639f597e6f920d81fe74c26ebbc4cf1d1a94c63072a8ddbeef54ab3189d7cd66307f989e6db460da54a52b58346180cb950ed45dcfe'
            '8d7df5a7acfc87bc25d29100cda23b98b6defb4e46c39fb89edab1bb1268815b8c87e6cd765e3d398125e3446f3821dbd5cf4cdc6a5b2a5e73cf3b7cbdc6bc84'
            '3a16368fea4d667e4f29726d9c9d0d96c96b7aa407787e909c57b330563e5a66b9b80da9c0e1c2e2a1a68fcf257703b29612b627b94a5529ec6506832a873be9'
            'eb9f67b246c634ffb9a92489791bd530b9925f7eba82adb3e405b43a751bb8341bbbc4d5151fb4f665e17612b4ba992a7117178729ce7443704699d0f28a6ece'
            'f55c03c513f29f671369955e83c540c9976cd9480d296ebf7ee01d71477b06a07ef2637b2f3d56145a823b89b2756ec5cd25f944d28b75f6b1f51f32bbf399b5'
            '9370c7de17fc1b6e3fd27e5864f6e6583229fd5d0901e11056e664a4f9c766bc648d2eaf5d14b3b04f2e22b770a7652398a6384711cb16757114f041e3076ffb'
            '69e76bf82dc55cdc701238193d351b0a301d818e69f61dae11bfe92b3ba2d3a3cdc0a81ddd9989913873f8724f7fa2d15d8664f7b4e8651322cb1795129bbeca'
            '2ce398fc187a95e24cc4bc01579786e6eab63da2bfae842d75f642fe2195d479da2f8ae86dea35cbd2a9341deec8b219bae6d529629841d3e5ca4c11b7e78dfb'
            'bc89ac9369822a802bd07d5ead9fe8c621e96f6081d2031a743f6ce2b04339cb0f2103197f20e306831f5bdb6f497dc48b16531758c840cecb3b9390d9c32f37'
            'c9e6340626525c8c39d815c8f2967b650455d4f70327e86ce0b71a09ac28c90d09b97e3a1051951da4e0c836f22f9a5a43bb02c69d08e3fe906b6af7024e0a2e'
            '56e4b168d5fb1c6772d1b2605884eea747bae5f48aa7d6c6745cc211e0b4d6ac831a68f9c1afe8b82fcd58a0dbeee4a03231897f08fb13468e78d10117eb511b'
            '1581419939a72835bf11355e7ecd9a43bafe6ff8266cf48a7d57f49f1b720d09e29909f7c6628d2d25b9ca9221768c9dece880820e667cceba61ee216de95457'
            '6bd00ee65511e39856b906ed12004945992557fafa1ec6941111da14e81008fae6d318f56cb40275dd1592cecf1dd5bb0a3bc979f07deaef190f91ea234ea107'
            '4bdb557d479caa74841a08d1c7a37f8cd777b59ffd4e1d2aef4f6aa7ce2099c56ad8ec7228a7d6a57e10b8d1f93f191b0a6dd2bedf23aac149eaf324283bc917'
            '7396e88d204669effd32e0b7b7797267d199230c8f037d4077134a3cf566fb52847a8374e54aef6473c2054e1772603456f6cb948a10b8584b3847d440e06747'
            '2dba798000cc7b298abc2009a04ca80651ae12c67643563a97a634c3a007ff4e1ab612cfa2e14faba1d54514fc80a02dfe68a753683d6d43a7e0bc588af6b499'
            '23d906dcd279ff67cebb47f70a149982bda41b29f197002a1e063045398f77c28afc3bf7a60cb749322fe785fb6425fd1d2f87dd5facdb469cbefc3b1718c292'
            '5642ac8ad5e616ce535775e56f934cc63bca13a855cb196368171ae36fb335f1e631793da430a15dcad85be78e10dcbb178c373c40d6ebf02d22844819e31990'
            'ee1241817d30878ed71785af9258612cefd1876265e93b87685f1a81fd3ef18b2add80595a7d1d1a188b4daefaa49ca5ee1a2d1e06b4a04bfe224560f2ef5234'
            '5faf624bf3858bbf8477623b6aa598c1a90633f2c59473a637a82a30a8a1b29f876aae51a3506de2d29ddf86d6c12b09103479666e00e59ba91a68b5829fc853'
            'a5f1ab9303cebf006295a0912a278f120c5b6a2feb4556dc9b6c078427a3a8ca4b2dabfdf11bec55273a8c480826ee33518ae0759d539c5ea133dc2dc3084d85'
            '7ced4ea5ac7e738a94b940b6f67ed99c878f4db8757a80dea469ac46dae4e01f73168238ca423685d26f6ed78705b7295a92d894cb629d0ba8ce5b9eea188359'
            '9f6acbb0abb0bc44ed71bfd54d6be16ff3e87af8b431b073864bb00a5b5105bf7409630af62cc72acedfd48ed628ee7728ae27d169da6d8c18d8d8bc3c99b588'
            '71affc4bbcf92ea67c036add70adf62a74ad0d0e83b79f56463dd2c52d8f7a6e55075546ac58bfbf69e8440310cd4f3c31842375b9e199dd7db36af8aca30455'
            '5c82574906a67bcab5f14e6594d98149c4aea071af35e34b90e66daa879bf0212f57031996f07a440ce7614de330329f8045a9688a5ac201f5d5ea2b49d1deaa'
            'da3100b70216f1c8bf9d421bf5ce37b6396e3545781b69e3ec2f49fd01ebb440dfc97270b3bebcc757b2988cf36954f07781e5f23a82af3df81866420c3f5a3b'
            '98c15c6dcf287821f3d1f6b6ede0015c4471c7ec73438b784c5d80f6168f0f2f929015a8becead33ba97456182fc26b27e440ed7e32981303606e1e8525efeea'
            'c272fe38d9145105765a4008da8857f0c15921ef912ebe1d9b92fa0bb12c426bc04f224d3430f551d93ab102e8bfe007852071ccb86d72d63c9c62bbbdb2bf11'
            '994ceb2a891630deb02946f8d37e704133a51f6f516213bf97682c00ddd580ca7e1db453b93662a31a3c2941e702c51376087afe11e47ff62b31abf9bac41ee0'
            '0e34154bf0906c15f8be3cbb2f5d847e612689de1b23b0d6ec90087d38ac81e78125bf821a18ea888d7fbaf1792112b1b3845aada47ae87f02014cbaec709026'
            '6398323219cc222256f7ae9be8475b849f25c6aea70ad5e23fe0b2ac79825335ed46cf93a3f6690fcf02505fa2c3708d348655416f5e5714178a6e356ac216d8'
            '7910bb8589ea476c460c902095e8c308553b344a4cf4849dcc62e6ec99d1d5933edb39fa3102db9556837de4df5033eb152328b7bf7a9a0e9feed25f7bbf1a99'
            '07ae79a1c1a2dc92432a744c910bd7264566f41795dc6b0272163a6f1130b519ae8a3e5720005484f93a6f3df260bca13e034594cc84465bb380449bd0993326'
            'abffa2f4ec90edbed72ce8cc8615d5d82f0512b45d386c4b975db14b7faafaf61706baf9d010ee2681105ada28689f4fc9976bf067d0b35e893a238623cbd11f'
            '69a379360bce06df831ed3f4ae8a261252233e0053769e085415de14972cf61a5037797c49a70edf35aa901daba1b76473bf8e49a6d412cb452efe3d9e45422c'
            '77c9e130e84c9474ec0b714d636e74f459037f51d4868da9e404f908a95c867b2152829445cb48e7360a3a5e1a85b3fc88072214bc7bd9f0626012746bd7a711'
            '9d8070c54136c364ee0cece29e75e299e8730c766242addd52c06067268a054f42e4410f13ea8d50d84265b433adf74ff9b8b1d26ff28f023b5edd03440964cb'
            'a111130cf55f4dd9fb931b0df15821e9ecb4543af3d2199d584694de2695cfd0b1f0062a99e1a40d7e24c16c533a095b05fae862440492724bcba23df00d3348'
            '109cd27129546fd35900da0f8b334ab3bea42478471d004843e5552c5b20dfd84611f688047fbcd7f579fe9b76209ecd969dd30168e08b62bb6ad1cf6c68cf37'
            'af1f03ee0d0816aa9dab652aeaa0c238bd1e5f5a68a81df56eb6d247e7f9fde4bb445e05bab085c138af5414d88bc86cf650fdb8766621e6c35b7f2ef090bf4f'
            '465dd5db69331a9757ef902d1f8782f2029417a54b946936ad57707d85a752de42134bf419e094d1002f1438e9c7422c862364955ddeef82e46437418f6ce1c0'
            '8f429aa8943855f2a1f603e74579320d893e5990edcca4b0476bc967f801001491adaf85dc94a75929da222bb7bcc72ddd2c37512af8283fd64eb4edfb8ec4c1'
            'c58f6f84c512c2d16d59ca16c7fe97dc0419950a1189f74ec116a2fef042b44d3b8c73799a179957a84886fd6254293a18b91d5d040e8e3617f91591a0c4ec3d'
            'e6364e5d0bb182102aabf8b82ffb1bf8a847a503ae301e860222e79afe4643a45ce210211bb8793c8d7488c5d753a7c2fe1a07a224f510c207b145f9010fa114'
            '1389a8cca83ae022d41d536b56de3b889a02abea9a10dbc9bcfef342b54e5c23c23b9cdf87f0c3dff6c85304ea48d866b9f8d5eed5369eb0e8fb90cdf1c9d213'
            '908e2e1569df2bddcd543a86c84fd6eb97d7afd8ff090159eec6c14368c77b7dfb47b8c5d0d89630601373e8ca51f278813737bfd515637a0f21994850b50922'
            '9e3255605ac71715a88c79336c996209ff8bd07421f8a0a8ac4459eff2b8a9d1c0349c27a0d56a9a3dd49a267aa7fa4770d01722e4c0b07d65819edc49072694'
            'fbd68498d1986a264dc7fb103cc62ced737f6fd1bd9e82d3450ecffbda55d2ce78a320af71680c7b2ab3342290e00131bc5bf3f7b84e86e1b1f96716dbf0a7fd'
            '8a488a650cf70f0bf7f07c6e5765fc025fe72a5349e36f4970595affc30458308067c36deee07ee654fb281cd844baa8ecf39a99e48446eadbba0313404b8664'
            '4cfd0a13c9a00a929be058056bb2b975cb1706c9eb70b25e8d343c434c7a4a5aa6e416c3ada7879fd340608f48bb099404792f67968e670519ad54056ec25c76'
            'd2591c398ce64d405ba5c8387c14a2d4a9406b1c8b578bcc9b2dce7b32ac55f51465f1ce4da1ed2e327683522431fb296039d3c7f822f4ac3c2c1d4e1304ac92'
            '3cea609e73e1c9ea14a18591ec3d6babc58d556c0bb7f2cf32e79f8a73ef4a8e17b1981ca44e214d7dd6879e92a5ddcf6618576eb174c2cb4ec520f2592f6993'
            '6d14ed0b941a76f3bf9342326db3e2f0b1a0a9077b1930ce9846eae728bed8264d6ba0e7fda4ef2cac7031a39ea50839c6d847239ef67f60576f88ef9c7e5fca'
            '1f6a101f3c5a7e09775ad579a87ec526559244775610fb0aba58162a5df181d99070896d1f075cca451d2bdc6963ac9572b93c046167fa6637cebf2f29696150'
            'a16e45a4d6ce86874ad29d4cc4dab2579b355aa073025f6f89b5d4215d11a86c70504deddc65488ca749604bb6988c8b2694dd5b8aeaa727ee55c2199d1fc1ac'
            '5e9ec92ea9fb9a17dda639eea3ee6cdced93612ce8c77da664bce3750138124adf58e97a635b64b2259b3acef23d1251ad29de984521f0cc8e03c3f4d080bdfd'
            '1b9e2d6dbe8d1ad9af07d99fccad3baac098e5f5a85e601db60af6c2305def1233d74c19af18dd0aab31a4c6c8da5cfa480512afa3baa7b1466ad86f6010706a'
            '867aaceab3349519a97f50d79a7193b1bdd6c18a383387ace173ca0c1276223d67ecc72c94401b6cd4acad2a3c516379c6db67b5a33fff9547503d7a40e5aa15'
            '8a4fcbbefc9053c5f1a0b8f3ce3bb0d3ddc3bb40b2098f72046b9e21968a79b163f9cd7fdb87c1cf0536da697f8455698b9ff720cb1448ebab6c4bf99f8d5dc5'
            '1159d977f72c255e71c122bfd7afb78bf967c6e93fad3265a33110243654c0726b3621dc760dce7bf926b61a41b4c92d03545b1dc3d7463efe911e8f8d5a5d2c'
            '5e6da39e298f97788233d415ef38d52531f3c24359ba55cfa36ea658d9baea65a7086354e6fdb15d0354c4311519cab0da1d7495731f21432cb59e96c1716c6a'
            'fcca2bc63d7a95d6b30a28169af3eea3c28509247b9934d2fe098356661322bc118b1f3cb0a12afd6efa3eb7c7f049d23c4935a836711e1a5d68e48db038bfcf'
            'f7b21d50234b14fa6921c5799bb2c245bd63cc83b624eee8363d81cec2d1f8d5d07f742a98789cfa65f832631ebe9567a1d77a5f54125858ea6b3955a7f09556'
            '356bd07b0ef02da86c19c93cc91e6a473a89edfeb59878facc94f783d9e285718382a7428a59b25627306a3262bd9adf36ea69224ad53585e25ab43e30d4629f'
            'e0d0051fad16289db4a935d361b5ec6d05e83d2449a713b2b9eb330de57ef56bed0b48d787a5323d4985587ee81b8521c0865bf852a9beac31eed9278c0eee89'
            '03cffe36b7cd62bae7040943a5b68afc01abe073ef1ce458a7eb1669462be9806ebef397d09ad907ab83975bac9d5d75d182a479343521a7caa3e8f6c1d7e55c'
            '75a7c6ced646e016cc8565e4f289991f2885526349d45101774425cf2e692405f5cc3920343d7ec52e9a82bd29c635fc852214b56cef7633e5c6899976001315'
            '0cac31281eb3695d543271f2608026d8918b871fd273898741e10a9603fee8f3f023011edaecdf89827db4a1532955f66aaacab2fe69383dd9e85dd8efe68517'
            'f6dbab50493073b6482292853c2f3a871a9e1f20a98f70dd95297b9c8f1466754c3a51a6df3c47713f7bbc985495acd954dd07f1e829b106ef63223c62aca3e2'
            'b4d6fddb9b431afd49195fb692506472251937a6d0487f1409e51dee95eb3a11368cf57f732e237a34e88e7ed0a80c7047db7c3e0b9e33ab90e1035d328b1a21'
            'cce322cddb430f06c14579469a840731c62b62230701a86059f7f155b666153dbfad654863f8182891d6295a23865b8a7bb45e5662bdf322ffb12d3f924c3d93'
            '6173d590b300814e57dda5b8598aed8f06084007443c8ebec3cd7024ee8a9af3755538d254cadfc123daf22a094b9a9b3f5931fb7488cabc84c8d407ce4ad06d'
            '00d03ac5f94679211df7e032abc962b8abc8f1410cd62c83b28fc5db48a13274ae27adbd8ab3c420316279a59d3f94de2a174233336e310400546ecd6afa8e92'
            'd278340e36f96120c2cf94d2d40da0ef96e1d360abafe563c7859f9b4b305722c10c7c0920e0154a9d75bfa3e421b5a7009254506828525a52b8070242662e03'
            'def80517d3392dad1d82850ee64592bbcce5c742cb686e0ede6cd34419f92f7cdcd04ff1ec6f247ca668fed537acbb1fd98114c104382eec247680b7bf243ed6'
            '2e127547c7e47d8b20820ffdf5986e7da8c3c8875202722a882221dac2ab20f5c1fbc55e096774ac272b8706fda37184e60877afd087e5303ed07dbb861a2310'
            '5952e72adf7171d1c0c4fdbbe10c0741ff29a1bfa05ec96cd75706741e7d0f8bc7ccac3a7e6af445a305aef7f6a22ce23f632786070dc5f2f7080b2bf2ee5957'
            '5872d6fdb954071d3d49960302ff81d691cfdf05689a9cd0af8682bf1cefd1b7665ae4a4d61520cf6719704309c1627bef5089cbb8cab65c0ac5104f25492d3d'
            '93784dee524f51700fa401021fdf178620c7117572ae79d0afe8ee426f57df5700013efe11e00f22b0552542c8e4d2e169dec441fa36cf1e5b37da53e0d95088'
            'c46d7a11545631c8d7c526963461a41a23df29ca2e88504db32e8727663677260e0216bfaab3070382d2b17084c236811bf89127a6ceec3867f484c8a16183f3'
            'f2de5b69e0f15295da50198b3bcc4a8b3f4a4a0391b7ce384d75c445183931edba4bcd5d64d823fa4b077390d7e122862f75483c8a138d192d3e50c9828ef722'
            '155b5b778172e81edc2f548e01f2a73876838911ebb12721811b38ef73504e6b958422943087bc51a8e38efcd64195713c5f2040b773bd242bbce28672b80793'
            '443b353abbd07d40e158bdfb3261777e2469f9bfb1e62691361998307179a68d94147ca91749c45768bd7485489a47637df779b2ed1aeb19e901b3794aa81c81'
            'ece4bb14a4548c7e4fabcb52433f1db9ad6baa5da595ec6c34efa5890c97eefa0cceca748b5b6a57e23dc7270cff997c123bee516d84a410647f17cd32428de1'
            '508afd3f8379c86203a283751339adb5e5e17d864ce48fa91d96c29b217806b336e68548f7838d2ade2441b4887a3bc6f8ca15615e9956c7170aa06a52835ed6'
            '8ce67ef8367975fe19da3b68a04a66ce8973f87a9cdc135f1ec9e58d1a9e64cbd9af8931510e7649a576f32613ca342f2232ff74ab77352f6f008588cfc6833e')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
