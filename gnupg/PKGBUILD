# Maintainer: David Macek <david.macek.0@gmail.com>

_realname=gnupg
_realver=2.1.16_20161118
_apparch=32
pkgbase="app-${_realname}"
pkgname=("app-i686-${_realname}")
pkgver=${_realver%%_*}
pkgrel=1
pkgdesc="Complete and free implementation of the OpenPGP standard"
url="http://www.gnupg.org/"
arch=('any')
license=('custom')
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("gnupg-w32.exe::ftp://ftp.gnupg.org/gcrypt/binary/gnupg-w32-${_realver}.exe")
sha512sums=('6d17107d4d0bd87631e34a1e196d24b0d7e5854b8cce2eab0a5279a7a18f4ca4321235e9030f37495a5fa30b318dc472c3590b23aa16cd5930f32e4b144a80a1')

prepare() {
    7z x -y -bd "gnupg-w32.exe"
}

package() {
    a="${pkgdir}/apps${_apparch}/${_realname}"
    mkdir -p "${a}"
    cp -r "bin" "include" "lib" "share" "${a}"
    find "${a}" -iname '*.tmp' -delete

    d="${pkgdir}/docs${_apparch}/${_realname}"
    mkdir -p "${d}"
    cp -r "[LICENSE].txt" "${d}/LICENSE.txt"
    cp -r "README.txt" "${d}"
}
