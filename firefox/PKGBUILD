# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=143.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('da323aaaa94d4e7f46044a937db9d82ceda3ee07db56d6a18ac065c4b2ab4cb8901114a954954453803f1aea462682af37d9eae2055ba9441d45b82174926f80'
            'f1beacab86215f12dc3884aa07950f788e5836105cbd1f3edcf87ae858060642620d5615bf72d123233c669ec7f3a92a35d67a3d9f2d807d2d326e32ffc01c75'
            'adf4e5fef87b1633daac1ca085cf1816453872eca3b9a83cb516a024ece6ae5dc07cfd58f287487e12b0734da0310332b0f09e961835b5a401c3d9ffcd533e36'
            'd5b5e89537127bb022f17868df2c7a88fcde0a52e3314db592fb69f601682d197a81d42cd9d1483c440c59357828bbc43af882da6606f3f4bcf485dd29694300'
            '7f2a3a2d86d07ac564a967727ae81465d552cc4238fa9c651caa9c3b4d2eabadef71b70e9d8a8bff67677646fbd5393c140c9aec72cd9d75cf9aa95013738eb7'
            '8c1ce22caa87a0a22e170cb752affd19e4187f8b89ab9d071dda789aeab2fd2e795555edae2db3d18cf64917dad20bd46e9798c215ad14e2cc7b05853af0f7c6'
            '94d9869c32353968cb0a2528293dbe3efa7f8b24dc7eca3ee0da0523ce73526d3faf9478e03c0e7ea2e90afd04c2d9f2009c5694113faa58a3f27d3accee0e73'
            '958c1b01d82f8eb9feee7d0ac084a06370c81bfbb6f6aa7ca749ac2fed86a8b277922cd7e91da349ce78f94a19abfbd3fd0f91f3c35931d148e3dc4424715339'
            '6a5d25a9677b0ec476ddf5e3860c27c314e7bcd5e28ffa56b9cea2b0374caa94fc9fb9afc5ce9dd5b0cc588efce49d0d9541fc0f44fc4bf047608a8cb130ecf9'
            '553ce5844b29eff89b37a1a580ae298d4fdd66db4363403d1d79762ae0231c49c7a661297c9be220ca208e58188278679a8f239021ecfb6f8bf2444aa13de0de'
            '7b9f0b1b37f372e7b9fc6073873eff5e11ad516f6396e8645574e2a6f19d9a887cc2c2bc58e06c20871d64e49cfdcf96ad05b45344ea27a0feeac55d87c01bfc'
            'a2a47729925a0ec28485affceef92336a9c31d707b2b785350cfc151ef58e838728c59fc1201f01fdc5132ce3a9246a2c45da62f9cc16457881e889ba399fc80'
            '9bbdda578c7945b95d184c46ced5a5d7d600debe0df5dc5a07843361e7e69341d90a52326e6cc18b7d877504fb3d3a2c0ffbc5298ecc6078f3fc3d21bdbc06af'
            'c990545f26d462eb32b034d0564cf23e552de6b5d82e298c82222492cdb28377cf805b3a97041c83dc499b0730b9359bfedc8de1811f4b3cc3d10dbc8075de20'
            'ad76b8d49b9f99ed257f92a55fca1d1a7c975facbf27e7cccde682bc16658b5561d52fb95b516288d13ab0730a2fdae09164d4dfc2ab04bd1870472ce085fe36'
            '5eaa51a7fc7cd443363ac2277dc517232ebc5f20877fff971ba3243e4424d7de3c1183f66efd28561496d8c31ebd0b421d94264ddf362d03134e763e938d02c8'
            '54d4a6c8b298cac5945943a2c6062719b4d3a18f13e67e22afaf9a8f9ecf1d932b72bdbd9c023c2f7fa4e1a8d09b0892bdee10973e4a1c5576a4c4b993d1aea4'
            '4c167c780248093966b342db9bc052c63af5897c1195bed91eb989cf7fbfb695e52d95cab6bd0bf99dc3810c51954dd8462f86382779aeeebbafcf271c0c464a'
            '08d911cd78e1aa1aeb6d98b3d9b678d6617a06d4ad5a1bcbd572373ccdf063dbba6e5bf56cd4a179d33563cd5cf3bb3f3c5d4b44421f764e467c2fc3a3329346'
            '480ee48560b0e538ff8c8b15ba0a3bcdc0a3edfd3943385e700cb838886303cd7d54c479289b99652402c13d4c540e5b5b576d2b0ebafdbd2056a8e6900b077c'
            '51d01c2188903527eb9a39bdabc0f6aa166c87cff88fca982a9a8f6a193c45cd620970483e3426b7bd748cf4b3d7c0ab54acd2f075376235a8d61532c2a9dbef'
            'd7d21615da3f821be9b2015736c8cb86d4156cf8e485248941867ccdda48797f66bd4f6161e4e1976ec301fb107186335daf53612453c2a3e1c8b81b61dda88f'
            'c29d82284ef3de528fca6965896655f223e6c8dd766a5ad5b03306e8c584c9c79b781351f5153c93c1ff3293b2c842068189f8833dcf99613244185e1c1d812e'
            '5212950067c80d1e4c362fb6b2017c8972ad1dd65aa15ef10ddb42820602301dc88c941b6fad54e41eaf05230e873b38d5109b7e379fa28860dd3bda2d6dc5c6'
            '252ab8d2790a61254d10fc98a6ba7ed802af515d207e30ee8d72755ce89ca331d1f8fb3ea2fb9384bc058764e0e2ffdf42e8a6686b6c7ae061fdf941b1f07da1'
            '208926f9c88c6cc9eba91958fbb5d2c0ac76a934be5aef6980e24be2380f3ea397cd95ef310474427cd7e39f085388aadf0065b6994b700f9fae1d16f0811201'
            '9f7efd1822d22d3c8d5348e4a7130e936357b8dbe8f45296c2f73b03cc760402cfc854158a9eac4444b472aeaae5265fdf1b4d02b5bd575806061e9891ef654c'
            '21279bd3c3f9f7273d590d633ea08a9e7695da6bfa9bac134ec87619874faf53f266ad437641dd2ea75d50be8376a37ec78ae9b534937da77fc69906bf12446d'
            'e8d8687a1229c63cb1bbd7e68b8e8180086a9f62bbaaf5bdd230ea89587e5b7bae09d2cf6fb5c0e69b25fca259b420d6fa290305ea4626ccd47646d3a5d73681'
            '6c5e2fafe4ed729e9ec99fcf5ab37deab54eb24c90ae74c43f8c0f980d548bad7f0894d2333792049ee23bcf7c850ca67b4c38b9d9bfc714ac87abcbd1008b44'
            '34be903bfe4805c35c850e2941e5b8b304e8337dcdb7ab089ab02d6937743ea04588b19f14600402130949a0d756ce59427f8bd0b6804ac7695082518822b49f'
            '601523f700097ad490199f29143045f73e6de07b663012e34fddc362ab5fdc5dba5991c11d399bc24c5012bb24a35b827c9331c04cea3dc98ce95e44bc11eeed'
            '81c8fbda2d80d27e819491c29f17789e0f7d830511d074ab87d72904254f5f6dff7eb437aec88930eb3d675e06dd6d8e77b3e33a02f1850feb246231d73a7ea3'
            '08860afc13f0518e18e5e288d58e2dffd71d141d2f6719579c8def6bc21189ffcc4b93b786ea099e06d46b28db9466e35657be8d3bd53750240977d4f99d405a'
            'a920fe8d00156053dcfea8e10d5777773efb1a08ecd70503f716602ba7af095f16bb6938fdf62d782d1a19a2f295d26ecc9f50e124ddfbb91c75b2c5d90af57c'
            '4d304300faf91a1526977fbb4cb8d4244c266379c708a1e490690b3caf35a8f2214c5b1945b2fce98078249f04cb179a457fa567bf0f06a6dde3815cedfd82e6'
            '2f1afdca276437a97cc35e56ce59d79494069b4e2aa77e7d06c7d8ad3e930842bbe1de20972ec129f467825e8a4bd54b511d392d785f9d7f13a324de4d91f55e'
            '5e027ae7d8bfec8f42789beeeb0b9b43957f12983318caccdec098d79dc9f549ce3a5d3e716752d3252c4dc22502270ae0e910c5d7e963d0e9660914172c0713'
            'ada45d83319db66b9dd691b2698a1b0c1fed29f4fb8c6117bc70f8a2716ffe578e6896676ad0b7f7d805a34c994283cfe34324213b28ff0331bbe4f9b4960fc3'
            '8b262f99bdf017ccec70f588d78716db68ecc7828b67e9e1b3b98d71eebf57979ca4dca08cb8b626391e8359c43dafdb81681f6385cbbb3d08c77df402696ecb'
            '1192054c3d7e4f054b9e32d8c46861e0375a0b063ff051dcb58c5d3efb6f0d428806e08d2642750dd9b0a1baa47907bf3a82352e39545b7293fc3fba05ca4b95'
            'f4e9a64a18347bf955adefa2f031dc1b2ab733a720db3299ea44a11a78b03c4f2ab220f3b2943bd5fb9e118bca60529375046477d9592fcd6b48db7e8eb96685'
            '106ac9926901670b40e881443758b0403f1082795c7eb6af20a2ce1b0210dcb9dbc04bcbbecfee4529afbf20345ae1cb691dfb3655415418cf45b97fce919871'
            'fd35c7ed7314e09350b75545830edeb7e8373d0e8d57bdf166c0a61d4179964b5826ceb8438aed13c9c05f5e868a59c48620fff48f87e49e002cf76018ce3479'
            '0c546afb827573cb5e01632e63ce3e1785e2b052bb57d79b5eeef10afa0ff381176b1c93844fa75fdbdf58ec2aa4ece71471578563722c499adadd8991d0e3fa'
            '567263c2101a39d397ecbdb693cb5ca58cd04f21a14b4fb2163e2f034028c11267fc91241973ea95e51e78426edf65612af7fe1c46b3b2c1da196e57c51e7473'
            '640e7df8812221544e5f443ef6df971d682be43d61fb08df912edc0058902c629dac2045456f38cccd9dbd8af233f353bbe6809f661d48c91742a27acf7e3c0b'
            'a7625d393e88088533629e6f875eef95cb52850313ac3539e3d790d36435f59fc5cc7f03f1b8ca39b4a0d7385e6033dd69288ffcbc70d6d8150f0360041c0616'
            'e2585a940072d905dd55188e99e7ac5cb406291d5a686442ff0ac353c0df0f19278b3963968b5d1eec186a98999aec65a17dddd696e10c998acbc252c886feaa'
            '96ddd716db3915f1839c787238d6b3f03fa2d2fa827f4850f6d54644005f6b377cbb20d3416e7edfbfd910356bd6a82b0ed4ed0a71e9b9c32e8a0e4046708bd4'
            'fd29d5d34fe27a3cf735c1d79aa7aa9ac65aa2eb9199c994c7e2c6032767878fbb794a8cbb2224a76f8fa9fe08c94de44a77e6936d9ea5094d4b4f3054df9a3b'
            'c959ffd36fa0f1eb59254410b196fc63aaf3e6715740cdfda2c4796477de2a1262c466e64082b8472e65f8c0cff318aa1a80727ee0f20f297cb345f00cfd7102'
            'b1b1eca8126a4bfc5682273add2111f799ad12ba5d91cacbe4714265f3e94080d3f8bcdc7f5727e285406aca252c00f949d8715f60df5110c1e919a4ea2e9fa6'
            '241d664b75e29f665f9658137579d27a110b7175d737ac17d7a8f754db9bcc93a1688f2901c7635f7b6ae599c2c5c7171f53c7497933940ddf77294d6ed065b6'
            '105971ffc628b82edb9ac4f9b87ba3f9d89926a3787b761d3adb71cb88d1e19d82c31fab2ca378f6e02a6c53efe6005876f218c9bd8e8afbfd64e356c9b33e1d'
            '0fafa3fa2e8e30aa47a31d8fc2007dbf2c243bda42515197df22bbc8f35ee2c02fecf264f31d63ec41b2f0fd9a97a2de8a649842cac6a3f6c13e8f22b311caa8'
            'ef660b63ed3f366ffee00e2e26a9823f98b05216af5fd784c0626de95f39996496970f72efb418eb42d2e8dcbc622dc4e68b2a1ef315705214b2e211d120a6ce'
            '8812bb3aa93b09eb775955505bc6bd2b1ccf4aa308a1c679fb37050931b06cf1324af68ff0196fa8660b6e61fa4c283aac04aaf9728341b446a898335f1d5345'
            '90324d48089a69dd6772545c7cdf8ccc55876edf53f834d4ac29ec92629de6ae45632b61ab502f8ec8950ebc09ea6edaa412afa520f21ff3ba0ae5491b97a2be'
            '403aeff34f9284cec231dd56c989846d96c2fe4b0f6a488fd586966eca5b0b0bf778d1c9f29b7c8aa11307efba8656a9f2be8ff1bc27e094b7b338858f1f55b3'
            '5cbdcdfa7b71b70c8ae5d19b4059a599243f74a36799da0f6b372bc2afd0fc1419d7d48abf1f8fa3dc970aa524f5a77cf8fa4191470840fcf80da8b698c44cf4'
            'aed9f5fc473101e1dbcbe5e977667e00d027cb355528e4cbb54f472e74f400351f4f217a4e49055ef5104fcd17ec3afb70f498338050ede6236ad15154eed2c3'
            'b6cc52cf979e85efbc748b109dd24846928c1244be1f2e73cbf04e2acfa1c7db93c63403cd69ce4b89153df4a200a6d7104cce00d235d23732269c84a312f81b'
            '4c2303ca9794470643200cd5e228dc47bcdd4adf1e77d58db5bd15abb4c8b42080600981b42aa9d858b6a8f5856df9a955257d235914c7b6df9a616f48e27a2b'
            'e9334f938e3b4b29df6fabc19e8dfcd8bd40226525bb542f31c847fe43ffc33c8fd64720f64814ad0bf85a5a2d46ec13104220adefb1a819416d6068137187bc'
            'c8d7f74a5c3a5be7c566195c309495b7b9906025e5a79708a2e840e0abebcb8fcf6e9ca3693fe1401431e26ed5bbe49e3e02d6e13b18857e510860e1adaebf2b'
            'c6017c8f17ee285f241a5480316ee05afc20f6e88d45cde6a70350f3cf1573be120a0b453df73e42489b976290b328c5bc5e9e33011ab6c791727da78c821cef'
            '30a33752864232c5816b6091ddfa05d6231d7e75f48b0d385ce74e3f3add5cb68074a319e2ba77b364185ad498fb694bf701d9f60a059a26bc8228d720ef3e1a'
            '86445cb6131f88e128e1c40ec4e97a89500777b76b8031bbb19b72894d7589a04f62b46d3860c087fe6719a4f1d540f83662843c05985837c1c90d7c05bff579'
            '71d2da005e4d7a6963f02480cfc417ab3dbf9763fb3f668b4ffd9da7b2a7df0f7a77ffdfcb3950e9cacb084cc862e3e655061330def62333be650e6a577bf95e'
            'eb0fa057d45e51763335512e772b5c66009608abd251ce057da7c62f2aa662c93572dd91590320118a6b934f21b081561670560fc9634f8a143087bb8fb5c830'
            'e674fbbed9dcf92270ec5ae7e8b7ce71f586618b145183a5cdba64ffc0ea0e8822ac66efba54bb2d4a0ee8c650aef06f4f6677b5d198251c820f78cd86176b22'
            '01227a8c04805ea755e7ffb90f1eba1d3bad0e2952a9ce25b08a8affddbaf451123cfc1dfc0d26abba7a42579b4d028e84673e506c488ec0531402dca6d5e077'
            '7847edaa92da71cec6c27ceef4be4f6ebddad65cef346b5176f65c8ddaae2963f21539ffca30d2c3e9d029d4e55d4877afa753684a5de7d0c15a1ee8bbf3c62c'
            '769767e1dd7684f062ccfbaebda64d63bdcef0256279decdc454ab2abb65138c64cefa68a832de863ac19f30a9d4d4c922dd35911cb7792d63f3b12312567161'
            '8c6110aadb18ae8f0af8b7f657acc047578ba48649a044e94f25901cce370658d013dc544b9e6436d61cb6500d8c8f249b6d99ca418c1bbb2be1415a032ae171'
            'cbc1ded8e0ddb3c73115ee217acfb78b79a896b5e7f13e4c2e8fefc780f0d76a69e2175309185b9319d2ffeebbab74bede23692325f3f4203bf2c97fe97eba7c'
            'e9820ea8016b619a07f8936f37b0442c8528265fd12050a446c1ba53eeb6a17666cd2dacb9459600b1e67e4e93a8cbeabde931edebac8d51b49ef48ba6b0b7be'
            '89f155a8a564cc0ade12afa9cc53d023e6b14c0b6ff949df1472e748b611037fe2f75fbef23e8a6c075b36a5db4d7376dde827e08efceca8e9df9c4a001da665'
            'cf7432cf931db78a39e240dd0324b580d86a79acfa3d012b0f78943028c1bbc025f2ebfa10705b47a5685182f94c70cdec8a518a361141ffb178e2f3667ac1f9'
            '4bc124413a0bb689793a83c3d2a7b7a8036492a2558c27ea4cbad1f5b3ce7f9383cd4ef00b7f8a186776ab66ba9aa92e96dc572ef0fdcf84320935e30ed2851b'
            'a4e81b3a2a04fed24ff6e2416795a61495772a303e08c06333d04af6c90d3e94abe03fef018e0b88cc4a57cf672cc19969490acf9cd2bcc41c62446068c74d39'
            'd31057bd731c39ce110e3cda1aefb9797062f559c51222b0a25ef549ebb93f27f912f3efc73c7d4474eb2a9f35c7dd720c8c737c0a0016ed6c954d06f7ae1cd6'
            'ab6482479f33352e0014442362b5169359bdfcacdbc8ab1f879681eecaec1419e62acc43077509df40afe94fb1dd7ce5874a6c5d388dd700e27533b4e5b084dc'
            'b9f25eeb534a8781df367785351b274b8f77d1d2c6a03ca3ed53cc8c46dc25713e35aef0725c8f9e8378c768ea7686a34504d11be2b5a5fd1f191262123f51dd'
            '68c2c83ee868eefa66ee5073dc924d5cb6f88b1a27b2895e91b5559a7b58f7a66f7eae05c030093113f0ebb95b2d2a93516b214abf91aa352b080160b3b818fc'
            'e2b2527d721811322364761b5e911b7d4d86d0708e87fe8d644b67bde6180ca2a751c5748a53dc27b1b8db7d832a3cae60fef020144ef0f9e2a1f963767a7653'
            '4970ebab71aec416e24e387c773c2904adb0a1dee64f27532ea7463a15135818a5bf9934a1b0104555fc2aca20e6e7d4caeae0b1d713107bacf5eca9c90311fc'
            '71dc240af658a93bea4d7946b9783b40a9a020c6f3fdfdfd74b2d23f41e9a673fbadcb97af45b325a58896f1f53473deebec25b21ff1934ae84ec292d7e42842'
            'e057956d3a043aa4b4c921991bf3d63d2073149209cc128ca012aeb3da986b3b7b865c021c958182b3c34fbc70b7698a09ace3f1ed647cbc356a39498e4f9494'
            '419ca01968efd668b8b42fbf8d33570802320b0b1f0c02581b12eaf2ef05e80cc1fd8743b42ddf73315f234e5f27ed57bb3cd71bcd1753a70503213c6228d20f'
            'b06563e5c4b6fe9add4318211d9cc2f70d57cab5a5b228e2f7184dca1d2f44a91caaee7f61c7ec8f2582d362519d1581aff3d248c8e5169d789e420e6e6cb7c2'
            'fbf15477ae5085d2480d5c78803d54614e2b991711141718c6dcc370314dc8d9dd9eb566e5415603dfe48edf9aacd3888af16838e0591fedc4c1bfe398c93478'
            '12efe5b13a6771234d55f7b1422e8abc924ced957ac3b2abe736a05b26d9445cf0dba0a449cfc144ad24d63a08b750982134c3f771a56955749b6d22a4be8778'
            '56663a947fe32bccac7d429d24e50e72a5e0dcbd19ffe8332af277028fd5ac50424d74394b99bfb51657476c9758ac988ff603304f1e47ee9c51ef1872b14a44'
            '999d565173b2e1664fb003e4989da5de9e12c70613a7928f56d702384cc517010c3d00be9c908fa017a29203d6da4f4ae44a8540d2143838ee54ed29ee339d63'
            'e1ca48db084a3b1a69a6f7c4b77f1b948895fe32241af8252d633aec60b669cfc2091a210db8aafe757cb087ed77a2b4e3b293446362425d73f73f5e53cb95ee'
            'a1a805f627f131f1a6411d47e220a428e2f3725c94330f90f9ede905896f593b67569994ed26930a83f89acba333df1148bace4921803ec2ff8d4393515a4eaa'
            '73ffccc41db0154010bd908404fd8980d3c2aa22436c9f7365d8c0612aeda68861f4d4f9049d50f5ee7fa2627a409adfeed67c247bfd0c26672100bbb72e8e4d'
            '7410833507f2a18a7baed3b114d1e8fd084151f78d55150274c898c585871ae217a089f680b543af077132298e35f5ea37aee1714a3ca39a5b8c9cc5b094cfce'
            '54de3eca3ce542cc20d61e6767f38f67615e3df03b69e4f3bb9bf5433b097bb230ed9b11ce771a9cbb168ae4d57d9e24d3a96a3e4f4e480b404949c3df25db74'
            'df573009b96ebd673da3061971875c6ebd0f981ce0f78f974bd784ef22a12cbf0890d6709c06424021d7020463daa623c86e219a367f1f27c521ac08221f37f6'
            '8b807a6ff9772519471136ddebe005e85ce8094bf87bb59991782eb956c704dd929fc8279dd730cc6a4a6454e54ce7013698bbaa8b030eb82dcb889204676bf2'
            '24854174222872b3f4631eecfcfcf26402949b9eb483a5b7baa3c73e34f7ebb95e6082b2c6cea020a8fb079c5903b12a2a2c9703e581988c3860738e5a21694f')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
