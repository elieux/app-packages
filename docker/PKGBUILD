# Maintainer: David Macek <david.macek.0@gmail.com>

_realname=docker
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=19.03.1
pkgrel=1
pkgdesc="Pack, ship and run any application as a lightweight container"
url="https://www.docker.com/"
arch=('any')
license=('Apache')
makedepends=("app-innounp")
provides=("${pkgbase}")
options=(!strip)
source=("DockerToolbox.exe::https://github.com/docker/toolbox/releases/download/v${pkgver}/DockerToolbox-${pkgver}.exe")
sha512sums=('ae4935ab7c5227d7404aa1f92d57449e3dc5aed0b1eded81dbe5ed449ab0cd3acb6005d0610a0726d8b3bdd4f4bf6541fdfe837f3d8dffc2b8535239a51c0c21')

prepare() {
    /apps/innounp/innounp -x -q -m -a -y "DockerToolbox.exe" -d"DockerToolbox.dir"
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "DockerToolbox.dir/{app}"/* "${a}"
    rm -R "${a}"/{installers,kitematic} "${a}"/docker-{compose,machine}.exe "${a}/boot2docker.iso"
}
