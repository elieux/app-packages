# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=94.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('15051bf1886b22aceeda12f02e7aea8777812fb6791e75cb8aeaeab464227fbdce8aac9911ab778baa170bf9a0c110c05d555db56d5eb9e9399abaa9989f9b8d'
            'ec020c6d306e1a948924ebf4981f408870a7ddb3c4f234a28b8dc02e0c62f354411817ba3cc482f2c2f11a3a6e4a980453de05b348fbb9ba36c0cd0e09929e33'
            'f5f8e4d0767de05266e7bd708de617a5f0e62e395c4b3b8569504e59407613a47af0c83ff18f568fc70f8e533cc07163c1c9477cbec29b53dbdb98335ae573e3'
            '0e72c470664fb899b7149467dc09baf808ab598e5a196733dbf81015218130b5c6a4736ffb0629030a2f9cebfe6384de8ac370b3fc4da2ab8843bef63060675d'
            '60b4586507ec55a97b37699d1a8ac0cd83a2dbd902536fb515ac2af48249d2c88b45784a445f33d841778e8ac52c1d63e36c8ed8f9b1030ff8859597687126b0'
            'd3b254251cc2116765344b444c0c8a30d91bae14241a4160bfd7b271ef17cb3413ff0eae5fa59327c800973e8e92b3d52458cc4a1666fc726f75f9b40f183b8e'
            'c719aa86485138bdc440fefb2310af32ed8b5a829fb718e137ec3cc670857631f9efcf4ef647d16a9a29b4f11f04ef2c3d919e6d8ee567bfa327b0ce0d0e91e4'
            'a7db1120e5c0c304df64af6d9b7986eccf200dbd5d6c31c9053c87550668eb6410353c765ffa0eeecac7beb93c578588fe435496b5a43c7a396bf94a690d3b0a'
            '8ddf87b6c45ee8c31be1df9dac94c5673507a6e2a040dd1dbd412edd4a269b030a49fe7e4768d75078154d30a097b2eac01ed981a4fa4675411a259afde09580'
            'e6c19ee05eb5fbfa7fb5d755bb22997e1ff645a636424a03166e609ff0947276ca70166c48ac681aba9c7ee3e14aeebb406086f1969eaaa53cf074fa54caafcb'
            '102092ecf445616c6331f21c760feff7f2f1fdaddd8881cee06bb4e8eba5d96b784f134fb44ccfd3ac3b19904aa6bf5962254ece0ce03dc9f4ebb24376052664'
            'ca59825b983f9a5f9561cf150419240f967c1bafe184adadf12819da3c7e2a1941289ad5625ed222a308a11ba3dca818e9806a386dac7890b51f7cd917a894c3'
            '54c51aca43d74f7ee447dcd091895036ef81c22cbd54afbd22790085b53c8a7b0a238d3eb8849b4c5549d742cc7d3d7278ff40b0f480d2a93bfa85b7373ddd14'
            '8ba8850570206a89bccf8fe5a6d49ab6273547db2e62dc9841916fb8fa1c973def60031cf3bcb6890935b2e5fdc7d2bc489ea4d5ec05042a635fffc5325986fc'
            '9be5f51886a00ace70345ac69bb9ea6e58a58aa8c35de176bbd9b21d94c7b1f93702b7f38f92c78761463234b031515238d8820d04401319dbf91141d0c17629'
            '4ca3434e3e4b9869d01070d23fa2a4abfe40c92bf0917c14e7e49a92d02884a7f768e3008d37bdca9c0df6ae9333717f661356415c3501b9456dd2d35a0cacfc'
            'a777f48021b2f0b9ce36c88489999bfae5fc53fcec07d1e609678a84ecb9cc9259043d1c3837a92bcbc2cb27e25cec8b9da32af8e80ce920be7f9e0d455aa1d1'
            'fed02b6865402a2ad4fddaa6916da5948ed2b0e69e06211ed29f615970c5940676d64c6d78e80ab465f3377aa2b75198197178e83f09ae743e155af22147a4a9'
            'd51293f16402c73f2e233de57b38250cbbf7deae94ac6ae730586c0599d9c76a1257a3dfa8a54d1e18836647e66ef2a8a540b44b13de4814cbb1d6602655fef0'
            'fd9d171db4bc27bb38d7a6909b5fc6ea01ea106fb8ef6918a192fd24782bd97b1c77f81aff9e116cae4e6da8b4ff58cae419401933e97a90484a572c1b0bd339'
            '504fe04376d5782ca538b63945b4744f744b4929b2b81db8f0838d7f5ac8af811aa3d8c6ef18ae6f4929688472bc2d7e5bad3b71ba4e91d412ca59d4c99ac3ec'
            'b509c317e8c890aec87586c1ce90ebed7e14410bcf3266a57ea0a400e95a6487d52d55ede0d03816489ea90df05d9c802a2679b62ab1fc71f212ed00486ee4ec'
            'd2aaa2faf36aa8f61fa9a9d02d7c41170205089c9070b5bf13ac3f930d3e521e4cb8f6eed7a1dca15c0cd722b8bb7e76683d1d772f1bae25ae2a30ba9831e6f5'
            'be3d52df9b91aa84d450874f2bbea60d58dbedde0b64c1abcc692ae866c40ec1020e5fa4a8b1bc7648ba647300659418ea9fbb102e0c6b47dd298143534cdbcf'
            'cb69432c7ca6df7d81e61fa32b8a69d5337d169c9218605be96eba6463145e51b2e4078cbcb37450d59f8630b6139c0812d05a6c4ae27cbd1918f40f42f83ee2'
            'b1a3a27298396e05f6fe167ca769be5a3fda8253f81e0f395bbe6ba69649a2606d1851642fbe8aa45021912f7f3436630d39ebe21e41b263352001eeb5e99045'
            '13a1fb2f8d7f0c29009cca0f83ba474f2d0491a2fbc75c5f9608034493323d04b1910a4fccae7602aece17437c2aea51246df57cdbfa22114810e3a610fefcce'
            '8a968018cced56048dbbea3cb05823ea82e144701e71e537b7e923a2eec3690171fba8a2ecb76d75d4f4316d399205489fed6eb229dfbc0467417a455091e6ba'
            '04cfdc6b5b330926111b99ac191be07495dc2aa1d3825be6034e7069029a43b4bfbfc85fe037c3a2f68cd1fa743857adb7170e022050751f7fa7b2c19aea8a50'
            'c51912680984fa5f03fc4c1b7b097d3fcba6cca80ea5ae9663dfa19e79a16d5f881c30bd8a68758994e4a46e31835e6b061ebe7bac3d619163fe25e636ea091e'
            '1cff76c9782bc3a0fe2bfd909f16bc460d9814b1ad9b1dfda75d7d2ab9054182816e050f24f0ed2eff81b76a0b85f7793da8ea0383728d94db12367b190ed852'
            'de8ca0076795f1f7a2157a40a8830a814c42b4582eec71576e55291faefcbe0cc8109663eb0f5718df29cce216a42875aa592e09b7817863659041bbdcd0cc58'
            '6d461ad28576d2b68bf7e9cb6d07a36476aa8313a99f22ec2f0b2cbaa06a19711b633067d8e455a9a888baff2b3d81d92a5718c806dfaa1435f4cf0be78dba87'
            '227d347a11878045a8dc9769a5cc3a42e703f18ce55de5fe83affc1e42d140bf3653d46d8a58b66cc0cbb38d03d04d5ba7addc00baca52cb382bac682234a68c'
            '6b216502876f0c4a2249036657f9dd524630f800d6f56e222b9d9ce17dedd4c9fb3957bedc9c5ab9d72d75017fb568a906ba423d70ab828813bea29200d69db9'
            '3d74117bd5365c15f67f905846d1f4b497af2b4f00b8c933d81faba7496c08e23c0ebfd3f44e0dff961b3a24e55980f46da2448a9728939ec53a0943621ab745'
            '63f900ebc7bb2e5d37da544807f94379e2b84b059a5570f2296cc08fb490c64ff4f024d1be1159213379f92e33699cb27f35df88834492755a2024afa42c20dd'
            '0b69b62f04192e82b1a78ce36b3402cd20966c7c229fb5c5cc641cc616409374658bad0b64c2c67c738e8085b44c827d44b711f0ae13636167f299bd012c967f'
            '150f442e6f698e162a4f66bef67246bc20b75f13e9c7876aaca324852f8a356054f4497531b5a4b363933f842d97c31026cc72864ab8f6b0eb94010ae31d3619'
            '67159f16c4c5f613f53403610b4ee9d9157677a48a866bb019b2830ee10376671793afff5da06551c786966f9a2cb16608cbcb66b9b91c209d8e1f2b4afc39de'
            '32824093a11e4726c8ca0a80b61737275df096403a3756c12ec60776da73448624800f7725500a684f75af99b3c596dbf2a777261e3ee32c548d29ce6b03e17b'
            'aa8df7d8f38add33ca814ad2a2df09837b7820e8eed1f03c5cb3a39f214551522da2f84d0397f61ac5a1454a63acbdc862d11c201c3bf9f23d576d7a7f887dbc'
            'f400cf5f672e232775af0d07f324921f29b12a368cdaf80b6d68db7cda343cca69988a66835ee0c45bfe36cdc505d3714bf3ab901b2ce020f7eec7a4602ffccb'
            '35d566be8614be5e9264ee618d3128e3a26db7552f88784d08d9a7e9bade25cd16d2c7e0b7f1f37574bc105ff89d0ea4faf215c691906d5d6ede56800d29afea'
            '315ab12db114872919e1813d85d638b21e926f75deb7c5ab2ac76f5e77ada90b9ce68bfecb2d5963db52a1507398e9b8c8f3eb0bfc8e9ab85eadffc15719302a'
            '2fe86f270a290df8adb1f70f8835739fb62f8e25327692d5e35d080db2f03ec94d9c097f9502a4615de84c33a82279085024bbdc70a1ea41c6cf2bb69e090f8d'
            'aa23c25ecf7ba4e6fc490fe78af3a9ed383dcff0e2afeaf3ccaf093da00d2a4c6f04a1c55e62fd94bdeaa144ca804568dc82089b7512677f87a7847825cc6077'
            '192810aefd0a8527f9b6389de53d511b83ed01ca5bb674bbcfc3246a90c1a1d80dd826f528175b8253fdc47f090bdd5c4d5a7d16a28b648e822c1b3dcd068e8e'
            '8625c881487aba8ebf242f12a28cd127788c7f02bafd8a087c15cd5e30e9bb9c05bcd94fdc27436d7949d9b5fa006804e9588f037f18a47c28702da13a474b16'
            '96b67b975d0e67840ac1e4c2bb5465e36af0473819993f0abbb458d5d7261d4ac05cf902670326a70b541f353562259e6309a780765cfe138de6e27feae8e43f'
            '1ed85ab4692e1e125815c3af771c6172854bd2c56f2ed2ac85ac4173b18a0d0a884475d0546e8f0fa8bf639c5b8a6218dcd30829e90c9ecf8ebbaebb1ee57d40'
            '4cbd33c2a53bfbb6517eea5c58bfe1599ebff52db4395398dbecb6bd369925d4bec6e9f1a5cc07199d6b5154df96b29514ee04d9e2da015395380cb13442ac32'
            'efa08fb14fc31ace656b7a7bf81e6c8cb8ed1900ff927f30655d28243f3c982e1333bfd39ed11171c680c32f14729323b52bb4fd3b0b4c139fa18ebd32fa7613'
            'b0862bb0521fdc6ae2f01fefcad830dc544fcabdb0ae8601c5ba6bcceff466babe69fa2e79b5e459fa21ca3bd5ecc2bcff5369dfb7f83f597c787f96be876d0c'
            '2ce2467e43e62f1a312bed7f09dc561a5f23b76171915f47d964e470f914f391b15fb93948e0450849fe83f3497fc0544dd80364249bbec71e99ce7865a8989c'
            '3de801e2dae88e9c9d7a0feba5197333d2f8ef664100597744eddaef7d62ce975d975fecc27a763140643eef1ae5059eb4ae3d6b440a7e43d697ae220f85506c'
            'bca36cb7bcfc64b08e8e8230a948aef698a523eb3613bd38ca9e9f4917ead6ad15709994e5015015712208403e03b6469f89bbf02b9f382fd121d2a933596ad2'
            'ac1a43e5af677e95506122105ecbc38fd5c583e576a764f37b1db91e5100298d377e997fcbd71c502cd49aa62c0563934f7d1b9d07601f99a6cfd98d8f7b0b11'
            '722a9f800d955a9f38dbf876d219b2f0b83c90511502be723ae28cc1a4884a49786c7b2c0c672ee6b271b76e796bae4d6b2c12b5d8e0334be2cabd037279200c'
            'c08f442ca54213669b641fdb5b9f2379afc5caf8020fc6f78550e2c27fd8ac9e3fc80673fe2f3ac93b175e8aab591ca08bbc9dc53612b59749807a890feaff0d'
            '2aa638651be14b78d2c65945708473cd34996465b6f1800d250f42b7e6f2d43ee13046902327f8620298f6bdfa9814def88faddb75deb3c0e45c93ebc697601d'
            '210c16a4664638c7e381c795361413dfd91a19c36ec59cf07d4edf71d0ce0433d43b2c31e9348d45b220309a0b2d5a4067750cba669a7a8a58f4007b6a83f013'
            'b84e19de492c187b4b152f0498248cce68e7cfd63bc9a284659156a24927f7719b2e85ddf1fc3218d7030141093e73c1d082eff6a57385428cff4351e8b5aa2c'
            '93d0d0ab0cc7d0d26a7cf0b31d9f163ea43b534ecb649b92f5ce6de74c0bd12c157466b8f3246d4e1c09ba5d98f9218366128f58d279e3450a69f5e54639222a'
            '63883498a51f5678e6d347fae82bf00ee340bb2c1b45869d1dc7ab1f4b61ade479e63cdcbd3d09f9ef332ab253374c77743a3b4d2e5be2f8e9404f20ef260ad9'
            '7dfd8390165d2e509e1affbdd25566d20a8e944f6a54fb8a1f48423c33708b85925e48c885a9890ff1855f7aeb82c765e588089c5ffaefe9a9ed17766bdf0a83'
            'ef9f9bf8995d7f6183d97a7f639c4a5abab9c299223f31d6f82ef3f745df51934fcdab352e6b97fbf43b7000e630a3c6f2b30a533d893e84924f8e5fc680020c'
            '301d4ce7a5ccda8ef5479266782b5948b5c0ab1b37a5f037eb09d6eda4065ab60523cc1f504446c0d5b37ea7c28ba6efa8be3439da8090bccc40a500f1642a31'
            'ddaf7a087d023a5e5bd2732f2d47ba022ea141dc48245762ea85374aee5f32234f54be2e95b7d8c9de860320fc4eef9df77bd2b17caf5a74e3e32af0250e6cb2'
            '5400ed47a38fd5796e36376426f4ffb8b06e9926a3f78b8d36bd2ab549aaea89b441b586453d366d3d403e38f2b408cfce2c35f50585104fc8c2878b1a90bee7'
            'a84a38b34d2a51c108290f422eb43b47d3939d7417070b92b907599e5c7d6dfe1427004c843857047df8cba1ef9cf47faec8e549daded7d0d9a3beefd0938aa8'
            '4d80368133d654733fda11b9f63a27df9a30b2b2e57b9cb67b21be18b6927b420e014913f56f16c64d4ea183f3db9da17ae5caa83ec5641fba65e163aa69a4ef'
            'f710bdb17ded7aee9e6da4f1f4a9b363f95c7666b9e79ebf1f405877582bc87f57032d4e0d92b1477d9cc0912f762244de797ebfef04c80d1a0b23c9a91b8819'
            '84f59904beddbb13ad02b7520f6b61d4b36e8dec52c62ec905d12cb96b36ad5da3572b0160eb5d2ee3461f9ecd1fc9d924c80692c0d18b08b055c4ac5a80d0bd'
            '64fc17c5a788e4273a6eb0d09d20a1be71944857e4791dfef7bffee9b8a63d3ff0364ad6f6c23c3357e299db36947fba584f076adf15c387dfd3e612ea9a9c97'
            '5662a7ba11cf1d6648550d7d6fa2ab30bff9b0262372356394c2e014cfb442968cbf679b9debdd45939a2a549b99be08bddd80011aa4db9ab914ea7b09824de4'
            'd886a5815b686a95e37a35408af6694dc9566c13731424517e9b78033f1ea8d818b31edb406872e467b09160f430c3c1c42f96a634ff23d05434d26c35adc053'
            '1cbea6de062b8307602a4ab1867ff4ecf4676da5487f069b7750548b3a3093d9da3b43c1b8e265f5e62f4ce87bcadaf39af7cc10a46b1319b48cfc4d97511a77'
            'adb1c1ea6c103fb130b8ea2bfa47fcc80a90ebb0c55ce024800dfa9c7cd52d12729293188598148590eddc26f4c993721482b0a8e1f80c421f649cfe77138323'
            '60b6dc0bfd9c84ca47918b5da5d4d01c3fc3934aea36202a3436efc0bfb432a7ad39b5da582bdb9db79c2db8c437a0213cce5075ce52ace135285d3b4a52036e'
            'a1906178bf30c1b95c684a9fc6f20fa698f46b71e9ce41b42d442f7a892051821a8782081de25771b33fc97a3003c2ee646e452beef15a30fee9e39819ac983a'
            '1576da7385def23b5bfa5f79ba577ed76075554eee35bac6e2803a63568bce79f5974b16ac5444927cde8fd94254d607255d6857de5eed218d51a170a78b6a5d'
            '2313bd6a14a6a97a64716f43c239419bf6d03359fc691dd64be2cbba3f8b93968ba48742657b06cbc792787df74821dde035620c0df5569ea86cd034c5cc2b88'
            'd179f74587705bdada49fcef9296b66df7f3f3cd7366aef77c314401765e65781412f7af006f815fcc0151ff87edb5262023035873e9c471fe4435cb0498af8b'
            'f0123ec3a0504ae87a4ee312e599f98c24de686cbe2742e379b3cd4aba9303e8b7e84f07fa85d345431737e4a38bdc0db6637c15511908ea1d56885f3c858cf3'
            'dd0dbf93dd64f6eac19c4ba46bb71bec8e8ccbb4631c1efcf9f306c36326c04c88e3a63a687481394b6ddd62d9d7a08d764d7c250b3a39dfd71cd5f250c0902d'
            '584784ee4da4407fa868e7348ebd073d70c6695e4c2ce61cf3a2bb15d6997e127ede25f7aed9db6b3134636ce67efbc4248103484a70846451511b0249097a8b'
            'dc43b3adc63b5f00e55049de01bafd83a5b0bb653ea78fd243e4abc6177d2d9cef33db442e6e130205adab500578b78e6c21244adeecf3a8ac51643ebcc37eb8'
            '21bc17c9b3e400f60c441c1001a4426b4fa23dc1fa7bf7ccc6bf1c2517263853e29ade67bd74e91aff31d80236209a20013178ff3cf24a8635f588c674ca77d8'
            '200b5a1fc32677dc919ede7fd287fb0ed225303e77a997d05be28f0266f4fc2c4833537b389bf6d2441bb223d69a78395dfe43d0cf88619867f7cc7bcbfe59ca'
            '2aa55b25a5940a9950a6dea32204d18871e2d9564eca77c5bda1ad3455dcc79aba9425fa40bb00bf661e632d5ff06c43c5e0529109e8efe436c7f5183809b9a4'
            '970138125e8dec4195e6841d75e0ff1d09e11bf45d1599c13986fc31723c40ce8cbf9f245412d2d344dd0fd236506169a1fc42648c8b7a02eba3a00d25230ee0'
            'e7c9a2d71d405a8eda6d42e5953dd1d3f8ee7eed18183a350ca7f69c1abcfd6c27753e4bb73f8daabab2db96b75c08466de0edf470d1c37c4e21c306b1c1c01f'
            '47f839cc20daf86f21e279d29e937fcf0b374ee85ce4be7bc848453c32342bd1e089bc27bb9ea0f6abaace25f0e589681c4d657e92f99c45dd4aeaafc64108dc'
            '9239047d441655b1e0884da8a16d5aea415ffe2600e7ece7661850c61328439f04f738431e52a7f853842b7808eaeabb63033cdaca2997e1d34c9bcd52b2ee2b'
            'df2511ca3e0a562f5d9a7ad29df08e47372aaf63f7bf11d850e8c5eff18f9534fc112007b1da71e0493262404c3865ed1bf40d004ed78d9e001bd5cb5a4cc210'
            'e286288b09c60f6d0f2ec166cd64149441891ae8332e15f22d571b78d2b92f7d01aeb06de93f5072f8198151378298636216114ae23948bb0fb9d560d4eba73a'
            '5d67af7ebfb197a112e40985eb9fc49f98885137314c40eed8e7fc136b5d7e97b5a3afc81bc33a5a8eaf1d27cc9a31a32a1eade2d8672abd3765bcc86fce2c23'
            'ddfb47be87c55d1707c890004c066f57dd4adedb5b0ca8675854f9c18491d3f765cf1a5264253639c256ec1306329b7e63e15de07aa4559ecf9c680e297ba8cf')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
