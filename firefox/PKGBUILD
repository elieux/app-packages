# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=96.0.3
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('205177ee8f0e755da761ababd4761151c54e83db1d04acffa56eb4b6617075ae26ed0bb2728fec1696935dfda295a9dd5f21c7294a4c36e092a75760940abe14'
            '887f910a26ccf94be836b8f031b21a275b4791d64c33e6a0c0a7786a2961a336ec9bb0d3590003fc9c394e78a1fcfb0d048a4954b39bbc5ac08e04fbe53c501d'
            'bafeca49c39c01eb385bcbf7c5d439ba187f56ca9c6f6d5459e807533d638737af8d3a88e22c41794099b157b54cc56d03fd9fb378897dfdf9a919c7526035de'
            'fdaf104f5c4cd52cf37fd57c64d2014bdd26047e034e6c8307b1d1d56c376816bf7ecd2cabd5493d12713b926d44d6636a5669d180928781aab193e9313ef1dd'
            '034d7ec5ff281d70c45dd781e39a1bbfc4e64c027a13bcb45db014b5c1e0a72e6575fc167402da44de421d90b14a89b0c8debc8852fb4ebead101a3d94cfe1bb'
            '1d29d7ef672688e3504b348337843950f30e4f9dfac1977f9d85dd2e96c191453d1188204f86e5958921fbba77c7252ef8faf73237910e36155e1161e62548a8'
            '47998a79d83ddcb26bb69d7011c69642c255c2aa3b37bde0e6a89191d721df4be7670ef51fc23d6a87fdba99891e3811a952ba1ee97154783e0d2b2918530d68'
            '4fadaeb094374878e3d17e37f147449488635d563420eca48a72977ae14a7e076b30b24754edda50bb8e67ad8e127d197c5791053fdf49f027ad6efff8fd1983'
            '40bdc69ddc6eb021c17b59061de526b420a0f56fd775f43753c553b586b95baec9fbafe374a19fa4901abda36fd4ecf685f2e4a2d44363f8f24f0d7dbfeb9959'
            '18887a2985fd4cfc922d61c1f1cfd2e55cc773a92f4cd4ad5963de47c0acaab28724b3ef791ab0ce2ee91065fbc02d5f2511f1c6236b4c377bedfb900551c845'
            'f801f81598d412e82a38624069bf0987f9427b9efb4447d129fafad29f1d336e74ec04094857dbf9e1ca2f16f3e9b00f312880e3e0df766de69ec1007580fa2a'
            'fd7d66eafb9476a9b8c7284af40bb3d3959b7f44b66ddada60650e791c635e845d752ce0a54be24a5b10d0894971088751afecbfc8b207c8db83d0d9ef60d92e'
            '9d13c632a56e07c7712374f02444fc7434f84a8e61e342f49846103a3beca2b332f334993f55b37eeaff97a29b5d380167267acbf746e36397a8e7b584df41ab'
            '7eebd71f4173ddc610dc1ee653e60cc8a0276ddd0630176c8022d40b025eae6308e2c10880ebd2187afbef8d9dc00ee7c76d9be9e35813b0c6df5b5bf13bccfe'
            'f4045d27a92d2d45e12208bfa59e77783bd653e3b33f984c36b2c89be5a1db445163b3b39e25a11d265cd63f2f92ebc1a6795466f9c5bac1f5a5f4f8e90e4c81'
            '65deec54dd2e278aefefc540321c75eacb4dff616bf5679dbce309c25b7db977a1f01cd096f222b5390f7cb13d77ed34d4dcc4c88a83e231a5be68b028fe0f9a'
            'fcf0a7c2f0750e3712f148ce346503c01d368440802205b3eb477597077e869acca36d3a7c93809b40f7c6f311f06731e756633c96b5fc0def2b78156c9dc7f7'
            '184361a056e443ef85882cc13d26a952395848fb0b2c197b76b402d46e890c19c232d2015a4ecb4059da3d7aa44a122d4c79f70dab19c091d02dd0f3f04e0e25'
            'd216c6ab9fc4767ca4675760b6405472c629ebf601d2bad7c6885315a7d842ac70d59f462a8f850e105aff5b1bb8b0e6b6bd4f326fbd0b04819faee65dae1614'
            '1fdd9f15fbd684d2d7e04a02840c85dc6d82887f0bd75fa09d570b8cc534e4f8acb57bc4598e91ca0e649d2f3f0dc4249009803b6d2e752b9650d3b0ef1a1f37'
            'e1b92e1eba6dd57bfb51f596d9483deb9cc64c873ccd13e4325ae8592033089c36e9ef0cb81b0914755a695c065009e20edc927311c45d4599f4d170fcc32b69'
            'c58497cf0e58c4f06c139b84268efd539209e2a5818b307094fcd26567c48d7f335f4a85fc3066dd8efab33fd8641d6833772bce35a92008c1e47811ac6a0323'
            'a155c20c644ec78fffb2fc01ba3cdf08fc3dd371f8b835c4e09281b48d2950f253344e097275663f2ebd44b27a2065b9a3d20a0ac425bb09188d80906e30cb57'
            '5c88c60e0419352756c35a458b46e95f11b87e055186325fad9d481c4318b5bde54630e66ebeed9ee8138eb64225424c809b288f43d4452243b0f2bb5b0ff6d7'
            '8fa9c7216df39ec8462370ded4fb2aa6d1e873ba0c226213f77b97b00e9fc325b6cb3b39e809ae35e8996a0ace88f7e107f9e2a6ee4a540410ae89ebafec1717'
            'df74d75c228608e77453db2d63ced8e557d871b94c7deb2e30d7aed2bfc96e35ebd527fdbe00f479437f9c276551e6b8054135a3a271cbfce9461793279d3200'
            '0831c3de5a0a091757d9a71f57d9df12cd2c6e3cad0cf12286f739feb7613445b8a7b1a1fff532b9229796428724816f7212055f2259a1acdb2d6ff6eb4ef5ad'
            '6453d10cf5372d70d455336a5351c6f2aaa91692a5bc6bef39b0957814e9bc3e0fc9cefe8900933b612a62299825c2b08a3afc13b8a4bbfd5039984d5f5f4c68'
            '6858007e6a16276cc51db89b38b7ececc8329d670542f8f32788c0306820b4da619fd92c29edec4e713ceae0bc1f18877f995a515f9e700c57ae3c89b8e35353'
            'f8d074e189c811c5b815fe463b26c451e9efa0ceb92acd3b66851e542637b828eed9481cf5463c66bf2264116ae6465b77be95d410fc5b310235c440cedb54bf'
            'bee1ea778856b29e848f4f60e0a36d3a3f5fed34ade7cfadac68e061d939636d045bef88d19ce2e7ee084077aaa8ad5100fd4fcccc8c0736c997d5a61bc520c0'
            '5738de832059a80659246a1471026c12a6ca394ccee7ad946bdba109b42b712818caeaa6cec87bcaa9b617d65ac2f731a8b190daa5ae250c16b059996588e66c'
            'fc512f4abdea781df5d12cb5c396d1792247eed75612d10e18ded056b869b9bc67c7bb5101bf8a436a3eabff192b0e9b0673ffcdf08dbe692bd5246c6aed9723'
            '963531a908eaa703392b2ae22c68e91b46e27cee8d52f9de669e9cdc9fbfa53748f5baf02a0ace9dc2e1a58ecf7fd3b75ab10e259276776bb57ef1297101d3a3'
            'e5b6fbad1f3bafd2e0152dbd6c7e0c959d47a03cba38ea121240a0c81276cbefbf557699159c2b544f36782a726a014c282b3982f91b3970a4da17df12b1a2fc'
            'f61af838429a4472f2152d8d205a61544b853c2167a5528baf77372aaf7d18a543804299ca875c6ba7e27cd1d7a3ea6a47a65c6fbb1d80ecbefecbd0dae2e038'
            '9b1e0fcbefc35f0a7b3ff5290c32704496bcaf0522c0f7dfc484653331e9bde1d4c5d4a13c0c360ab63188c1d449745077cf9fabf458b2c98d5d4812ed7fd5c6'
            '6e1f599dc876f7fbde684a7bf8d44d10fc1301cdec8f3f7edfcefdc13f30c353e4df9c86ca95a13d77a51e7e96d5e66dad1b8411f7d3b341a5c72d7ffee53009'
            '619b61fcde71dda6502ff942d4d39a2d5f1782e83aff191aaea4a5ae2fd2b8f5c7be6401fd804ab39122e384f352da578ad4b58a811a7057a412d3e4bca4873e'
            '364fbfe03c5bc5595555bdd1e165b3c29ac073cb4981cc69f6a539c45d4d013750c34c1f30905f7fcef19b512cbab5a88d99d3c6a82ea7191273eb6788bcf72a'
            '41748fec4dd7e95198fd6e2015f7065e5bd46dec8b72657ee0cfe7572936a3b2a966047753914e373b83bd8495d0013e6272bae956116f803d36b640201a8a4b'
            'f14be4d28e8298d0e6db24b9f122b453d9e2069eaedb19340b782660f2b8643f911f63e2ae759047410c9755db1870e4535c790edfa0c51f849476cb296ebd1e'
            '276c03545cf560f5a04eec51d3954720c66b75b59a1ae42fe5ffbe336f3a110c0b8b76731572834cb32eba581a4445519912c74aeaa491307ce838a07bec892b'
            '158e3f34f7581c7f0b50da8aa0225376410ec001abc2a863feafb4f64dba5e083495aa6ae1a38f750e2171f6524d8dda21464c41feeabb65dc5c14120a1a4f94'
            '24e14d85f0519dffd5e918f7b160d5ca65ec475f34706c2300993e93a8d0731470afc66bb0e95738b05fc2f269be562ef006b21d285e794a576d27ee9ebde52e'
            '66696b692d176a41e9986c2fe6ea9f596bc3340bfdb5f2902616dd99290353bd4fd8107d8a4d61384c0fb23ace56e132adadd51c5ad455b37a0958e355d915a0'
            'b0ffe981866b6d0222e7713954c6b320fcf390b7ca3b9ac3240dfad8657be20c47f10389c20c7417ca52478f89f2429322bb3c6c65a8380a1730cf84fdfac03a'
            'bb7504aca7deec0981eeed4c4fa64f532e332f61559f867fb321aaaef7bd8764c13febecf883e1eb66caf5a652aecbc30ef7770f9c4c162683327068cf551b00'
            '3f8e5e46d6cbd5f2f300c0c0c384b2c40fca35ad567f37f6cd9cd0d187f1c4bffa29578a68dc73e40f343a8fde1d33ba1f2544b63a1273253d5a02c6747cb2f2'
            'a851108902525538ff5fd50eb0664a75326bbbd96b32fc01574dc51d1fea603a950d91b2ad27f8fd766a633be7d7561767ab5980a2618e5a52e6d41f06c3cf17'
            'a81e93e420e09a05ca574033816c29ae0b7497c0fb29527f3476d3895fdb727e093966329aa3868f3ebaebbd111057381222e6ccaa0d16c4bf8bb8efb4f88183'
            '21e23c30b3fd2f387935cefcf90971f9f34f630a16271ad29de8d88195e111638b6054f00281299435b3c13fa33473f84c844b6bd30e06c12a26b3aa62ea1118'
            'f8f78b1085bcbd0feb73d88c272f8dc71e2d44dc04b601e9f3fe1fc2d1ae4a0c13e1dedb9256879e0f0aaef93afa6c4964fa6bb88d87a037b67c78f2fa037dd6'
            '6a124b07dca670e2f7d6a6735f0055766856d2e3173e33d3a4864c00600a15c69d788badd6c0882aa2ac353377c9b64338c4a79e24daa12b577456a12e88ed48'
            '78ea1148d25d9fc44313d5a311d41a54a01e53ee12ef8cc03a72f20f6d512e28927d938c216d2fd23b6751803050f5f6e9f6f2e56c9f2583d11dea9f78878d2c'
            'da515674c9b4f2bd5c01d1e489b6c411ff4db2fcd890310182aa2ac0f512c3aac56a934ea2b962baf9cd3ea25542bf4c7a1757918d14a5d78557d0cb0e9a426d'
            '5b39e596d72c2588a767e79386d17b490e6966f3c9163d73679ea5bc4ca963274d142ab484945671eb53c4ce451cf0e2415448136a2a7a36092a41475bc59c5c'
            '28e9435ef963c9effdc9506cdf5c21b41e68c3d432eb28cbbeb5f0e2f11da32b5a2b28d1cbc4be54df37929821c914315508c5d87452e9dd510bcb44a700aef1'
            '9822c1b9efbe71d16224cd5029c9c7f66e3eebe35bd05e400efe829180dcb23d880efc7a5d7e504f4938682af513ca0e6c5c9af28f8549f265c1ea68b4be9204'
            '9ad258f43f6c4e3c455ebdce5f4432ba1656b915c06882ecf9ff9e81955cbd880df8a049a9c08d2f321a2870f8a9b445e5f0b23f7b9099acca7e230d821aea1c'
            '03130fbe7efa0ddd1231034e8c69578c26aa2fc853a0e5623ebc19eb2610474752c560e0a1f9894eed30550322a8159e975110ba2970837ce6d23765cdfbaaf0'
            'b74a96f496be8fda40376a609396b7700e452d203433e8c9a49b7914065303a87e31687f4b4a166def361c15752a60c2a7406ec9e48760e2c5cc0295a2d388d0'
            'dfd21f0ed788e9057892f5048cbe6fa45e5cc17159ba8e507324a22266b45b31ed74e9b7ad75e4b8099c2ce21db1fa315c921b45f217ab09af5ad03606893715'
            '53a81b0123fac860ecc29cdeeb5c48fc24e7f3cc885092aafdf0c2ba21c297c05335fe46ebd73f77682cab3e4624cca12fa30f3cee84bba85c3fe680986d7819'
            '5fb444b09c49b6937f6918e6ec17bf4b1540c311714aba23acc71f8af99e661635b9cbe64b62ee76ef40dc9ce8faa9dc2e3e7489cd414ad38cb6eabde3980abe'
            'f9b6a8e14b8ef4b67fcb59d079f13ddf4e413ee15992348e5ba62c45ab1d2ffe69b51acf3fcc0d2f69657c6d40a6d77da31ab7958b5093ad442eab2b6c260c74'
            '5a0f9222e107709ceef8f544f72a77134d8ca4b165c7d23aa6f33284b50ad00016d917b5e18370447f7163c6155183950281cb79b7f7a5a283d1d7bce7e94fd9'
            'a24d587442101bafde5ebbbc9099a4cc741838dbff80c920bab5e6ea86ce577b1193e13602533700d7ea92fbcce4d3cfc0b1d92f5875a5d58c8da34267b17470'
            'ff7d62fbfe68a8830ea39d2c7c4d3d7e3f608bdde91010d2a75c8f7554cf5d455e969160869e1c6e091610f8aeb034f0444d51d33edafeb75cd5cfa6b6db7209'
            'e6fca73ba73022d7d99b65d047515ed00f0dbae8c9afbdd0f0d629ebf505da751f764c4f162fa11640d7bf8a713588f1915d9277a95d0eb337fa53fb3b41afad'
            '9e7581fb25d2278a4286d113cde0fd0beeac236739344481f7892ff8a5beccfa75387a2762c1c57a7f042c6d73aef493732cb7f9a0e9a1db3cfb7474bdd6be7f'
            '438c9b5eb0a52323815aa09451a5d932682146cc85af7c2b6e467a574c2fc207a53b78a21769ceac0aca20ccb807d2968122c72453c5462917a076266ee02b6f'
            '1f91d5cba0786ddbed4ed4dc2b2d955bb5029cd9b80789ed72f4a633fe79b54159894c7b13b0738b3bdb920a08417b6a3050cfe127e8af5d7e17103686385463'
            '110ce3bee8586417718b8174697f3115c30943066c4c4a068f04641e48bd8922d8193f6627b86ece749ef8d8b7fd9c9564a23e6f7e2ea1896c922e9c3f2a3996'
            'f3d13b934627fc62b76e91de2793581ff1d1c131df27bcfa4b65b275bf5de9dbe29a0d716c647302f93d55adba7f567a3b60def99cfbe4ac5db2f488d1bdf22d'
            '479676b46ffb091fced87be684439e038cd2d3c558cb1b4a0a02f8cb63ca44f509f31167fe0f44b403cd69bb369701a1c411b17f41a1115aa687d07455d793b3'
            '7f9e9ee29d86ff4f5a166ed5c55e42ea437a1e5f2a600399a6f033ace62e8fd2cf8860af654f0c9a747f9367f07d78ae1af6a2cb4a9f5d91f3c588419fc81e16'
            '1022dd16bdcf852c5df1fff7d4893f02858ba0771aa111cfe08cfe2690ad415d093d451878163808cc835ff4c44f302c341dc27929a0bfe640870e1dffa2bab2'
            'c3938b7ba6ebd79f026fe278484c0caa6bdca3308cd63542944c9cb774896cc5daeed3add59800433040d6060ed5d4f5a1f068a2af51054fbe6689ed72300d85'
            '2583fa4b68386a7e291e63824f50f1a4aefe2753927e18c702f703c12ecb050b7fdf3ae6506359e5f4221545815de17be518728c5c49df8c116efaebe241ff2d'
            '1143336f79136a07f46850596e7b7b4f107ef5b0879b41aaf10054a8c85863ef0349dced924f0ab5e3a168a605dd3bc3313878b341f2d8f539ab82a2a86210e6'
            '6fcc4e2509c4a1fe6f3f6b4576c5eccae220f627f8825245744030c3137d93e5b6df8db81279116cd4956f776790a1e5d942495311b5e021a7bcbf98ba706eca'
            'f5b64beebdd562517e48cd5a6432b7b33f9881259b801bac62b206e57653f68f030ad6c8020ca65450a97e551d833115d524e0df0648c5eeb4c6542ea5ad4413'
            'a1a1ee296f0d5c98f50734eee7bd7d4d3dd9ffdbcc708652e47c2fffcd3340a5254a15886986cd5d3aee791ccc56e8ad2bad34dee550d9197948e2bee89f8a88'
            'ffb9e81b47926fac04b3882bdd950f0e0fa6f9cf2fe12e5edcbe4bc962465c98d268b0862d6d2dd53ad669fedc4dd522671b631b8084cb2bf65762ddc91a1675'
            '81cff1979ff81982a638646829ea4e42d30a0a9ae20d061df184293961da1de3f817350a7aeb48b8f8ac3342978ae26555aebedaf313a1cef89ea9ed90341b8f'
            '4f20c73c403a0907c45d7333318dc1b8daba14d1f9a2460ace85215f9dc743d73d11c500bfbf84ddba919659e39fe472529e986c63bd04b1601e07a2aab87b1b'
            'c00b1c5e5d0bdb432484f0226e331214b1435ac48cc0711977f47afea493288003d90e4ca66d683d80b85073abd084e8d0defe20f424240e3fcc03952fbb9b23'
            'e3337a19ac21fe678d22731cc180ceb890075ac8f28a3d3c4e85f3f9543a1259978e55c405d19c3337cceb84179be3dc008b6ba55337d62d60e3ea4f993e0568'
            'c90b3847f3ee30692968e6c900b7a7a1e892bc6aa87649997f1716ef87e00df30b50e3d019e6586fd93f384b6543e21c26eb1e4f42c16e27dc40b58defcd29ac'
            '1e54dbf80c3e03e5adc76671fb577faf63ce77425c1d5afcfbb4e4a6567b963f819c15e4eb285ba78952c6a67a66be1865d90239e7506eaeb6c4185737ead606'
            '93deb2ed5fed2a891698ec361f510c0ce27e60873f1336d559c4939166455bf33c20ec0ef05f8bdbe63cb98b9205ff22c05089762ecbbf762ad325d5f1fd5fee'
            '7ec0292c46a508c27f7674edb2b6609520786230e75530100b804e99ce052085041d8af9c2f76bac960647284f39abf8a54a72b70dbc53fb3c96109d261804a4'
            'fd5de6cbe0f73cedd713fff4ca8d268bbdc2ec608243a4fc4e1a9cf6e4d519193d7a466610f45068af8200678493d61b9dd45a3d049c617483789e2ca34c53c0'
            '50f9a36559f2946169eb4f1290b2ee93dbfc3d7c861c2018e16bd604e5e0f8afdf5c2961a7a8525a2b0eb823c53f5d87b79b04f6bf4dfd652ad808d1a32662ba'
            '920fd05d5805ff80a2f608ab92b725c94fe07a5e5c9e8e7d80f70c6a077edfecb82bc96d8774a1371a743e70ebbacd3faecbd08fb2cdf522669a93748d3f5f8f'
            '08f17552f53675627c432bb90b0a0cf1c93dd1884df097990219e3ee4283a973760e238b101584eb8e500518ef610090d5b0684540f47a27fe3598fbb4e8a6fd'
            'ffdba2148ddda29ce31a5bc550cb1a520de5e3b4be21a324d28ae5259175dc034293380b84bb1cc89a6b3dc2aa866aeed916f1785029bb861ed538225721b43f'
            'aaa2b1cfec87e2fc6450b427ebbe4474320acd6a54b16a15a9d8118528f7856155e01acca884afedf75b9b98e13fab81f10c2fb85d9f899f417f5cfdcc02acc2')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
