# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=112.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('ee284821bf186099c3d60abb6214725c2567b4ca6ae55b4660af13db90d58e427636e7b6ff4532de11bc0c3fdb4e8d755685f6d4543a9da538b7432d2bc2885f'
            'daa42f8be4e36ba86b6ffc2c88bdf334de102c1c793a97c17d0bac9421c4ebec87677d7855d1cd31efbfefc7b1e3a5228f02e4a86e6dcf5354b77825ea28354e'
            'df113c2287eeaafd4e5206a7384502b9ca2c7a6025e4a20b791ba938c7744eac93bdd7d1061aa4ac4050ef66ab6c87a37af1a0ba9fb49c1c5950d13a0a571aab'
            'f919b5433e1ef980b92b506d709f82731595537d18aff1c24fea2200e959633285bff17493a7848f84d69306b902ccb5861f19ffffdbf312dc072d42d3615ac3'
            '55c981cf00c6679685de4e157032bf4d321adc7b161b5232618caeada43185791cc5ee0b6c11d11334a38d1e958601d4f9dc314e75eaf73ceaa2eb24badd1d5d'
            '59a2092b5a35438268b5a3a60044e3d50260dcfb3a6f15ad88eee6b6cf0312fd5dde5260908930fbb3f19bedf05292847fb1e00ee919cedeb28e9c759890f585'
            '6469be57a8e2c9d7d1deda148665c395dd52b2899a0ae86179279a991321b58314b70facbf562e3da7cf112b2f562a60a2381dcbb55d40cce60d8b97dfa7681a'
            '3f91e305d043ac3877f399ceaaf44336bd53cfd0f1a0d3077ab1243a6fad766f0631678c09dbd304047696fb62e54e4766e9e8cc88b5045611bfff8cb26e94ca'
            '2b7b8d1d3c4876b9cc34458c96b60c958914be266f16580ae153370618fac3341b7a1cca6bd70afe71520b2174fbf9a2934e11881c77df5a34df15a50237ddb3'
            'd96c9b114b2ec3b4344f09a2929ba5677cefc092d81e27d39fe213fadd1d3af8ad299ff2887364e09b49c2bbd80dfb24a309d92aa5f023846f9259cb9f19fe8b'
            'e94ea6f82ceba1f37f99e76c7929aa3e7a025412fa5183857fe0922f75ea0fa328cde66f91528c4ec1acbd5cc98bf3e0ab4a1be468d7ed90fb8e66f6654dd7e9'
            '2e2c10bd32efecf273b97032243a4ce1d9d87f58ac64a44af525630950ccc426eac35019538ba98061d5ce47f4a0f176b6a074aba1a3ef3a45f13449a353e6cf'
            'db1771da8a5d325fdd6edc632dd562db70712f1c13159b9c1a23d07f0679e2129fc41c4df9b263951e2e564ad8d0cdbf2183dbda40486295a8a45821a820f1f0'
            'b566fa819820ed70da0cba9be17c3e4392dbd1df8b586a452f98eb02ef0c6d429b0297ed066d806f959d506b4c3c7e49e8526fe56a9114f3db3f3af55db1df44'
            '288fe25f870b96d8fc9c53441b3b7460d73e6ee4bd296406161843a45c4588d204b352b80ae2f0fd6fe9f95927f0cbf437cb844f56d8923cda8ccd349559067d'
            '1e6d9ec919b1233efeedc940f07188a5e7b4ab1ad6a4cce0fd7fbe6fdf0ff9790259fc3509fa4758d4fa8035a24861c4e2ea0630d05c579ce586ffb56c0cd1de'
            'fd8dd2da398fe175fc773e5fd8a9ba9ee7816ba52d4cc68fffd2295ab6e2559ada12c48196315edecb2228c3d610dc3b0482c595ff3c995af4e9510d054f549d'
            '773167c0153f9cd312520e53e00c74f26f1e9eedd9821b2bb2a025aea0fb7c3b5123449c3fa18a86de6973d691e9ca3974cace4b923f073c0202c984e67267c8'
            'dbbcb9b25a0741bf4092b7196da22cae6d428ae6e840d72be5394dffc6d31642782ea552477f299d28ba711639d613ec74f34eaacbc752499bc3f8e8342e6c93'
            '9f54ef4a362eda342c0daea87f2d95db2cf899e85e1f2a79d55734ebe8aebe007ec51da095533f391a717ac1e618e2c05d9e69cad6dfd9f98a3cce7fd5d7061f'
            'f3a4e4ba576aaf90e86ecb409e4dabdb6c1c11685434ac93cb77b81ffe216a0db30e7e68abbc80be0de0edffc825dce3e217f53e486630405f367ece86815b51'
            '9ed72ee1b74cae7449627c703d78f632dc7e95f4e54996f6ce29db0384646f04044634e48804eb1e2c1149b166bfa7c252e49b8494e1b134f4592587b0317f65'
            'b53552ad51971c067bd58aa308c50aa7315dd21472e1964836e41c6a49dad574d90e180da4fb386cd4705cb8c639342722dfa1c1969db626e4a1e6daef80aac4'
            'be51b07b6fb69a5c90ee83fc7772f3df851434bb81a74b8021116cc504c25a78d9af3f36c972d75ccb5cee7266f0f7e28875e23dbb7373f6ff904c977bd5482b'
            'f8f65d96950bf95d1267954f78151fd1b99896f1f19e070e360a41fba791a312a26898818d40b0f9863074b570be21174219c3b54c55b30a5c890a34829de27e'
            '0dd31c4aea7ff3d1c8af2ecf5ee2a645d624e6a1f5cdf3a4a65d39ede00062d78abd8805a46c3d6571ded701aaffd54f744f7f6f0a7344aff15c6931e50f8d12'
            '1574fc120187e149f46c59c125fb726c9f5c508e55e01d07a91809e8c5e251c04e680c5dd1a893ac2899537cf69363b4cf6b7e8006dbe13483858053e1e5fec4'
            '1e8e6cb62aa234c3c3a0ae5bf1eb730f03b388a80391a5229adadd179405f5c7cdb5e4cf00228d4a85b3d4e7c22cbe6f4401898ca9841aa803cfc8cb3b5b0ca1'
            '52ed340da8b6003d9b7711b8558cec6bdb50f7cb06bd7d0959f7608d63b681b8f7cf5218adf36fb7e7fa4769db3d2b1b6ec9d417e737c50b2684e1a6b0c3d066'
            'cebcb6008c3a1e66dac520840976c1ff7b7ccbf959a97f0189a2b060c50e76890e932e10e05a6ae37341948df9977007323937577d7ef6f6b00491408abbcf23'
            '28030cd321e94090810592e44ae639b4a6dd4b808fb4fa76b0799cba8b21a55505b0143b2fbe2283649c2cb216ee6b7143f4c9aeedc5fabc9bb19e27c39e68bb'
            'a53b35b0b4a3398d5b5af358eb1533e3b4a150f4a089c29d8e4b298f320ba15b6d1fe7baa0c40f24fdd24f3028d41cde6cab9698f6678bf3d61ded1f0763bf20'
            'a345608dac29346a08776e12c7f6f37beb2e7caf22eeae6ed38bdabbea2ff46a3e5c320e38c5797f70d87e80ddcec0a41ac0fc920260dcd58bdb58fbb98883b6'
            '3fd8f4272a6d59062e861d39cc40afa27542522a122378cd38fbedcc2515078fd762defdaf9e0fe9329a2ff9852f45149ba5df05203a865d3743dab68a0e6050'
            'ccefb935dff8fc0174e914dd6f487b3a2f21f19d5db3f0990c32fa6d17e9f04ed5e4bc52370c8586eb2c31a7124f0d3e7196878b80447362ec203ca49e2652ab'
            'bee47a65d02b6594d764e35eb610de7906ab5ce37bb88a2f0ddc45146494bf5bdf867e959c3bbae5312d61be5fc325961c050c61ed906613e3fc23ac59a7488e'
            '76b12357f296a0063f4508db5371a5b2dcf0024551a2e308683af9094c2ccf9bedb588e9b7023917013734092c3a746ed9b94a91163ddf1563fed68f6d11c122'
            'b94d871e7f15d212d19d8c8f8143f9ef29511cbea6aa594512fdce4fd0b5f94cbe57b083675add23dd02bb5fda8c6545a533f70c640098950c9a1f1b33557913'
            '07de4ff1ca43f9bbd5cf06a634eb6dff4a6ed23ec2e3082083bde929feda05b834666a3944d5ca7b400caefe62ef5ee2f4ffbf97feeb56f6649916a1a5dca280'
            'c1d3ddda3b6de56f4bb6ed89dfa2e518d9c8c4954f498be5d3706b5c23cf8dcb540d3195dbd75f34c57fc61f747f12e5955b5affa4d18d1fb0f2e85d017d6d47'
            '09af9181f5396a6b536370339064ef09fd6117432201b5d85db0125abf2595f9d7ae9038712d0f24890c7ea5126005f759749f0212b2700fcff7e08bb63206fd'
            '12c9845628c10a7315c9f684fec70d872a86e9625481de3806ba3b2c3faaea2546bc31b9f441a7a7f6237fe92cd2e47dcb3b9eadc65f528c151929cd3a406ceb'
            'f8b865d092fe36c089d80392246027338a169d633106d3ae8528ef2f4db8ef7c668ca2c057adc4bce7f96edd96235c0e4a4b98b034616697d4d4c068f3dadefa'
            'ef234da7e61f440517f834f81dbe60316850aa77aa3e5d3499c20bd4004a126068eb72dfcb5bc4d5994c99e1507b6463d8b2c55d8dd3646e7f68255801049431'
            'ec801b688bccb699df1c145dcd03ae1f7005bc1309f14c11b7faa4ed863522962b9c9f8ac30835907e08147755add8161208f9e161e4e72e56753af80628dac2'
            'dde57b5b0883915099c41b4487066cf85e998644a711b4c7b814e1dde4a342566c5238286b9f5ebad887fca42355dff931d2fc3bf97a1cf209f48c50f14af5fa'
            'f581f820291868125945f374a01acbcab15504e4613a28cab0f220ee84a4d2abcb959d73391ae6e9638e11cc158be5f9523c1d0392b3734ccaa421a976e07614'
            'ac2af205dc137646f5f37ed4cc65d66301cc67e253c946473fb637d968be8332fa54b8487e305378658044640b2931f0afed92af8bfc0cfd8c199d6129446bbc'
            '4d2e910bd6aed858df330d78baf6ce2d45547353b1891908f01976187c82068738937a41c94337aa748f11eaf19c7c34df381dbb8c016fa3ded75a5e8c66cd20'
            '0f80672d889702d2d06f96bb68fc4b8ff3c42e1058868de9b92502c5f80614c1b2d2cc289e7175cb83047c7531d2ec04bef3555b59d3528c402fe1c134ab3991'
            '0e262da1a1fd97b71e645d7b691f945ce96ce8065e897a229ba0131c24620bf45d35f20ca97620b72bd1d9c6000e7222b783602daa7779cbfd0476eba39ec501'
            'a045ffddcf5cdcc8ea59557bb59f33be8c12134b031f8cb9aeb8ebf532b4e01b110d90a23e58a0684a0e5d5b7168263dccd6eb6f038cb7b5bc99eb2b2bf96b45'
            'f96c57fa16bc83fed9fdbadd66302238f7d972165cf165630909ca786fc77e871dd362bced43f0863b57046b4bb56015ad1a9ff036cacd0caef16cbc89c102c4'
            'df78f0a0764efdce2a6c16971073e6a8e6a50c9b24b2ae644273e4c2a2b8b990bc3e57e44bbb4e19ed0a8b901a8f5a98e75400ace7baca39f4320705f122941c'
            'd9f0287ea4a88ddc506c0fe67764f7c49e05f725e7db172f03c28b9f2c61b853107160f4757e183243bdd490bdf094dfa5e50f4377977bbc460af779a24a738a'
            '4bc41401840b31d90daba5b9678282aada762ce04ce136118c1948cf0ee517c06f6ea9366d2f3bd37643e60a58d7961bb0b4b1c12ac15d8a473d61f5efa3d189'
            'e14866ed5d75b282799d858f1e6aae3ac2d30b2529a5e871660cf4a9511900dcce4ce250bac6a241c5564267697bb6e5bb5b9c36447c15908b580c4ea727fe48'
            '4d703b3c7177768da9dcf3a63e41119a4088a616bff2425518f826c48bd9777066f6e4b916a287fcdf4b037c97551a1abd412226534303bc5b93f68063fe795b'
            'ed61e21366b096aff81085781ff80ceb8e6f365f649d6aa2b2340721b148372d9ab04778852a9f804c56367654c571f08941521e7afdc22ab02392e57b7f2879'
            '5c12660f4181f126d4b18ac262296e5ff1357a6ab2b23f24f89b0849acb88a0c27126bd4e5c67ce78f386054b414705d58086371a683df377ce0d3188b7b4c89'
            '0f91a199d45115aa159256ef297aead63f4c83bb3f18c06799c27c4abd84380d83bb4302778884017da6dfad289bec566dbb3834bef1245caa97729610b32d5b'
            '11e985b5dd10dcb4e19aa1e351498490a4b6ff6011f526f4a054585dc99dd08055435e4791b448b26e4db1e1bdadd3ef338ebbdb7c173e9fe2c02388ec718c50'
            '163c881723c33ef06d8b77a6ed2ee0b3f3cbd603718652e6593756f9cf64c392ae4dede05a342bf1e230d8bf6938b53881ab27e75aa4add0770abfe120fce4b7'
            'c8bd34be9e51c9fd760c439df62132019a4a1fa733a87e737d7f0e0e39a66538b78fe3c401c85b748d23a1f539353384282246665e205c1635671395184e9e4a'
            '235b8e140610bcfa4d48e857ff58c9db019b2599dd603366a9056bf253f336be32db04b9e14ba917b9c6c79807a0b5fc8a002d3c5261d7cd2b67876721c4ab94'
            'ab64454e2114d67fa1c5ab8383e07be523d5c2c6b56743e037d3e4fe81abcc6f7221f41da5123adc75857a8cf042d2fabf71e809b7e41eb582c5eba425f4b431'
            '2481d221936665f3f63df0e345ce6d81542f393dee4869f85ee476495d16ceba40f2d9d57204cfdb4c17fc060cf78224fac70a625655c9c2794b346bacfedfe4'
            '2953568c6b3a963bd372a0efea0ac852f53fec8ac570859aa55b819f7e08def512452e2b703f2627ff2aea7c8751289384e8c50e03bee7a0dbb2f16dcf4c01a4'
            'ec0f604f3afbfd2c6ad5a924e5ebfa75c00589be9246da14df82a988867fb0fc2ee3d4832d3c7e785277847313d73fe8b4018bf4564a60a20e4073bdf4cff623'
            '81f48fc41ba0e86c1867a3bdf4fdd995ffddbc162f9df941a3ed8f9817afb212c1bdc8ee0206dd14c8cc9ac08b5fd9adf08efc3f20175a40fa51c2e123edab77'
            '2d87a9c5b70386cf90f559e35ebe1c622e9a1c7e1201cca98157622818ae70c7ad2d907b47f0791a3c1133d08dbbdb3f3ced1335051c3618834c04f2860d26c0'
            'f161cf77fa7a7fe6d3f1bbf2ce0c15c25cd1143254c3e454d3d6e077ec865f37615f5c5ce0d066cd513b57e6774d52e209f2d99083fbc99fa74902a557575dcb'
            'ce1296add6234545740306413ce720bbe02c90534b5fba9b8cb4faa1d8a6d8d1db78815272851a0bcd219abe271eeefe9d580f17e78b571ff106560dc2ea5c2a'
            '2d610cf8665096d7ab1597d577324e1bd109e0e9262e698bd1ea324d78c38f411af32db8d4a68ade46e0261b9fbdbf5e62898525c8486c3ba16575f20edc3a90'
            'd3b539180bb3c955c2352a2b25ca674f1c99c495109fc7d95295ed373659039b5a95e7283efa29c567782ecbaa492ca362b7f5ca621a5da90096cdd23e04d20b'
            'c36c4e1ca525416d9a753773ed40a0a53b54f4cc8e5c5f2fcc9f5a3a5d97abbf881361fa94adeea5959fe8189851280662a6dcc200dbd8c09a2d16dae629f9d8'
            '472357324848dbf964341f1e8847e0c81139410d7461e6b078984bfcbb575acd12c929c780b7ec925281fd6910d6d5f9a4198ef23f60a42fa25238e24a3f759c'
            '60505cfb9e94c5792086201e6df55634a272f9cbbe7f468c6129e8f87208d3d643ace78df816122aa4f6d05f50bd6e51acd2eacd96d2aa92d24ca4b1155f4402'
            '8fa173aaf441e401aa00662b5888b940cc57546fac294e11c3b724c17026202d96607a4fa241076c84b807b7cc6d75b2ac5a8b53d5f18c3f9f948e1b3974b0d6'
            '2135a1862c5e95e868cd3ddee5958e7d6c6be1c4bb4b6e6811f182142254941d780683be6c77e101ae1dfd405e0b9d00ce852aaa2857cd439854dec427baef95'
            '5569637cb930fe0b5ac95576a143f18b36d3f4d5effa765529fd82bbd93c3c73ecfbfed7229fcf5c71924f55949aa4ca5623a7dd019bca1ece56881221a55015'
            '28a6c4deb1ef210cccaf813c6a842daa97f6ec33f6d041b2dc2f2f35ee2e6c6a3a519938f8aa410fde817764b5280e1f409694408c03a3e26ed0ea6bde8d52af'
            '4429a3c6e9a45bfba3b33be67ecb3b0ff10d812323f3542ddc9198b58a006d82bc72952a38b492e71e8d842c84dcb7342e9777fd223cc7353afd8568480828c8'
            '58d1385966b65a2501863f584466f3b5f915409a3b6345f599b510413fc9fb32e896757357f07dcbb68b65fc734ceaa49be61f7a3aa69bf1158c2f1ed1da4506'
            '639541778a99b2a50435a91016e8d4d7f20bcb667a63b106394ec48cf8dd3794d5a2a36257a5de89577346ff9f0cbe12482b8821f1b948c7f495f25bb546f60f'
            '25770c684613929d1391f3cd7df5a55bc337021a8d74fcaf283a28f82c7b6bb1d2c74786811ffa70c6013161d57db014ed1ccd9137676cc581a96ea45f8a67e3'
            '9ac06c017edf286b5af8f933f1ea0fad076a480d6bd9f6e330fff48d5fa5753c8970013b0a11f892818ff6fefdf18a1dbc6a77ebbb17b8836232245e0287fe24'
            '410707cb26dfe28906ad09429bc91235717c54914f747a5b338f2a38b005b609a2426a6333f49697473e04e8b20d345b5091ad9eb7b0f15492e4a1867cae8201'
            'efc816d73122a390170f6ff607ca2a8a676dcc67b847b400e46a97df09db564905d48cea9b76db16720e10aad274ac852a129fbb0920fe6446acce8bd377b0a0'
            '907eb7f995485137711c9df93e4beb63c73a4849a6ffa7264542ea839d116c031aa78a24b9a3b6ef341cc67241115652898327ecbf94ce0e2d83c7a8295224cc'
            '3715ca92dddba223797d6f6eec57386afcf9886d51cc2a68df0d1f014804000e4d86eb59add84a97c0f187c595ba5494dab29b2bc227ec66e52b1b99b207c75a'
            'e4b5826d93fba384617ab2e40b939e84a203f55a471153cb71dab864645fd4de64ad1a0fc18491e5365740e7ccbca479d5849c537b2c6da30482275335f9c7d3'
            'bae5f1dde3e0169a77c663fadba9c79abce62d8849bab6a6c7be2bc2dbb1c55c6eff34ebdfed2da3c657744c57652d8e201daf3c54690938938056abd46dfc26'
            '28d2121809a9215b15bfcd3282a57d0492e11b43e53d83e3d08b28cf8ff089c159339ab7f06417c6414bb228bdf7c5cc9f0c17314243648ed569dc5bfefdc517'
            '44179eced67343ec5c16fb73b7e62e5b3e01b2041512e11be697fc05a01b539b950d0e95bf83d864c1af76e0d54d8ff45358a93d527bde7ae4b50019ea35ba72'
            '3f9de47f5318b042976eaea9e908a25dd53a5910fb466d999d4ac9c337caa78ee556c63885a0aeda90900bae7d7972b2ecdcf78734458841b68ec3a4182b5da5'
            '5dcf087ccddb117d657224657aa3106d05115676e303fa1f8d96200ec23f8ec888dfb0ab3f6ba2482932673b24972adb0dd1ea459cb19eab816f3bdb7f9a8ec3'
            '0ef87ce09efe745e055bcb00820ff52c4862731b1d0e5b6e5a4223de31ef553e5f88b034aa03add59b1f8571862ae65ecb68cb050709cd96d89d96ed24be1502'
            'a6205a6a989ce2e9f9ab96669f088928034b3bb66ef3cc153d66580c277c6865239cc03ed38bc6480076d8d4f8b0c6c4e16c05ca79c58706340987d78207d802')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
