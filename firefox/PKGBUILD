# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=116.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('e1e955577c9c9d6682133384150a53bcb8824892645cd2b1811c0fdf63e844d5cc0f0b6c62a8137170da7ec44606d6b5e502f8d64b71f2d4e5d8e56b45fa20e1'
            '3d03b08fac1a84fee1ea42dd0f36e1cac2a6a4a290c9d296d125103fa0bda5ec7eadde4618132ee3ae1d2864a2c67b3a3ff87547399e5f1cc1b233a4542ae071'
            '070c1e6298769f2fc9d68659198f95f6ea7a1b9ceeee48c8cef2b3e6aa47259ab7cce40bdc485d98b39a66752e3f4e956c7e97451cae82ebcecc7c69438f68b5'
            'c8e557c34fadd7f708855f2df562186ce4bf0367eaae248749c9f99f3ca0e80b337c5f010d3dc169bc4227a627d5d3f23a487673c67298326dce657a1fc3cd3f'
            '152c95b90905d64f3a2012d668983be3a30477adcfbda36a4ff5306ef9fcbb162ddafab7b26d9f0a6462232688c61fb0052f78910963d0e61b8577a455711bf0'
            '30df402eee5013bd341b9e2669229fbbba3a0a9a8531085896421408990ea2114093f5c330a9eb623d5ca804f49d81d03cac8b4e97b2f46180e15d789f1fdca5'
            'cca6d3a9bb88d2619770fa91d007b98d2e876cbd280d221b8587de6df69367b9a95a9f1638ff21730e5eff11dd78b8e963e63051fa553bbd123c130334e34d5e'
            '2ba417fe35fba7f2444753fd0fdcdb30358238121fe5fceb2a37b47df9b3b8a14bbfe11f708cb6ab26c5fc361d964543e9b6fec3967e9ba42833cc3e0838f115'
            '27d1a92bc93f084c97804c501db5400ccd943f6f9f6d4a4822f811e9470d77781fb49ce97b145cbc9c12388d81400a300ecfd6474de2fbb220eb44a7e449380d'
            '11b9d930d10043c78af1fb97c6a1be4967eb51dc827353f7abf897c2c8e58f1bd92709499762160ae41065ee63e865dd5191eb64d117d9480adec7373ccce2cb'
            '731a4cf3807a9a8dbde2e83471f40bd81891cc41e6636c72a7b9973810eecfc95b6087a299d6dde71a85d12353d0b7c4fd39133eeab4bfc19215e19044277f5a'
            '0212dfa787b9945493972ca5a057d95ecd874f13f41683840f143f77260259b4ca37401ddfd42273e79cd7ae7aaae32066d88731e829bae9e4f5944abeb8928e'
            '717fcb1670e049a7afc1542bb9f1639d23e8ea53a5699b39fdc1ed5f18ea1504d0b9eba51dc71a7d5c57769d033d7b41c938dc392050560185184eb9381a83a4'
            '12cbda21f76b5b73501f5a59d7af84026f9c272f67849d683cdd29ffdcaf7aac8fa6986ffedd4254e1cd57ece27a80bc087abbd35fc64d1bd021b197d8689454'
            'bd8eb73a40fa9f43e3ae26b37d4fcabea26ef60a8adfb75e0fec8a8e91502e4ce978e96aaa2b44161f7f4bd0d6a7c7e98231097d68be2a9d111b17b58380c6dc'
            '4713d762d551a7fdc5f72f6998348cb9ccffa193d5f40719b80b16d6627ca56cc050d2aed0fb50c4eb9fae0f8098ddfaf3ec9c48b84009098d828978cc9d6c36'
            '5718e00580aa86a298d653ef9c5e14193bec6941d27b17a204e3652168c8b09f81194e223a902ef098f2c7993b7a0eadddca418a1149ef24c366bab0d8ddea1d'
            '00ee3d452c6cbc252507612fa8fa42a0cf26400ca2b670f9a2f4a8112f705437a9ff66c77f6c73bfb75d46bb7a95b7e9592a12af1c1e3a8d6771d8fd379a9625'
            '4363baf44bceed9b8de70ede1fa548032e02bdc14ed858d8e945471160d0fcbb9fb09685fe0ad6d94756956e94cb98e46e0765b8fc5b6ee86028b2855a4246af'
            '4241006c70661282814e0ec30b3adc15ceb4f4942ed7842c4e6c4022c412745c6f258099b743a51a6046e66b5b7975dc9c3eb9f607df391b8a45255f61d82b92'
            '2a2ec8c655166a4572d772adfb55d569a878f23404dbe5543a4d43bcd6a42d9a8ba62e3e34f126b11bdd85672098845d37b4bf32053bb4be4e0cf7a8702ab1a6'
            'ea9732741869a2f9f987b3528d945c92b63ffee82cdee18f93984c8e52636c33f3b834077cbcb45a13194e098067eb1c6f940a28f042b2fe86ecf29686c4e377'
            '3dbf937ff6d0543aae6c6c1c5f4a1c2e4b13885b65230a9d597ffa751ba0c0a0edb5b2f4d9ed4a174f4935ac8c14d3bbbe729a630e2fab7ad6ff1b6b42ec4108'
            '83a04044a4df549da37718d8950298bf29aa7084b2ba27140d7c56e5a7e0086f3f36328346d0f1c4eef896e6d791b03ceed91958a4ae6e31ee8b22385222dd8e'
            'cd92989c45e7c73a89ddcf7b89918d44d19a0060576412866129378f53643bc8f93bca0cb7570fbc35e58bc40919e8ecee9380e3e4ed5faeabad74ca16ecd851'
            'fa33448eb30833be43ad76124b84e346f8c125b7ad95ae6206af1f3c21db23d47666505430db3f27d5eb161e85a94adbbb6f8209d8bf8e8c10cf30c845bec250'
            'a2a12068173de3bc1f0c59f9ce82da6644f44b5d789f26bfde91d8af54d3e8b114c361447b2a7e8c0d8a4534fb6c96aec96cbf795d33e53c24da1f5c6d95ab7e'
            'cdff18e981cf70086a0e909f62e6cccf53e5bf7c00dd6f65466c1cefac01f1aa056fbe918b4a89fae09b172a528af85e428affdac1eaab7330999788437660a9'
            '4b30d8063d758e0e1027616a9e994b82a50e8fa3f3d9a399ef7e7dad3f432d5be40040b0b0ff7d92ec09ad68c74a0af2b9731ba05ba60919e6d25256636a3a1f'
            'e44b8df48e0fdb74bc17214cebc9a4777254476a991283a3eb9f959588afcc499b19d5c37ec26409acce859541273cdb2632e3863f0186fe9e254e92e0844586'
            '5d5f2630810b4c1eec4ac4a64b639f09f810684e442331d5911193d8926af6d5b7c34ea7648234ca9ccb8196762e1f2ba3fb106a65b0f18caa3ac39e193043b9'
            '9e140d96516cf1ff2118ab683bf336ec718a339abcf3ab3ee2ee9fc0e8376a5384d68d627c73d865c03af2bafb73971450752993d7273b5ae87042f1827ffd82'
            '8ac51a24d1d174ce14978a4e846376731e083dea10dd3a4bfeca09f13b7ae671f0eb757936cc36d43ddee85cc97b3c309a72c4dfe3feb415367fb6bce6a1c3f9'
            '5663bfcdaf57f6dbcc30b3c35e60576626f89ce9e7d72e1b988620a4742a8779a20ddf2fb745ffd2abbe440f905c6234e93bb46f2fb4988f9af05d3ec578c2bd'
            '18e3512e5e36f4f5f3a036e58f5a20c8b8752a3298973d89faba6eb298773ac8fea2a1e4ebcb7e7a03c58d837d882e935eb7686ca4cfe7012b0c9f8c66bb1588'
            '939501f6794007d2b474f25b5f209a6c56fe6c2ce338a97966ac948f23a71300a0b8f97054a0ea0748f10858fc701b37dee8b100d9c5c0e29c40ac0ea4891356'
            'e9ddc03d28cac42fd96bf0cda5c066832e3edab0a2b28c09e91d30b813b5f71d4980d9ea8ed41736741b071382fabd4627f3aab31c409765f70487ee2030660f'
            '53b2dbbf4a1596d541165cb592fc77442f6325213941e58ed4ece4ac531f43d37afb1d18eab7a0ce01a1f4db72dd280d21a4ef40803c64de8a8e506ea9a5a609'
            'd69c1212f251e2c787d6a8de9744b02f948bd8a540755d8cf128fa07a2925664a1ae1259c9658241e01227a149fa7a0e0cd5bb1f5806f68433b3af6f04c43bca'
            '8884a7e49c7c6159fada9b6f6e8d069f59a4aed2e41c4e0ea25bef539b6a29148faed7b1525ebed03f916a01f313de4d8034f5bfb6a659968fb030f234472fb6'
            '725e7936b0831050899782e12b3656dd4e1a4cbbeafa7b95e482f05ca506018f35d81906bfdfb5bafd02380e64ed6989ffb7603cd396ae4609fbd5e982af6d0a'
            '82b84ae40293927e47bcaa61d26a0d6386eb3c6ec591cae73be0d68a79be45b05542563d790809491ddb190f1b640c3159652d5cbc5681daf90620abf1ef0a9f'
            '54601da4b5d39b9385e6131a985f9238c93b8d2fdb324aa4c31d1973db8c4f3ab2589a666d55fee7e84fbc8bf190bae8bea0078f22aff08e4dffe641effeb2d5'
            '230bed0ff25da7958dd33f242cf295ec2b482a8665b00c2264b38dcca0b01120fe4608d7a545f8b0d817c8e9f4c7ef1385d849edf9908a5b179db5c781d62367'
            '02a0ae5908d22552c097b9e9ae8f3b905f212da2ee1e3fe597ec83660406d13579ac64fc1e5f50e5df7153d4473da97b48fd3600d9027f36ef7eec7360f9d0d5'
            'f09521498f4b7ed4185031c716ec3e1db579815c705a2df658c2563a3a00e24083f08117ac80d0ea5cae8c336e1ea9bde8eaabfa1af2347e23bd0b26009a25a3'
            '1e0dc1b9e5a2a979449ba10f768d95ed0f40d475992e9a76bdd3dc56daf6a1565f4a371fcaeb7f0cb213f7229adc08dc525e66e08d64c863f3b1f991d557894d'
            'd413e8f7cd39f1e8d0c1afe58a42b2cc5b470337925c8c52d1f4cf0e65bb3c249c82f704f2bf81aecdfc28a5e52a8fe86b294d3f148e17d8184a0f6b8c0d5a57'
            '1ebf5bb39dc00fa7489862efeab5830c59fcf6bd5fefdc99d7aa89454f16a21e65cb29fc7bc12766bf837c6977d51b3b2b7670b2aa65eae3d7d691a30c973c5a'
            'a92f8c86d866a546db0f4aab85bab27189705f5028e312448816035910fd03c692bbdd5b131ca560fe7b1c9c10abd022e3a187d7d900b00214c52d3db0211743'
            '36c7550f4e48ce8e7c831d4a6ba0fd94a67c183eb72bbf464985cfdbe591c0765a24a4bb13b484670d556fe1406ab2e0c80e71ac6299081b595ce684933756a0'
            'c497835eb2c6d74714372abcbeacdb6b9b83bd14dfe68742f3b8a7beadb7e18b851adb1dd701cc07614aa3c7de282e6cb0d4244a19283907876c1704807cca1c'
            'ccbc4afa4effa98966095ace80e18e380c62f2193e54a7ea8d3de66a977d2deb4c79f43d7af6f855f29e043cb0e485aabb0bda421423b7dde7fd912b876f5134'
            '8ffd11c93a13a2f6f56a2e4ee2a01a36417d6fa3e3fd1a6d90d6064b9ea979687ae17cf5dbe7f82b79873a409324008c60003fc02b2c84a956134b7361c423c5'
            '5072db1bdd6c7c885e7e619e4632e16f29e1e3d6e89f69bffc2f4bc5650201176b4140c8ab2497a7058d375d3ac3a6c477f9c8fe68723d811cda84384246ce68'
            'd370d7a4310b8d719cbefd4e95e69cbab0e3bb3a57bd65af14911906ec48d358b59e62f061558e0d24279b5e7ef43b6db65dbe9258cd5565a1fd7d3965c9549d'
            '18038eb562e40536b3fda21ad91c387161556b915dbc7d8c0cb55e0c9ec4861b6f0a319fa3749c305a66b9f64a1e47da70b847c5b0492b4ce1aa8542e569ac62'
            '2ac3ed9957ac7520c3dc4ef262931147563255cd2fce20870e746a67035a5a905fbb7bfa68286b7a0e3d5391740d3cc1ddcaa1cd06c0b01962780aac9ef7731a'
            '05cd70c9166241b02acebff48ee44213137001dede1b684aec1461940580f37c2f422043405f041a721ab0655930a2c80a83df5f348b51aa956c52202d9d4087'
            '656dc3136dc7c5b3d1d48cc1004146d30e0e74523800411fefb641a9ef781466802c1756b6fb8a306cbab2b76a408ca32220f290eedb333c181d0b11ef4da051'
            'a23c05e9f8e9cd79c871018528030836c53b13933ec04ebd05eeb2dcd6171272e6ff4d6662b525ded8c63281f1746c7b59504feb8ee5a9f660e2235082cb8384'
            'f414ad33b116279331a170bfa9c114aee7bee22e710f92bb6483e8fa39be92d27ef21692c9e32ba2a382fd32e007566cb7d9c4060497af101e550af9ad7fb9dc'
            '0052b960ccc40bd9e6877f9a5662f13c9adb7e11fc1b3966bf2513c2649cf85f9e1534cd70e27791852c282f401a0f9b1d06157540e78cef31a8e15d73947bdd'
            '31cacd34673032ed9e9a8e27b421924efdcdcbb18895ad15f21166ceab572056410287843ed4dbb1a34cf9b409de9e280819705675ed77935bb897f2e42db685'
            'c3aecce242fc054c0d54b6ab6816d1dcf62b66141ae0f31ee3906f48d9043f69f032264f507bba6ce8012d68d94c82edcf536dc2983ebf6eff245be936ff303d'
            'ae0fc1374b93e0a81cf59d635e1a39268b36327647ca820e7f2cab83ca4eebbbdcb3c768b9f59d8fc7cfc1f31b01dc71f66b9420c4c77483190e5f0a875cad71'
            '1888a5eff745f80ba9f140a5acf60aa1dbcf776f51fe3231912ff8ed1ee1ce284cbeec682a562820d6273778ef57ce0d10bd791b4c8a8ce51193567b3ed88d2c'
            '6c752d3a0e76366675ce6fb585c2613558450fa78e26ea3f386fe276689c4d03850d896cc029bb426153b6608f9c600d9b1b6e770738147b0d3725e08bc8705d'
            '95968f5d00e531f15daf57a0c468ba5a982779e2a34114505b43c40b28ca4886d8db184de278cd17385c1dc43099c2b3610bf986ccf0cef7151d44221e923e20'
            '8be7b095c515bb53301e05d18387f4fa155c44dfc87875117b4266adcaf8c82cba8bb9351175a2bf849fad67ffc84d2fe1db58cb85f70dc86f835d185f077699'
            'a54fa0f22bab86baf0ba93d281b2af2eba192c3d44e006f8c5c2d3cb8b8f3587c3cbcc4fba64cdfe5a63d5d2e0993ab1126f171fcdef3048cdae919695a35da1'
            '3fcb7ce17fcf6bdc22e7b9817ee2d7ae9170fbefae540cc3ca5681c67126d32f568fce1a60b38c25cf652eefe579de2dd1dbbf3f6622a9886eee62b9344a9f74'
            '0101758cb787885bbcd2fd0c72ef6be64d225a1633041c0133e0953594c7dc5e5c9075f01f7fbc98e6ee3c0b2fb32c16a98e4648ba00dba73da40cbfb13430d1'
            'bebf182013fee88cb48e65066d19a9fca27b0a58575233b06135cfe79930b52850f3c7394006a4990dab4ce3fb705cd212f64bbfd02e9fd1a43b8e90f40271d1'
            '05b4a4e6c7b345cb0782b3ada39cd7c9ec72fa6ffd07de6d701b2fb10327da1fd19c5d36d5b86ab3606c83ee084df207501b58f9bee9be81dddbfa1e746b6c2c'
            'e0ba61fff2fdf418c7d08adfb71201a7ab74a94efb93dbc79c4d42d8c3dc728ddcb13ed25079c51d7a8e0f7ca5a51dc4eecba877cda68f521a7a436116f3d206'
            '114098be33aba33ee89ecc3015e0ca9bcf16d3092ef744fad62a8a84d751b67be06467d0e2cb803bce26d0171cd818f1fb360ac9a44436610cedc0e6e165c425'
            '21060873ba703e86c7a33cd5f62e6aa2e4a192ddc638692daef15cc433e44f605247e23d131fc68bf7d17f9100f2e01f02d6f458a8037cf58cdf61c2b2d47f0e'
            'bb9ca6986c6f417851138f67bb494786511a1c2d324e43e01aae345510602bb764a3b3fd9c2db6daad950d05d31104cd0fc25b6d9cf9c4acbbd7d9ebefe4b93d'
            '5df3d1a09b67ea9c95701e965ea5ec780ded8447b58815c5330542a8b3962a64e63abd95779115b4399984b2cc7f49e4468200106ee61384a49616ee94a8071d'
            '690f9bb1a33c49097678fc4967279a5662e65014df6720ac30589a782e8ff5fc7c6d49d5f71996c60ff0a06fe98814192747a3d4cb46c8fc659ec7925037f163'
            'c785c59de8b6dcd53b74a4b18e5aa6fb7d06054b67f83541e978fae2ec9fe8ca3d3206bf44ab2c2a12e92847bd1b9cacfe07297fb342ed8b3cf9663b0104e942'
            '77accec53fd94e18df24a4484e7985e5a778c3b876f43a8fcff328fea61ee6d64466f47ecc6824e2c02a2fb76cb02f3aa23b863333c413c06782c3469b96f165'
            'b206790aec54cae2408d592a91a5233b1c464eab7810990db298fadaccfd529ae2b591bcbcbf096ec7eda9c02e889adf466e8eac09b02df9de8e61746b85af36'
            'f808f9a5186bae9dff649746df13c1cff1ef54a6af09ca48e9251e9df5edae7ff8a1b481f834c7b7b1de6961fd52676397d11073d119a293c92639f72d4c4c03'
            'f11ced045b4cfbdde746d79b246c7fa75640e70cda559cfba25c2992585298ae7ace517ea5664fecc7de7c51f4a91a171316110b3be0d17cde3d20c5b62d8cc5'
            'f7fc9ad567cfc74abf31403c801426712f3a13c6d2c7549974db246b1030fe2c94f1a4cdf20f5c71e79f04fe52ce28e0363325d4c8c879fc8098c1d5f4fd6e32'
            '6212149af8a61afd2f233bfd371d4b98a97c0ba7628df05b3cc32bf55a1be616aeaa5384f92842c5c65ab0dae9096725108c8b49ef85d664ee0e2e742e2f406a'
            '5f56577395f6fa7fa3d668916a055aa139c567458502002e07ffeb76848b692af2b4b780ffc8a9e3fa03e38a5604ede6bcbca77f7b80c4827bcd3b699168b710'
            '3b36132bd12c83c43f4656e406a1032336943e3557c01b3be6e02d82ed7e66fb45083f06575b4333cfb0a51b1719c90a96be14d7e343a9c788938d22aada14cd'
            '90d1ea71611f85acf42a756e225d3196dddc9fc3c69fece8ed5cbfcc338f11d8de62f60a6ca751071649b797983dba8fbd8136d19c81dae58605bf79882de942'
            'af513506d96111594213734498bfe8e64202e767cf33d8a5374d15fd9a931b428baf449239239245be78e91a2780b791287c13bb135b239452ea82315e50ee83'
            '6e684c59f969c7ae59decbd560e53a8c6356dfb32a7eb2e896aa1f93cc14faf032a029a4d91891792f7a4a714ede18946e4c4ae55b6fc95dd0a5806734d8c8eb'
            '34c3c1e3ac8b29a0d4b851790230c5bccbdac693ffc39990ea7a2f1ff55fe09394028d7419c42a7ae1cf7e2ad9a39695037ebd8d6e9358b0c32d79dd387d6702'
            '899f3dc14539e748e7b4269ba41095f37c4ec1b842b4c38226cb09e5779e672f619cb614c7e258ebf361f6ecfef4ab57fb3ecde7aa3672cab2a2ad1375bfdb67'
            '8ef1e0bc333d5e8eff065932e460da95a39c05a81fe8c37385f2b631dd4fb317d28671a91a709c7c5caec3d08df1bd49af8d2ee4fb98382a8a956c48001bf488'
            'b705ff24059f748bb21c0e1e5241292dfd907c6445a3cb563b1b13b8122dd265f72cc204b82232d8fd04b94ace5b9d8bbee508e235380a46dfefcc5738bc0e83'
            '07529455f6d9a085283283dc0bdfeefefe643bde8ee083e75afb7e61f6940602dc2f0038465c9c19ea3a123cfac5582a6545c38482544b76be67deb8f482c3fa'
            '8fa14e76a320c14d99e0a079b9f61c5b92c3da0ddc9f0ab481abb30633b07490e8213f649e7c287c4f103102d4d0e8165b3882025ce86afcc7a0dfd247ab8e00'
            'a2b5bc4f8a38e90b4baab73707e0d956f2154a65c2aa22bdca99a0137c936d5696b1beab24c336548c0b13ba78d2e659ef91d9c9e52a053aa918e0332b8d4452'
            'fb8704b4a8dcbe2e749a2178219ab8217c036d5929f4bd9d67c4b2bae2bd3ca9bed8d73d1a9ff51d8a67caab59c19f50db49f25bd91a3a58f995789b6a54e7bf'
            '9938408f969517a20d1ccd9c011d8946e1eaf53ada97623b16dd6c50b87eb6a8939e385c67830f651d53ca80bf9fe3d55446812dfb3504ff8f7442b0b2be101d')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
