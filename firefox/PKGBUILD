# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=98.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('084e97d758fabd728a3e5e8b4016552318dd3b03f6078aeef6349e9129ff859a9ba19afd18e04b8251eceb3a4dfd8b55477b63584a8e74c55d0df6feb546080b'
            '50a0743de10ab08888253c5ef539cb5f19a7f6b95793617e07ebdbffd323e2221d48275cf9fd57c25c0fdbeb610c01b76bcf7770edd5b53d4d2fdebf141406a3'
            '753a89f1d47df4e22c5a162f3892fd3d5783b07183da0862c758de42571998f9018c2a0cc3cfc533ebce73db77ca2375bf008c4f4a5befbd70461357a227be01'
            'ef1907b2f2089a4e13723244abff6ef725453200075b5fd8d51b3725fea93eec5a45ef83dc0a60e29e6a559d0aa3baefdabe5618f9bad1890fc0281f60d93c73'
            '22e3f3123de96a8e08aae62508b6f3d0729925fcb3e82526c886c73d2497f1447e7eb057df043d7d543606e1eafcd5e48c864768b89e0a93f83c69830cfb8668'
            'e9bd482b5bc7f99ad431d71b4219fb1f9bf6ebe1d3435d57e9f3332278faed1de4851cf7a53c342b6ecbaedd856b9dcbef6cd83a576aeb486f2004604b2282f0'
            '6696383ad00bdb8e3fe47f31bb03728155adfe85ca27dd5115cbd532de61a35bde0a84fe731562e1e8499ee87d018a386f515f4ba2130220bfef891afbc6890b'
            'e48dec99011edbd0eafe3c7c9d5f849ea15d03c3ea4d2809871ab78fd95860a27097d9fd125bcceb81ff0da168bfbe9b6c6139cb3bbb2a1d149f2b1cdd1e56ef'
            '41f81572fe523be1436f1c5474a2ff1d4b0d3ae794ef7b9843b6d0560c1d98b9a2a4310d32684152b00120ec9c59728283297ebe495baf525ad50a25a458f31b'
            '04d643109adabb28fe729a8fc9fb1324d2eac98b5106214773132416af0689dc4b1295241458fbcc5908e723de45ab0d0480d844a5fe70810c7b0979fd8fb154'
            '01d5b87089b6dd1984b531c066e61a697ec4869671a6a52c328b7d078e728de012753f190dfe6cb71876bede592b255e18d9bd3475b124c9659111b024e60ed9'
            'c47b6edf5f253e4112292adf8c102936840d88a43c3aa4a3606b3253204c0d332a1f2678414359be7234f855dedb7d5d31c3e9d488d60783b430fe64dbad816e'
            'fab242c331cfb2a68fb62519b1beb6a6710391be94d7e459915e6d1dcad2b678ee8a8efd312b40795872b9b0f0e53567de4f3c38f2f4fd7df7b76c018338dd58'
            'a48d1b47d4dc59575cdd1810116d7f54d420b88b9bcf0739a4279313d38a14f730a92239caccc8715577f3f5de066ce55a4c63b887b95f51adcf403e9ab5387b'
            '3c6e885f03a9624b4bfb01ec819c17ae7fc17f9131f8413fb1dd7d50e4cfbcffb247dcb05dab0ea83bf3fba81fa6334ed90bb571add721fdb5657a48febcb1d8'
            'b581cdd09b64bc3ce4bec462343446bb9463f7a9244c2b20e0ea727b82e6c17b66b50a4ee997e989c42f1eeb30058b99cc025b9b5d270b9a8c5816d0f3324a11'
            'fad3c0b45997ab80e03c2f9e61edc544e44d1182e9e5bd122abc534c95cbbb9556c693a09bd4359bc38c43bdc982e5f6679d53bd6b1750513ed3fcc4c534c721'
            '7084e2a9f55266cafc0c8ce420e0208ac1823a783effc72f51255fe37065f0932088fe9ccead046a3d481ae604f6d004e268237f7a7422f051d602daad37726a'
            'e399bced302df79a1cc8d1fc0071199b625d76abc9050ce78cbec2ff0bacca27a2fc0a783816bfb266badaa5a229973f472810f51e86942eecead648faf77fb3'
            'ded79c09780670b593c9310bde471a7516526d438a8ff40d1a4830f6a5f01856cbbfbf703f4ddea21fc6addc14a5683ca9648e699f4d5b24adb044a59b433a37'
            '1f0624cc597d6182fce3300fb55aca3b7e612d08fff88077a1ee7829d8ff980e62b0730ae085f0fc5a6eefb6ab230bbd02c0a3ee77d7e0ee0ee592bfcb5f7ee8'
            '5c2bcea340276764aa24c42f33fd6ccd47e7ae6ae20e5f2d0e4d4eefd3579f57d03061283877a9f4f82571a1676090bd3c59405525b136b63ef4ada48794d8d9'
            '8d283c957445fcd330352fe4fba466e670455ae90ec2d80f210d398b140afddedecc0954321b893992812f79c64f9c1a91298ce7a5314fc8df5dd8dcd7a54750'
            '71c6ee09fa3fcde3ffbd35b142c0a1f331328d8624c3540213d0cd0a0d44df418cc658eee879eebc0fda7b54974d56b79e7d6b2c7e487ae5610268b607c55d96'
            '621fa3e0d1c57a7e25cbc4a70836b3f590659f371eee40ae3e381edc77be6468090e0fbe289187e78ea6bee0b9ad46caf551a85262592f1e2a63ad1a63bee1c8'
            'de1b99a379da4d9f84875eb0131f7ec760dfe22a772c70336b65f648b28968207620b308d9555c821d89d3d6d82712c3cfc9097d9ce4f66d7d0d22f8f2076168'
            '1e86f8b15382e2bb4df2a8595242e2f5dbfd63b6c304be56b41a70be5f562cf9dcacb41017f03996da70b13ca8087779ae0411ff21c5b654e4d6a919382d8f71'
            'f36dd99f3442f8a04ad501bad1420742a785d8f4837b2c06815f513f163973357d0e775f729ebeeca0641e49f99c8695228cdba634d2a909ccc3862d79ef75ec'
            '5c6bfcf238e4b75574396a843fed87febedfdfa410d484020b34e0528405dd9cbed5df5a64b549570944fba503023e4c60d8189e77702633b0109d1f55e548cc'
            '78cbc3bbdb0376581d37fda290f5e4f9bd5e27f2499a2c7b97ba198a2a674b68450181963a164abcb878e67180f0a375760aaffe0e021b3d8c83c997be899f34'
            '67ec61486587d18aefa2d2669251929acb4de949ad5e142715924da99728eb7325c8b669ff1e798f5b63bbb86ef4ee3367de3440eae338026d3476c0558626e0'
            '42c9cc74891d54e6a20c07c012170bb595e5766966abfb49f424163d46e5e101a0f91680768129add8a09a79a24bf0c7ad1f3dccccc3be22361da3cdb7c3a6ab'
            'a39a7a1523719cf8a26f3850d6e161d5409bb98ea3a1d0c9e7642a44581b8f65624b6fb37775fedc8cb790567c15138656c7a94d84fb0c6e84c750dcfa87b00e'
            '92f08309f12534b07ae00d1e7785e9cc9870661091c1615d1c4b2b291446c8ba2d1a05f45596baced72803938a1c68cc5dfba0d758982e2f8f2699f44b88a6d7'
            'ffe6a8fa4b1ea61e3d44662ca08b90b4a8f3bfba7eeff3997a6a9b354c7cf625bb6875afe5a2741f82a8661dccd3d43866315e673aa4b3ddb9709f767ae63223'
            'e56058308d397bc0abad91fa2639c171221f45f25edad40cdb0fd0fbaab35fe2c988d4b3a7aac3051b6fa558f82f9de097add84b9ff5160c4316cd4c36493570'
            '2848c4e7f0a6562404ffa092ffe9d35bb42e86975645d9cb7f02d792c479ad0bf4e3aa0b4c7eb0104c3788affcc6744cfbf0773a70281ca8abc1623f76bd961f'
            'fce8d471ab292db96945cadb082edf7da44891880c71c5bae2185fd6ec055de1288b9e867f5204b17d326f95a76256b35ad72d2668914a816746a83e27546cd0'
            '547c87dcf6e7fd2d8bbf624a7f4752aeeca117f830e6dc98c9437628289da7a78057dd06efb91a2fa1dda7f09c9d6f6a6601a9be8cbfde823ff417e356c52058'
            '5d9ec228b79a191620e450d9d85ea3d9aa7cbaf342797fc9cb38158595acca3a13c35957650537d4afc62a39c4ebb05e3f5cb09dc5817974553ca06688a539be'
            '4f90fdd1ccc98cfe7871339efc9e064f8577405806fdb22a4e04af16db9b0079f50364095017726d2827a6358cb838f2e16b5d0561ddcf5b0113e2e1e9b249a5'
            '1e58df1e892650f0fda7e09d34a434a460e5f200a8b4903e59c2b94423f3cf0fe74af15fac1eeda04908be9dd14ab1cbe74abdd6fdbe74f79d87c24ca4c6e999'
            '89d61c7d27fa7d4dcfda369913c6c8681c05c74b7a3ca4c0e1948014d977bbd25e9f3053bb3f9fa80b795cae64e3d14d127dd07854a022a203efe07c0001aa4a'
            'bc61c11208fcba7294bb715786c4228d6fcf038d2c49aa86c44fe517fb7041c08ce727147897a167685f5fee9094c828eda4da1c2a665726333efa1093757723'
            'fb200e43bc92521f6fb54cd0f2c06d0399d773b3efd0152af8e75a1b98fe5d2abab16e755c1aac5bbecb0df92caee2c30b73bbbc286d18db39a1789088843b34'
            'e333e2cd51ea9a0de9c62b5eb9dd730dd59d7d1b8c9e83137ea66be6e7fb520d11b925b242425c0017d9b309a31dba1011b8ab32241dfcc1671b15ac69439681'
            '4dad13e9e20e3dd1eccf2fb4fff51ea625ee46529550b0ca6a2c3e716e55938994aab3ba685e14348f68f3cd8a9c56315084e3a82ae5570bbd7409dd7f348318'
            'e01fc410bbd6ced018d985c838b3ae4e15fb31efd2cdb7f7b7897c523cc7a91fd51b6b50afaf2da95aa7dbd1dcbb633c48827d705b5e4211d130191d5d68791a'
            'd275f70a54ce83e9ad1106dabf61c75b5792231cf16580d7c921d372d74de72a8bea4e0b5b5f1d5a2881a4e7a4517ac38b2ae3075e3fc7bd32bb39a9f0028d6c'
            '8f674d763dcba1ec56dca0d32341b2de05fb05f06727ab775b4742762eaef324e498e5f170e883498205a9e60161bfb8213212760ac5296a5d60a3f96d58b077'
            '592c65ab3394e8b7938a380b288be73cf2847b5d9a4054f2594b26535ec35982aee281825bc0cf13a9728ca1dff11d197c48d0ec7abe2f5bc8a78e1b8fa9b586'
            'ba4f413bab41b5c1d031334342f211fc9cfdf35319155b5b1fbda10b0b757df18a0a777a7172d78d7f5f3f1282020d8c46e71e639a80930f05a7a817c472ec73'
            '40ad8257437a8087cbb65d937b145c4c92ff74929007af0d24287380a7c5668fecc0e555f655dfeb3bbd5858173778c04ba1ea1a24adf0cc31ea3cf812e21fe0'
            '6875832cb01ced61fbdcfd4341705a80056e59deea155bae9e380f49a62b1c34cc3f0f17f83eff7b4b6569fd7b1e0db339862c053277d840ca229d7f9b893772'
            'f08ac9b4d61ebc6d0c130ef2b98e2a49ca822d9418f1573603d8f1b2a4dd0708a232e34ef79e5fa8c7a9454466c1172cbf05e35fc54a88a0265c0e358e80ba42'
            'f7ed8575ffa98adaade87c153c73232ac163df84fdbce9668a1deb2f405ae839a26d9f59b134042eb4e1fa7e9e3b8afb94334677a475f118b7c97902737a6c18'
            '73b95f5d274850680ab984f376b04e822b599cb4a4358a72ef250fedc4834a20c1ae0bb057fabab3fa48b0ffb98ec8f07c6f422610d7ec9e885c47a093bc429c'
            '673b7fe8cc4dcb582b58640f8ef083046c9b4714b5c04f34ecd6770f177e77ff76f8333f855170764fc3398d4dc78f3e19c8320847999500ba9648d51fdd2536'
            '0a516b93c6bf0d5d0fb351e1c352fb7bf46f67de3fcc0ed119163fbc7be996395125ee619e90da13bdafbc41227c21da35d1f1b168c3db4ea5fd0e4eaf51e5d3'
            'a6c814bb0ef4e3768f7e575d35ad4bcb4eb3aa60d6fb0ba82881e16b41514aaadf65c7430c324c5389d14d9bd6a13ee2ea7eb1b2dfb3c999b4f441e645e97919'
            'f427a0f8da32f3a71d80a73789ca7e9cd0c554504123d26181822c50d25ea7de074d12f9d3744482f180a715c552c90a3d8b23c40c46249d5c1064cc9d6714f6'
            '8573fbaaf74119d58da3ab782d448eeeb3cac4e141b9a7f3c36e83ceeb3eb90972f4dd8eac07a2bd80c2b9eaa297d7b065a043644a77811733888b60e7ae3d39'
            '714cff617106f07a8c93e5b4d5ca30aec3895ea6b4ccdb6effd44288e41f1811717991f20c340af8899528b68c15676fd93c9d8a7cdc70ae8688b4b2d252a5be'
            'a215321bdebd58d2722c43f499ad91c2d73fdd518c1ecf80e2c54908c7cd0c780ed21e5861ec5c61a6b3ee47d0fea3013cf96b923cca022399a7d8dd6e3dfd60'
            '72fb9e0b7e48fa82d1922ce2d578deceaa43952ec0b836ff94385976fbafa2ddfa7d0dc87fe7e8a3fe2f54025d2ce00256dbf5642603c27b1f6368795295f13b'
            '016db32faa2bd4dc04a4068cb3cbadfaac8a478c266325282d91f10e44db853d0c8aac5b794820e71487a033cd95b6e3f0348268fe94a2a75cac0ff1bdd69acf'
            '167a160ed8ccc0770f4c116a8ce4150e08bdccdb0cefae999222027d976a6df280aa181358b7aa75550618217cf462dfe7c8dc4864f19cb3221178bc230e585b'
            '9f0f404fda7cfefa832b0876fe850999914593840c5c40b23660529d0913284d47844de4cd291e4e7c36914cdfd50b37fb1d6a15b581839d1c2d096d93f4bdad'
            '005bcaf3d880bb8704eea96072ff5973faff91216d77c21451a97a33ecd2e8a2aa35a5ec01a154fd92efabd112d527769f00e34488029956b93f13c40cf139f3'
            '88ddf5709c14d8c8ce14d701866e3fb8548b20b563f619375d055958065fa9283523e13ba0d5c7857703e70cd00ba81e8bb4186d0c36eafd82551a52703355f2'
            '2afcef2efaf36608074f73021250828c4ab59f7b43052186e0a00c1721c54eb0f0fa154b6915741c9808e225a4dd1aef2ec99ef9341a76241f0d61fd9e35a588'
            '2035a4ad783c4de79e241e9e79d972153a4abb1202ed53f1109a1583de2adc65bc0a2735c77545998041a3919081a17a5a49b7c916860ea230e6535084eebd53'
            '1a8a9a425ad6ebcd49fd41c0685930fe64cf6630273623d5999f94bad21740b0c69b9a63c16a03523b8d6cef5529a8b766160b4b89c44b4b3467c4c407889184'
            '339f45c02ebba2a7dbf8d07eb236c35ddf562bb28cf6b317920d081c9e9908552b7a28e64893eb5a8652fc3d9e845ac5d03663e5f0a89ea51588006a1df4f50b'
            'a833e076db1f6cec616707f019a0031fe54ab786a2596a353d14dc16fff8f83e61467b17e47272f6757fe68570196ec850dc5430afbca51df86f91123e57c84d'
            '05e2136f24e20452c83a91d4b3ed66fee163179610c4ab1c12d884f84a2ff4bf2f2f8e9503134d8f097fa8310ab25c36bee2a2a20dada54d7171e82d9b02c0c3'
            'c21ce4ad1cbd74c63ab022406d8fbdedba5d4d7dadd00b9c1bb80d4acea7eefae1de784e89688acd8184cff5d831910a1f6b006d29b0ad631a6f19482bcac773'
            '37edf528a26af923570507097335b9659da86886bc5625d9d7723b3c2b85277cddf6cbab1e41e6082513ab00a83a383bc1d275fe7205b43d71a68e33ec1e0c44'
            'a657306e9f6fa4ec0bc75bea3774726455e070ab2d2aa7fd61527f5daba850ac9355114dac6b2e720540764778d7291a8502ab49b50526656142e7ee3c0bab33'
            'f9d34b6ea8d6d309af88032f29cf958ff9b29ea4567d8dcde6a619e7f18b498ce2a44db99995fefa9cb8fe1ebf467343e900a972783b2c892bdf659958de678d'
            '9cfe91d79b7cc8dec0890e2b4337e20bceab384b8de10321b25da0b451a9cc841abffdf5a1de49846a9f0ea0d5ff56cb41844cc08be3f85697afb71cdb7e1cea'
            'a96b7ebd0e88c54e59f6f9a01eb7b9a502be16db71008c2f5a5d47d3245d04ee345716abc1442855b942b4f61a303aa1034b836abc3230b43774bab5db085960'
            '86fa96ab61586631d3efd1a486fa553b854655a78c35f54534bfac243bd3a391404c999812d7e78ee8921a903773b1983e2e7936168c2108ebd88c17e5a6c349'
            '37bb9b79a8f24cb7b08b2fe8ef38b61e79d052b954563d03018399d44759d1b595188ce46ade7479eb911fdccbbc354fed85df3bd595bad399a69560533dd214'
            '831fb7ed84b36a31dc7e61d8f0aed04216d323e753cfa2e61038815afdb58f27d15379c191419bc470df4d85f130c54896ce35d4012d172ed7d185ec284370aa'
            '5d4d015eac4e03f8ce4f29f02459c56a5e8370d9aae1b5cac712f93f4809b154b6f04070a9f5bfff350f3d2f4e5ed5c2b30da34bef317fc5960d0c53f0c74714'
            'd24cb3828b8e4c305b6ec1f36ea4de3fafe8b6bba288fbf3a57b6ae76951da5f69aa597dee5cfa081a2cfd80629fa78b9eec444c916c46703b25a71636d10b60'
            '76e3c81edc91033c3b8f46ae0a7e9b858a7f7234c92b551047b026690e686b25375d0564a9e89aa9e4649fab4faadc8f98ec8c1ca41c4b13471bd9b0fcc9e5e5'
            '3509c59fd92bc3c0c34143621ad89f33e303e6715fdc563055719cff818fb5452aff8888d96bd1ad9274371ca15909b8dba215a27995a0253b5004b1ea442ecf'
            'cc21651d39e3ecb5942b17f78718c247b176f81734b553b5ed1bb6d469ff77f9fa566e12370c2a0fc8e62762833879a03777df9b1374f8e519a6a4e42b2378a7'
            '1e4db1b1aae6d374f48fe79a25f29d7000fb1d36b38a5fe422415b50f9d5d7bb252e5723e52400cca182a7ce7b4a52f8a7eeaaf3abc4aa2d2d828b3116c17e54'
            '1c35902b80bc88fdd130042e365cc4748430a529b4ac114a9980ded2dd64947140d11f28031b30d9c2d005faceb572c16b8d8b6a5edc9bf0b3208f1072c94720'
            '51de9e4fde25be9c9af4ba332fe66b4b61f9ccc4462b380e8d70b8f91f48998284c6c9441cd9d1a1845500901a3bc0a55cdf85e0896b03710296c5f39b84393b'
            '2dca99aba3963a48bb3d4bb1d641707e7d641b9fd5e4d9bda265edf6189b00a678a206c3fc9afb5006ecce5b2896d1b167bbcd64312c5de96e31ebb6ddd650ab'
            'f9be8a42323a2334ce0964628075800176f3530dbd51004c4fad429d519471840b357f487bb318d5069545a245a1f93b240564afcd107bf77457fcbdf4c5e5e3'
            'a713d05d1bb8394879dd08ede6047f4dc27005f2f514a1332b56b8b22b6ae3a58eb5d1bd432a1d6dc94974310d34c57b1da6624eb36d8f51641c0314ecce2abf'
            '337a32aad5d182707f2c88dafd694f19dea954661d32283475f335a8c4c9d49264dac7eae90c8ac80bfcc2d35f51f6f498542b7c8f9fbba72ff963fb5ed6f418'
            '037acb37e7ef140f447834b9666623e521ea1cf4a08f639e85cdca465cd1a5ee90218c1113d11fcb357e183c680d67a49e45f08d172adcd94c309e5a78cfcb3a'
            '79cb2b3822cef9c82acfbd9cea1a6e2fe8b3ffba90cf8e9de8ef633fd53257e72a3202d78ae24de6307cf8f5ad65aa166d5b39a7cce057ae20efa6bf1fdf7b77')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
