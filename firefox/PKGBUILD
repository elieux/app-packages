# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=139.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('1bf6f48bcfbac93251c19e339fe0cbaf27b34be0426e1b80a3ccfd3d0c7ad7ec536d3db6da7168be20f4db944f3bc611a0b699d1df33bfddc683141543d74986'
            'b73748b611719c4159f74dcc74afc9f74757a42f9e2f424084a1e08260a16464e55443bd8e71673599939af7506697080dbe806b8156475277d787ff61cbf6bc'
            'a8786d471d866afb825fe846539d3aa819e8c2f237a41e710e0cf36c8362b129dace2e77aaeb49adc7f157bd1355ea87a6ef13a8b528d5d91e1cd858e5f9db23'
            'b78b029fade7c3468ad575038394978f9fdc149857b49bcec6e49d3ee056548566679d93e9825e2cfabe401737c00c22ccd4779c3955bca059e00308f84cc2c3'
            '7dd8a9ad3cd7f4167cf37755a77461910ac3ccf8363f78edb322f642cf54bb293b7b107be5dc4232a179326a13870f58f60fc7310b814e15b759b087fe85f06d'
            '26e8421682d7d65010e066b3492fb27bbea48e7a37dd377f1f969497090cbbbb4fadd999227915e16b1fe954c8627453023bf96544246a961433822e90046dba'
            '1ea514445468d49f0cb9d8fb52b1e2cd0025a6eabbf9d136de21dcb4bbfc771b7f3c2f2201637c16155b5d3cd824b2c42565e1aed7214507b1c4c6424bf2f058'
            '3a4250c28e217525a077d96cf70a726bb138284087524c081f859f907ed721e5dea7e93bf4e34c29286c125af92bd9c34f8a19025a920581d48fa2e2b68adb74'
            'bba68ba6cff944502a3f8908bf912366f8b680f0a89d390df7896c3eb2f520ae25c46747ecfeffd9211f043062fca8447979a92c0b3bdc36c73a9e6bcea8bf85'
            'b177264d4f0995ade061d7a02dca601854d882faa68faef9766e9060fa123d263e28d7b5a8b082cb184474a820bc7603bc81d607b4b5e85b7cc2b9e47d0c87df'
            'cadec1429b9d03f17a272091212dcf3a17893f0f80eaeccb6a2e531cafc171291c73da4c8e7d7f2e57e2e9bd64e73f1c340ba585f18d4664f5e5ac25d536287d'
            '63e535434efdcd157a3742ac5005c743739d5f757ec06b0f1653c28c471d3a12a43dae0a2ec1126eb7f0ecd7126fd387b16c91c5671413c1edf73773d80d6e3b'
            '4d9b7c9586ab40bc1a4600518e0edc4d4861fd0235db0c8943296dfd40eec09edf45ecd80083678dbcfc4560be8e4407bd5ab6bd6fab010a4e53fc60ce34e019'
            '17616944db9e7594feb48bd51da657ae8a1184642319a6b289229cc244214d8d9c457dfb7f6fbdcc76cd5deb3aab6667cb9ad8c14361311b73ffc7e80e150364'
            'fdd08f5c8bfcfd1c69e804db3911215acb36a5bf6e9cef085bc98a0cbb14fb49496998bf8e155b2769a75b9301265318223e7658fe13f39e087ac7e007e0f65e'
            '4e7d993175ebb07a4557fd33700656c20fa5fcae02e597ce6947ea2aba748e9822058c7608545d235414b6d96d6459bb983913d09a8bb450c12be7dbc0b320db'
            'da647036c3820f47bf3f8a210f013ea7f5a9b161dfb51be4ae93a1496c41953980716b2c33b0d131bed510c14404f1c947aa6a5ea8b29e84a478fc3be8f6c6ab'
            '4bb93fc7ad048dab601afc9f973b123dbaca22715e4b0d2cca7480080c5a44113adfa7695d50704241ccb3de7db199781c9800ad61282f4e496fe91c45c4f316'
            '3d2282ac0bc4c508afb773e8b392a7b17201e8a27995a609afee198dac4c1cae450a2e7a6afee70a90ac1d0daab9dee61f6eb45606c955518240e10a2c71ae20'
            '039783fb23b24a0f2efe6a6a282716049847977bfa3d3a9b7c8f7db81f248ac95719f06d3ac4b870dc697217873eaa9aa0d0a34c26b1a849b4db68d9c0860a50'
            'e6c7f7082d2e8af42390729b2c7099de240e46cca9e8ea9c22323fd3661dcf01f7884be12270d0f97b2a15194e5310efa90fb9be3764d1f1ee018299d43ff27d'
            '573cd20b66b422459a92e96c48500befa264e4df7a5273b9f3d7656198a5c3475e10102f38ad91cafaf02ff453c0c4aebaa8694aa72ac9ba97b567984c65549f'
            '94202127610997ebd1e2a45ed4d7ae13b50af0cdd51edbb5dacdb73dbd897e2a417aa8fe7fce12495ef1d6135a382d75835c05573ffbf940e110b2868cd620e3'
            '5be194b2efce09fee2327945840ae2eefc3425af3a7e62510c7d625de7eb72109f274672ad6ef08ae83c48ada91ca3e1d208aedb3b72237285f2cb1d2baeb39b'
            'd7b977a53643334450e2570dafb51461f7b0acb2ac3dedc4405ee497d6de5a85e71238258218ff7a8f9220ac2d18198b67be316733dd3b2ea866a933cb20cd72'
            '2bd7f08a128415df5ec45e89797b884a4c61f628698399d6e48a093d3c8ae20bcbb2093a4f693a7cd2d2a7014839352a5f326bdc485beb53aad45cf2a9691722'
            '0c4690a5c79cb8bba5894d28281eb8a06087ce152d6e136df7bdcdc0f7b98ab6b7cd599d331c85212a3093dddf113fa42534af4ddac2c644fa84da84dd60fd7c'
            '3d8d386db468add905098a2eb7f36d0172e718dde1ec7b58948cf2673dabd6a98cbd87f8e7987227a23b9aa164a3aed287f9e765d0725a45320b8998a392f93f'
            'bc58aa0310dbc5e85b799fe9b460b80019ac23800357227a17553ce269bf3a0c90cd70ecaff2a77b0d19dd870a0ecd42d64a6163177737e0e536211fdd158cbe'
            '41347d76b34b393a3f5e736410b935df0af75f292bde410bb6e12e3175755de712d5c6cecb9dddd470e03c58d7babbcebe2c5d7a49173bfbfbe3c1fa4becab58'
            'e5f93e1e444ef41c5b10768a37382e754426d7d764b78453ee97f4627d95c170ec4df9569669885034cf9ee03b9ddfd0647c54cc8c05cdaa2e7d99ac80c03d67'
            '4428c9e4db61e32d5a7cacd05d3da8d17b9604c51af6c8eff7212ecfd11e25f2c2b258c067f844666b95632239676bd3b80b9a2f352f901b5baf300482c60876'
            'cfcb11e63c9d7e48fdfa17e6a4befbb087308b84a971edc0edd92a59a5b69d31f395a02eff433ebf6a8c8168d52e7da995e69df95e149878c4cbb50b38ae739c'
            '4cfe3e4ca8a0d872862cca31da35ed11370de4297702661ef35850b2d30888d9013b6792ddf045299eb39bd296dae12a06be29fd5e3dba612bc754644a0dd3f9'
            'ebb4a9c84401fd91d3bfaad88c5bff23b651735a1f54665f28618054c0259c2b925fb6d5f32a3e577864b083aa413809bdf1d8589afa2d558480c5790dba4af8'
            '8ddd5f311c5c43de454a8dd80ea45dd76ecb01b5b27fb787d47ab807b294f4d2fe1932d9dba7bf724af8afc63d9fc958cb8a0701b1bbf33a3978ceffb553924e'
            '8ee82b6013e2274bc3ed836e8fa9d1a361a686ca6f973cdd9ddda3b53a825b39a3cec4bd0e4da78440c952bc163d5c57918d220b3d1e034d8f42d374953dd175'
            '7fd1615f1bb76631758a379a850382e8581198556814f5e2f67af81f571e65e05568837f58e67180c3f0ff748182f07e33b2dd6687799269cc77b3b795df9a59'
            'b881bc5b0e3a035831577ab16a1f75838753779478b67a014beee47e50f6e5df4d4b7b16471bb281ecabeca15c1e4a2dfdcc02bcf37e9e5b438d9b4ea334ff8f'
            '540558dac9ea713e54062d0328ef77016730153b9c6a564a4972f7a5a01da3203529a69e9e02343c687d0ac201dcc957257bf1ff44d5c99b51a609b3969cb8a0'
            '510f3718db4680b0230156dc50bd73ca63a215f49438aec415871b065abd04629191c939c3364f42ec582e8b3a0aa635314eebc4b66da2cabca83f9c462631ea'
            '206b9efe274a987787088ec5bef1466cd2fd7d355515e320c4f80092a7d95d94a2f88e927ab272365b6a5ab57afad86ddc993af1289c58b04ae0e0115b22fe64'
            '772eac713c0330979ab3b813fbccc48976ab819a7e0c7c704412a7b52d38705469e9a6ab249708e21c4f9e9d5b1d089989692a2e2e92e0f673e54379adee8523'
            '607ce1fe57f1d491ba4e6e92ba6fcec6c88598c27ed4668a6d30be8bf51eff22aa9518084eb2974fc3a99615d053cd10de5ade0baf70b31c6dabf907af94bf3a'
            '5af950e7e71b8529e440af47777a3a008f6a9994b45ae4161ce2ba5548e3a6ae9eab498d6a2e82dafa929f690c1bdad4e8f0ad7ffb3d278665616e8ab031d58b'
            '4afcdfbb4e0c2c021ed65f3810093d3640587294bc3f615470ac155ef72242f7fa390233ab9cf8ffdc7948b7184a70775682548883fd37c574991aa34eefb5e1'
            '6f66f3a97203528b8d43104f9fb8f540b20fbb93798caf377b425ec371768432e34ccd6b44f4aa876d74bbd2041a9c76a8e2a11ffce9398d5795d136b4abc479'
            '07c095310175ba96f664fb0e58507b2267c05f5860229749f322b9a82847e47874b0ba5e7fb34949803edaa897957cefa5d120563961c5f7187085fdaf2e5e33'
            '6be1593aa8fc47010df3e21cb3d8326c3d9153af154d7b2bdeebdfcdbd92fe3b373604a90865781cdb5fccd1085f9666f96d58795daae3a6c3b3df4400b82253'
            'eda65d60956a731c8c576a054c01c7bc4a132e7cc495957cc19e6c4a52b3de902731ab4c38257ec4fb25046e2d573b1d823b7191d97d870b01bedbe423150a69'
            'ab42569fcaf590de151fb6df716764fba02b826aee064adea56bbb1607b1e4488f186e696fa3419aa386b409cf92a6c8f6b625b6270ac819ff28eeaaaacf8c5c'
            'a06df120c82f2ae471f0d0730f1548b2ad07c0235f025506faea2951ba1f5a0f896377a0bb910cc1128e345884325e6f6659cbca92b3cf09e1166ea6c8cf0260'
            '2309b4644871e2d9000bc4f5aac2e050a487a8677e521b9e4786b7f683f5c9a9f15254a131fbb8d1bb1b02188c851720ff4a7e3899cb47d4c88edd99e26a9f4f'
            '7cb56b9958f33e481ba3fe5cceaf9534524163ef40f5164fdc2825d4ad7a8a4cb547f45e20dc3ac05ca72be2d051988f0ce0d2a5e2566abce50496a0a0509ae6'
            '342ecd07a8f5f580e4b505fbb6e72d654a9d4380d8a37922f5936a4305a55627714179f657c71a4224271a2662f93989c2e5849f454243b2455ee7195b0b5db4'
            'c2f8010f59714048d35de76dc32dd35e396060ea6b0e0cdd6862eea76261b5059d03e533a4552c041a9912901c1447cb8403699610ba3fee2a5219dc981769f9'
            '504a7fd39af29ff4ad6796b6157f3274ab25f37f28d9d77a26f9a292428394e386e51dbe1482f05044f7fdf48ced24a837a2ad0c94360887a298a043f23c64a6'
            '19ff8e28daa5fa7bfbe1033df0d7c6893bec943591f4f774c9464f0e1eee70967503d8cb095f7f8782d0332333d861033eda710c9dccbb1bdeb67a51f248b797'
            '1300e82efca6ebeeaaad21d4c954bca3fd2629d19c4c1c517d1b774245ba850f1e38933ba369b295fa5010a1d7ed1c79b81bed86821802e911330df5fd2f1be6'
            '2a1a9bbc2734e47cd9e806f7e2847c7dafd5a35097aa85def0e57b3749b26201a5897808da98bd7147f9749e1b960419dbfb6abee16b179b13bf3816b091f2d2'
            '0abcb78790f77c51229098b5761ef2cbddd6e39cbb77434bbf4955cbb99f743337afbe0f6d9ce0f73d7ce9410bc8fd67ad322f9dd9769c191c945cfd3890106b'
            'e4779967d18a878be9f06cd551cf451730d2dc5dc53d05086c0e19dabcfa8209de3a5aa22626c87e4a3334d3a7ca8c9a089c3816fc1e1898eacfd928767f698e'
            '2597ef95b0748bd877d599913034ce63f29ca9c17772e85e4491b9d17aa31162dc1bf7258ffbfa5f9826b4fb3e45460a0d7eb50f7402cf5927550de2b40d16b8'
            '1dbe91a3f76d0610839929677e136397a30a934dece4cb65d603c7405f8a26b1debaac1b9ef2dcc6a687bb74fe2f7d647bb02d9909f3a4aa487ef91d2e19e0a1'
            '406224668b677e494494185738076919a7e5b7810a5b05069bdc151c770a8c6ee47caf7661c888169c6a2f256b17627133fa5c97c3d2b9ebb53248cb7338b4ed'
            '0a1c193c6725ef099006ecad682f8a3dafa5ef990a2f0aa8770ead14c247c72f4fba37a5dbed72719de4d454cf8c1470f15eff2fd9111f021ee0f7ff1da334c5'
            'c5faf7abec06788badc9400cb1fe8a60a1a547c06e1435deb226f2b410d7b2b519b9e1118e7f8deccecdbea8dd442094b1765b5e8702b844966efe8a6883c17c'
            'b0910f02e2d62398c698769a655aa9b740758fcdcca87672144892af6941ed0a0838ca798cdc41a03a011de45fc4f1fd530f67a6f880b16bf231bedd7fdfe417'
            '5dc20e5fe7b089ee8f609b9be91c2cccb28d52a18bf8d13807946d464120047afc94c6082e01e087249b25adff63d0a7bd2b858152ab23fb80ef68c95eaeede5'
            '5d92518b27988cf0b58658d2874f834b55a3e7f7c0194f2d2dd10e5f09aad468312cbed4028ce29cec52c9c3a7aee06e66566c1b31865a858f4be1f5d6ba8602'
            '93f8a43f2d3c2fb2ae2abe2da34e36b01b63face73be3c4862e58627dfb93759ae48b48089fb2ea039ee98b7bbffbbc16e45c5ce381d0c20268645ca5441b245'
            '10b4a80e64ce6e53daf73fcd842e2cc333ff55c92ebff06d66ec8beb3ed7c10f529496bda8d6be34f9c41317b2e46f1bd1b71e4fc2f4fbc8872a43d1e9725559'
            '6974e68e685981362abc2c81a2dbcd42b06624448beb1d58856d7c1d09eca3a3cb3d171abda94a9471c0b81c182d5c75c016c713155eee048ef9c5e1e9996d71'
            'a07aed72aeba6ac7d53e61a1ae6ad082aa1362c5568a69b49da9a8d1821c1443e95a41e3363dca2f68592970ba030be025f6696a77693267787cb424d24c7c0c'
            '9341a154a8272393805901d062b67c1b7f22f9cb75ce92dbd7434ba7c3797ad28796f683083b970878c0f8bcb1e778e40609bbaf09ed9ae03472243db1a8cf2d'
            '1db97f9a591e730812cd0455c1be22973e73e14501351c27b2f6f6297a09ac04f3d4aaa109feadaede1462913f0814bdbf476a1826fa8aa52484fbd1e743376b'
            '5225b497b507189509511981101d168100da2ffe8ad48b1de00b1ce7c36637fc2cd74057648d452725b09435fe27c86740c5dfe96f831ad68210c9e35c7a2846'
            'e659a6b17dadc463bdd16a6d26c92ab00244dc691c837ec7857f8ed79e5c375f8f3f859bc18bcc909f9a5d1de515a18caf6dbe9445c33349560d865713a1f397'
            'ac7bd63c4f34f80c3f1d539e6219eed7189caf8722b75532bd7ef3c4aa869f7ffe54523dfcfc7d39e9ef2cfbb4a02cd6b6018e8bb8b488c86d421bfe61581418'
            'cbf98e8933e3fea1ed81b0dab69d347d77c397d4fa6c1cdf3e3bc4f5dd95e4ef8f9e361f23d554a5f946092005b5d71acc2084b8d25aa7302309d906e1189719'
            '34ef44fe4d720080e97048ecfe40a79f4e1a11c847d5439ee619734e5fe1df26875f84bf7c1848ad4890dfe4111dd7f600f6e413c4323686692b717d36c00c7d'
            '3e17b625ac18ccbf00dde90ef3f88475e55459ce7369a8967ff263b07b256bd889bb3f34e5814a279217276285fb80f40b5ea30a85065ca75b2c55845e1dae20'
            '0059a6e717cb2f98fc9299ae1cbef2cfd43a5f500d182180e471f08b8de9ee1eb91e9d4ff4c9319c61ed2516852cbf7dc05fe51ba80a784c7b9ba015aae39d7d'
            '9951ef8ebeaec29738babfd7f435ec52353ad335359642deaf1c0db5ae48de0acea8cdeaea462cfc5faf5e375cab7330cb5a156e04b63afddfafd8f19db3e205'
            '6938f37af15e7be77587bf6c9de9d31f6f88d94c6e8885c2346bfc392e93dffd2973a82dc3b66939e42b48427f0e6191d5ec4cb417c3e177acb25e713e6cacd4'
            'b5856aeb73d17c673256eb76844d31153c266d64eeaae09cbbcd84e121cb8d2b2bce5b46751fbb03f2405d9a218cec358dd839588898844b638dd9de72acf1d2'
            '46dfd8b699616aaad79ef9f1927da1163fb800686afaf69682c75f2c808ae4dcd83d44f9937b80548bb7ee650e0368bca80bdc12f322d1c1279705786b62c499'
            'ca237c37851d2814af5b6f567576ad88f4bc7dd6cbcc5e9db0c94c641423e8ae5f8b86b75090e705e035fe48150fe5c919ba7a2658f8ed195cc40bf3055c8506'
            '70a7afa70ab9019f28d8dc0b4676636a2db5e4b96748bff1f5e4c830a171498f31550fcd4abe623cf31696eaef7b2986c6e151e4462b2d3ab2a415872e1e71b9'
            '87ef8d0b04b193fc1e2fbca024d40f6cf0d1723aa1c10351f8dce57b39ad3f5889d37e0a8089efd004e76e211f3030147a52c576cffa27b4069140365c7221f9'
            '01e698f08d3c7cddc8840483e10a89ab5da89ad2e58cf5bf803137d23828c4e0c01a0310afbe0f03b589913bb17e94022ecc599b16add7b3afe8efba0dd7ebf6'
            '6865c61d5dbbadaa3512daa3bf12a9314c62676be3d0387d9131df2a3b73c367963c39a7dcca4601ed4674bd08241040d1d90f164e9296100f9e205c8347a7a0'
            '82a078280f0db1031b35cb1ad74e444f194b73ac16c6928be857ec0be572b39d0b545d66b0a3a596e5561a3a35abc17d9cf0558fd5766481a1557db83dfc5441'
            '3a96590aaea2cabbd3be2833e83d7ac8b7dd4d38d45702f9870f41d07b6bee5728a1312a606019c4b22b38d6b98869bd668f39a2f01081008816dee477988d19'
            '83cb47b65d410de24afc826423ae4c9509b43de6bf66ab6312ce64f618b49ab4c512a740bf4f780c2a1c470a545857046073564b740aa90e2eeede2f41be139d'
            '4cd825438c7d01535b1d65710e1881e6d2f85116535661dd8362794a0ba593c6e507361f4e3371abaa0dcbf7f80b624633e8a3f740ba2729b3cc11b6fc7d014d'
            '43e06cc8431198fd451cfaae14adcc457395c02bec8e4018756e84b442f884ff724230cd0e828f36743cb9800e24de8b932ada66e55a5a1c0de7312656bcd229'
            '7ea3e4c7667129dfc4783f77da2d595e044d6623192cb43ba51c0d892f0f082c403c2945c50303ed063cfbf67f68010467e403f0f641dd844252f3bee93a637f'
            '398f817e89afc4119b669ca37415768925e582df603473208cdbc2b254487fbaa39e85821b7215f8733a350dedb5927b0731be4f9910e2d1a259ac331caca6ce'
            'b616553b96c708cf424c5fead1cbb7c959ce125ef768478e0ebe8f6ffd815c5ddf6b40541737557bde5c89ddc85f404841522392bb80e3257fe9edcae0d174e0'
            'f76892da4846770b43dd6ebfc047f536adb0a92b5a9bcbb14ae1c456a2291871eb823115a3f71e999e63088cfad1474a334574a925a3edf36130db9090c2f1e3'
            '3fcee19114e6478d4e2e469c86484863cfbaf81059ddaba81a48631c666d3468ce9f62449f7650ae0094519a11543dc52a26e44e87a052054223905476e6563d'
            'df903d57247b37801382e8f3c8456d955db77ed9d49d91f67ee414d506ebab5275c607ad9376f2e967d079595d134187507f24f3634577f02c188bb8b3d28769')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
