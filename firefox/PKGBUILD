# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=95.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('70db895384def8c6970090a703ff3c79663f095716f9d3346882f00d2f37e7007aeb99b2de119389df6e2a420b2e4e4b177509724974015e1e46e4d09ab70091'
            '551fb9f5c03d9a1e05e02b19fd36cbdf91e02a196f7bec80672efbcf30a109adc8331dbc49cb4e2a0d085c896f713af6c6469d8350f477f47a27b2aff922c7bf'
            '346ae3a1436e6f277a86a0238b166d002cfb9be361d6f59d06c595c4ff48db41c90d6adef4486682d7850522b48abd00e0380461af12727b2d5bc2fb8eb4f637'
            'acae1e417303fcb28c70fff9e8c3d86efcb41b3417d3624a49020bf1310ae5a9900054eda57e4413c8424c193a2b8ab86ebe0d45046c19933a39421a6d37c881'
            '1b15787e4690dff02aa49494e018501c95ba3f5b0c68362a9735682c84ccb8a0b0fc94d919b0b0a15fd8333ead5b13028303c879e972d7d2d3af21c97b64e369'
            '76bfcfc87f92e04aba40af0955425ab261227642e6d3e8cd97f2ab4cc04ec751ba5425ba3facb0d9ce4eda74041058d055bca068bc258f7167a37cc362ad7bd0'
            '727af196fb12673d3a9f59fc34e82fa99a2ed49b92da1023dae2048f0dbe50498261d17243288ff84f3f64470109920d106b1a959476ca5413b5a1efdb768dc9'
            'ebb28844d8f70aeec72ab4262fc8bb53497f4293b97ae2e58c9a950644f4e145316064214e65af85e5f7f17de42bb1fb1de175677437ee7006e6b468a506272c'
            '186ec20af2bf495200d48e8f367a7cfd01a9da3ecc7019675b9f66bf071e660b9d79e98bec59ee02074168676fb303546723231c29b44e4f2bfd9892abeb8406'
            'e56695513a63c2884f11b555da6c4622dad2c8710927310ef2e1e78bb028fb57c1f7ff07580aad01dcc7dbdbfdd1fb876fc09b155a755b640cc94fa76f6d5e41'
            'e6e2c9dacab74359eff56da967548c936f28bbfdbae3f246e45042e4ba1fc650c942b4b41ef08979a5ced64f2a99cee57c443a69d447918587423b496e537b74'
            '892218d00a0f3b08cb540dbc8bf248f93008c0edd190d292153a32c8a4542ad664839fdcb7f371391278eee289815f16949502ab4f1283ea3c7821663b707243'
            '87840b38a07db17f82adf31e37b9527819c27a62453304885772617548dfcb90ef0ce411ed2dc4d3189298e9bf4f8ede0ae7d85d6bdd2f74129d5001a4e21d5c'
            '9676d4af6f7484092d459b726a69e15b29563f5de26406ecbb0458b99a8fcf997607845f6349e26230c292fef0cdd739bda1bc06e674b9e382450afd603789cf'
            '23d01a09ce27cf835b1a08df86304139227f017ac2946be97f203a8074894445792e9c06ccf53ed95842cc9e80a86fc954b718f651609c666b979806908dfa54'
            '46a7736f29465650b19fc7fdfa9ae7ba49ad6212530ff42fb21a04fcc1773bbcabd02da2ab06b87fddcfada57808244666932eb596c978add1ec8da8bec2cf1a'
            '87610b36a440aa73106ff3d198484ff644b82d3d23be56f51ef178ec88e9dd163bde390c87799020b10e803caeb3a5426e2eb51cc8ac27847e988b1ce8bc7f12'
            '32814bb82715ded6204afb409a6ca0a790ee8931e6e10c4697468235dd843660e1899b17e24efe22fa6a5b3274a24df1769453ca0b40c48130e06b9d0a3375db'
            '2e60f80e7bc3594bc14648cd8ca2d6db143bddfb58ffdd425007e278af014fff3c87eeccdd7dc3e2be12ae9e3b3176a10dffce453bb4ff7f85d91ee7d3ad93f4'
            '06bafe2c5775bd4e3ffaaaac0670ad0e26c96ab1c111bc6e5edfd839ef4cb203924aac1a295152f59a61765b2d63ac5564a35497de7ee1a105ada242d7ef42ba'
            '79926906f8f965424a1bc169869c835d386bbc5b09008bda013e1e0a0e9019b81fa265422d5a6f667e2a5cfaf6dc9aab6304a799bd852cd3f5fa16e5cb9c055b'
            '279bd4845fe0112c1408a1684c17788d0c10ecd933189009e0a5d7e78557415d9e6ce73136e9d2c08aeba60a3cffdd79799c869b12bf2bb60d29f6fa51981704'
            'ce05b73d2170b6323a1d3b1fbe1e2b29a898cbac8c304886e1f620a2ac3a473bfd20247e76261e674e1a36b392fd1f52ef409acf1fab3adb4ad1751552b79297'
            'a5ae714a4a0f8e4429bcbfeef23bf10ea587c36bd03c3b53ca82b87d2809e2d9453fb386e9fe41b82e2ba3e747a0742601bd067ced0f399f1f845ac772b1dd36'
            '8e47dbd945329c19d471cf896314066f4e6d3561eb4774027a5f0633b56b0c5f7bf3d4342086d58c61b75ce850b6b5147c5492699283a112330371b68e932533'
            '20e6c6463df0738ba0c99abe8e0ba8f50207153dff69caa58addd5e705408f2d5e70173cdd7044cf098fddbd614686b980bc39f96c5ebe39396e820176a0c364'
            '4c358e45f859d8c4c0f2a4852e6545cc2fd0d01bf2ca629db643202fd5958efbccc48c4b9ff28f37a5052257e45c28761028898c306b9a81e98d7a88dde85fc0'
            '68f6090a698cc290f2cbe45d5346d706902ae41ce839ce2e1e73db5b2705fb3f70ab1384b0529e2ab2bd20aa2aac425ac40284028bde4e9b535559427deb3b8b'
            '3283b0c15b22c31d3558c15c6448bc0fac3df2ed7d5085e31b86a682becee3f636b3f45665e1f55cb3ad569bd6b5c7ba47fc7010e5ca639a5c721b98689a5e1e'
            '688637b0aa911a5cfd4054659449ecb24cfecd1ac7b2bb4e99d49c2c1077b473419cf4d44fcd532f6d8dad6b69fd18e8cf7ce69aa14fa90a0d60e99c76e60c8e'
            '1198626f7686359794907dec80c1772a8b1755bc46e84d953e835c35ba41fb3f66ea4bc85b92ad07e364583e8d3b290c60afeb80128e8a9421a879f6a826bd63'
            'aeb404627ce3169e3e24ab3ffc15682c3524b39f0132d1249e84abf305d6c488c709c2425c2409d3aec19c42d9ea3f48b9f74b8ca51eddbebd6ed701c39e5bba'
            'b3ad7c506b9fb1a34bf1fd7d48982bbfbe6a5a0002fca3c7218ea55ca24b11aa5f75940d1f8f9490460b1266f5cd28901ef6d3be07f8c8cbbd65e3e6b3804b7e'
            'a6a48e1d5bae2d41ee73587e7e79b98415d61167c2c119079e5c6803c4619965445c5913139f420554ca537f2675d6eaf34669a9e1a58e61e5dc9907d8ab42b9'
            'c3fe187f56ea1390c4dcd0f0776c7dc8f5d0463621af185401b3ef3912f78d6ae7ee1b227093b2c68cdd304bdae9bd944017f00a429ec59d3ee591d55d82d7c9'
            'd42354fadace36cb3eb40f18f1fc44cf8ffbdde3d69dbfd215b0dec0b4eb3e809a0eda212575c649d5d052c23b7145dc8b37f09103122f928b6be77a58922105'
            '159ef08e8b271c18d237d50157c3626e6fda291f355fc015f16baa407e11ff664b7e9b52a4e26ba8e0cba68ee2a1fc2832ebf7d43506bae4457ea8064a8be3e2'
            'b4d447b813cff0b394a1f93a4f8c17cc2a1369872e506ae868b5131264e0c51f262da2c48eff76b6a3e591a4248efdcadbae53e6d5043bf077e1e5194c2a767b'
            '65377280d2da2647585ee254b4f60a7eb06794f09060fa7eaaa0f4eb1df86409c338f6c8b000a5d9472b355701efa4df2edf3358b5ef146f928098f5a8f8e3ab'
            'bdd7e22210fda6ba1aaac0bc2eb93f137bbc99fcb3c6ac18e822f25956b0eff1acdc407181d7e0e077c59cdedb912e8280d6ceb546553a5bebfff291a24d7fa2'
            '317d7f8028be22805708623047e2fe3d7e95ff82c6e02dbe9f3b5a57d12fb5bb91af0aa9af9f82ba64bca737a7fdcfc6022438b15fabcd1d5b1d860661ac0946'
            '918900356296c9a62d6e9b9bdd38dce19b88571f23917879af49a8eea60bf5b836aee3b81a3e629d7b4471a75e2e7c97db67cddf9ceab90d7bfa6465fd2a6391'
            '39b605fe5c6e91d1c5e0768acccc05fb22fbe340fd235822fbe25be04dbdc0d6bb0e3915ef7983d3b079baed88a527de3ea307f9fc1de5a0b7ed6d7f68110b5f'
            '77389343ae828186e7dc4ec4e34738ee2e09920ad5e3090fdb94f57639d3b35d21e587102fbb74c5dc05805c7b69785292d298cf102c3e7b581c229387777cf6'
            'dc99c334cd3808c96be797c732507884592881defeee75012254a934616c564f1a77f306fd3bbc5852c71a5f2e6244212353e7c3d62cd0bdbbd7ee4102e87fd7'
            '149c14be3a22be6b18fb352336f11af2213ea5f3ca84c8dff2a9bf902c03364ca013a510de9841ca16486e2de2b007209ab34a9163ff1a5ee203d694015aa752'
            '8518abc97346f90b75978cb3a48522f3b072a79f5d589ff5566b9836f3918bf834390f7ae30a881533167dc139f26ac3723e128968b93bbae4f34ef93e2684fa'
            '492b7617951d24acd00b1ab28453f35f2cf88722dd97105fc09d1287566cd27a1822eb4d3bfb953e5d1285cdc7bd7cde9c74e58deb0206db3e9c107308de66a2'
            '83f72af2c7457f0555cd9a06212e44846867698c813daf72c190bd8bd311cee4565c254e981a848cb5359fc945f0e730bd5168cf8fc763a430521e47102ef538'
            'd6301e73b43e01584dea2250a45fa10a2b131fdaaa82988a43a070763c347647e7d4649afc54390c517c879a652a77394910057ae569aad62a9133859a5b060c'
            '5c81581b251f8772f39dd9084798e4ee260fc2145224a16afbb4f2568a7482ee3cdc46779db3436e1345ba39bc4fe63aa6705994f2f0cdb0dd633b88594722b3'
            '7daca5ec67a72d3ea71cf234feba68f1d8abfd849b252d0fdee4e8782884f78ba6d4fb31fd0039ae05720be1e56e92b6012447afe991cdebb113078340d78d18'
            '3a43d89333a34a346a94e65faafd296e18266d6a3617ad8b7e1f4599886d1f053855e0995f19ccf8965afc88c22898cd8a7da02017b6059904a23a9ae2773c4b'
            '8f9bcfc33aeda142674fcc6bdcbda9ddc5d8f6978f75ba2abd0f5501c25f79c67044ace25ce4eb2bf438d72f5f243af1994e1cc33fd4eef2843f9be204cb9c5a'
            'cd73493d0a15186192e5ff433f6a007fdb49529791bff044facbe9e5344116c496de5f0da74be661614a068964a967784eb786e4d59f49dd6e0490efffe36557'
            'efdfaa7b197015cdce00c6837eedc776ed53120ef8fc95547aee6118a7bd4a2131fe8e0383fe0940f653241c50a307f5abaefba7b11335ad62dae0c0aed6f780'
            'e62728ac977a598486e181b936a0bad4c61f6a842e06fa07e615015ded640035e92dedd8dd4e8ad0f141b60e4b61263747d6d657b987e11f7eee6948007b1b92'
            '58621fa4487d76dda0335ddf76eaa98c2fc61b5c37f3445d83472acd0623bc1370efca5a13d26ad18ea1aba5f437aa623977804ee5bb1d41c76957411fa64d4a'
            '0ad2699fa1d96833b8d20428a420a95cb1ba096d195562dd351be74eb6ef1bb37e8b3b1838e38a6f6e4b19e3a1f0af427e1fbc31d8e83974243fc6e40e692845'
            '513abc915c526048f4cbcdd9e33f7c10636ecb52a38660f994c5f1d5bc4f8b759304711fdcbb26325f7853f83e75be147bfbb27608b96b3437e6761132f488a3'
            'c1101737b19b663d08c64544a50c5f75b2e134f287fc1cf53df29401847c61cbd2951c321a1d3e81b724dc594575a1351bf3c1571cdf86aa894cf58a5cd1b16e'
            '7e1151e19ee75b81cac6c36f00278981c0f4dd12322b5c8d465811d0931b89d9d6bf012fb43b4943e4b67db0015fa3fa5ac84e792c3a4934efba3c2bf389fbc7'
            '4ab9e64a1fba744a55b5ac7ec3a614bb6271af4693d806ef2f57724c561423e3f8e6ff0ba162e2c5deacc3d65a58d806dffdeeb8a29aca6f391309c3a5233771'
            '6273fe3f2b686aa80b88d5dc64e07617eb28b1e0a2de962c4eb77ab730cce0ae49af97f33520bbfeaece34afd7163f7d7b6891159360af66829f27aa3aa37981'
            'fdffe4140d38237789c7cdd43e39aaa0e1e411a62d398f792a19724874ee5ccb56de0401b804ce07fc15e9b502d0ad6d3e8b77f1f63ca6daab9cc2399586b94d'
            'a199a137a39d56563e5284548fd9012abcc57234570d3eca5fbd648bbccf352cfbbb6671d6c0b16b23b655a26cbbb366318e9b370f6a9b5348630183ee7f1b04'
            '8ab172cce511c74edc101880825d447c7f86ec2e8b076c0206e91c6a3d6ec7ec8438cacd5da94dd572df61f6da51b9619b053727157319b1afcf85547d4017be'
            '2e52326799609e7c1a17f43829b2ffcaff0888b88ed1182c173e32433abb471da7c2bbba1fc237ca2eea73138d954fd38f0614cf055885e175612dc53bcb492f'
            'b97f19e24126047cb51797c2882b2bfb728595206924f9c53ae37bd3ff0cd30e27a88669e4d24f4bd788523358ea650cc792e65a26d6bf8913f5364379fe4332'
            '5d7f2a4440b9697c5b2d9fd2f3c079085420cb2bf1f76e9bac80b8d17f1adfad8b8ab99152c5287efceb22ac26ccccc96ae8f000baf9af7f2f56574f95b8854e'
            'f04772e873dd0bcab39e3641fd14928b230b315f0bb01471fa403a866e4eb222da024fbdb69e85f8655e7ce6c6f41a88a5616d4935527391a95b6665f76000b6'
            'b7c144af35ac65315c9d709e047f5dfb64650eec9ec3ac967e031506f93ef9312ff4c590d474b1aa1e3f0c49e7b18e31c857477f316b5960354d5b5179388c91'
            '881335de74fd0cf83bda0ee7538f68d7f63bf28a7fabcff6ae84ec7d68e0fb428ccb3c7959866776eba6889816e72be3dd00f7516e4bf8447452b96cd4bf58c4'
            'e861aa28696d03231b68ef7820f3b2beb71d8a441e62d6fcb35dffcd05b25f0f20d56206a3de71717029d9f8654a31dd75bb286606dde20ca91a52524a0141bd'
            'e99367f50ff1bfc5a24d114990b619097922375e86ce706fc1390dfa19ebd9c70617d3b61fdf8fc1441a5aee759b2b4b0d1ed976fd9f1bc8971c39d7acc6cced'
            'd87bb24c58f5624cf33cd00c4e35a247a2093159243aa3ae2a77e74bd1b2d773a36894d705665ad5ba14ea014cfda5f068a775a76b9b631909533b5ecdf5dcb6'
            '048bbba2b8506838f6aff171fb1474e2e41c60519fce8096a43740b11081a17230963c558704ecf4476292b2d7cc770ce659ee6a23cd9c78f8302b37093c88b7'
            '86cda28ea4596f07530a8f6d6a2bb3da8ce36f47f5b222eb65cf09a1436fa2de2ad58466b589f734925d5d79d0fb14e23ef2583985e8625d78ae9c3ee05d60ab'
            '5a40505ed8bfc9bbeeefef8cca36f911a7e830a8e386100fcbb72db5c79f9f898f899002d8059f1480df279a26565429304540b33750db3253614a205550c995'
            'ec4f21d61906c70c96ba530d463ba0a2d6d2e893ac68c818152bb695c28d85a5b70a603279ac3b37107bfae85000d664956eadbab472f52297a90986ac00031f'
            'e4623d8373a853d45b7b0fb3b81129099f38532ac8a6048a7202990e59432f769b035ace16be4b228db2a31eca095acb1205627e41a40652feb33456a55be0a0'
            '03f2a58a408bb33c05c8da67508c3244a528dfd4c1763ac8d6f9251e029c79f98075b191ab7937c3bc3f329c7a089d10c64e4361f9028a6d6eab7e47d69da0ba'
            '0e67147bd01929ef9c0bc00893166332cc2043bb9a1e53bc4437625102cc376b4bd9da91373b480198e3f8c8c9eb05a8aa6774657a18946590d240a148de788c'
            '68343edaaaf9ce66267d32545b077affa9eeab5a220bed1f3b08da3db239be8420709006eba56bc1e4e4bf326c08c7ee8f521b6cc6cb4147d11c54a9ec904042'
            'f631df62d197c75ccc645b86e5131c1a3171e755e9009b3b8826fd3e7af90f8d43b974e7079ba6beb5e92c0243773237c16aac17bb559cdf3c4e34929fa68603'
            '664e90e66615d2cea2528d7f3d90d883ad76219ba12147ce0931382e70f85d2f590b31c9bab9f035e1ba279f750e8f165909fa6400fc0d76a713ffa60166ab9f'
            '8da011875792d71cf80107e96f91dcc1a5f4e7725a2e71e1654fea905345b8023566b2eaa896e160e002790164b13bab989c75b7e2407f590e05fbab74a72df5'
            'b955574375fa45a20b55898eebbb1eacf3dee43c55cc3862343b3e21ac9acda9544d9ed116b515e3f0ee8a57c45b553b97f7c68d02ae59794e90df503800130e'
            'b7987b4e2e6ac604c6c69539e543ba2050342e087363aa1650837adcefb97455bb5cc92fefa0553d7152e8b2e03b6c0c22499ddea1c6fcc9e8e7d58f74ebd33e'
            '752c4d3faa0bbd1d189acbd265bee5700825c4c006d5bf5343e3aa96747a4eb50aa3cc714eb0e96206e0a81619189a3a0c877c03d8a7598533711e706fe8066c'
            '5a3192201ec54196f1af306339987631d6bb55b5392f8b3641facbac544d1906bff9d5312bc0b005c259dd2cccccce453a2a910e4a93afd321266e08b929d0d8'
            'de92ac2cfc8c9f2ae90506ea22720b3914a3bb63822b1f6daaf544130eea9055e3d6d498b02ae25c3fddc1e06512c95d5aad0206419582bc8d976c5e058b3d5c'
            '1650c9cc066303ce1c40277f47c06d05e372e0df9dd6c6944549fa3741339ec3c4c4e6ba5b64162997605878d897e518d6d201c2611fa1a9e7152eaf77ff116d'
            '32299a4dbc0a7109f6e520a4cc0d3b69e97737fadc6ca8313fd23b9524971f1f78b5c214a4eb05b2a3705277e4b14a538cc1394b65e00bb5479f9b233cd966c9'
            'd5cc2d8ca356a30af0362659352d76e4b4bc666a03533f371a3637f158cfb28c6aafef76f9fa0b238d5875d00219e5029abe13fad56fd189876ea04f2c204868'
            '304fd402b2be4174a954545c247269f66f716722eae6c3e299dcc8299f0da9b1daa2f637fd3bf2dc0c04218f493a91952f0f3f67d010acca28e969ffbc4cd102'
            '9335a43b2bcd62a8521c04c1698ef021b839b124a20c00ff8a8c3a4b641273fcbab5938b8f207fbc94e26c03a05e4a213f2a43e64814da1114178951068d2c66'
            '006518e8c34db43fc96f371970737751df6a36b95a89172d2934f776c3eda3372cc4fcf674fd81b8a9f4471fe2be7a212a725ea9772dbd0d82b9a1fc56ba75e1'
            '68395d78cb17ad8c9ce7b70e23b5f019bfda25e6aebaaaa615babfafdb715dc3c83cff049ae8b9d6c3520919a8fc46cc606b136276af1e86dfb5e82ba3978e7b')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
