# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=145.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('380c4cd74b73be3ac9584f2af99451927ebb3e4321bd2e42c0dd71ef05acc35c41deeb7ac5d426489b9fd0561123cb08a42f7163aa366c9e40c74448ea9cd2f7'
            'a13b522a7d94c8a89bb501769da1aa34555cb06daf67749158d1d23f743dd6465bf267c63119cebd693bc3466824f7cf68f1b9371e070ec168edd40c2f93ae12'
            'cf4e904bfcf3c25d439b3feadc47af6c21ceb3b8296d4e1678dae88a226bd56465cdd5fc3e1efae77397a4421b87fa2f77d4263fe1b081e6ac28369430004aae'
            '2ec5dd0751bd3d23a2bd9fe3e7e6a4b5157488011daea8bd09603cc673f83e2be5dc99591c83566968ee8dc51df802bf90a1c468de12a11f006b78d0ca877468'
            '570c5b07870a6d64d5fc102e312254a0c1d1c1c13d332e6998123020b8fb63c0fb99a7f1637d7e4893bf412bd8d4e35f76bfcede4568ef2ff7ee68b340cdf3cd'
            'a2e542a0f3fb5f5af42e119d311a04cd78d74cfaf43b42f91552fd81084804fa73f71b2fc6f7a7d7feea3b9082eb8002e430e5da9cd59d53c9df30ec67565fa7'
            'a31df3b838545a9aebf1f2678114eb0cc9d955faa9f7f2fc2942977af0ace4d4807169bfbfbc47c74b0c671a875c26434e5841585aa56eb9407aec8c058687fe'
            'efad69888273c603146e59616337ef2bf5cd47372f78120cb94c7cc1b277ba9d392194991a9a93a7ce80fd52ea6e10c656ec67eb963a3f6c75034f222168d8ab'
            '3e455b8e364d31049faa5bbf5a41341c975d291e45c4bb95ccefc100574e8aad8ebc23245614f628f9d2226d4ffd3a574d768458f0fcf2ac231430a72f838795'
            '4946e78e51162b37aac16de72b0fbc860399f1b02016fe6a3156541032c4b9ac83a0c153bdb5108054e110e8d2b6024b96573ad9269fa56003311bf00f09ae20'
            '409a39d3f76d9c5961729e337b299f305a8a18160dfa3df7228f41f3e5954dd2cfc3415eee1f6ed4c63bcc2157f2c6cd567cacf2dd4e55d2bfc7f3be08fe7577'
            '8f1b775cfa0ec4b876adde8fbff5a93cca1c12fa702d976e5e6cef9021cbf9d27e539925d4ce332c12697ef41650ec6cefe1327779193528df991c1704c3add9'
            '37bb692512e314bbdddfceb14b50c724d7177122c75d2283e0b850291cddd7b091446008ed5003a29c5a499db0f6e1b62db43aa6cfcc4d7f14f257ed9e559192'
            '9733dc720f2f22feb431a7e77ecad300370654afa2156f16d75417ccaa8af5c5b9f46ac27a9c16f69f0e4ea42bb960bc7651dad2b6762994be8c13767b285913'
            '2c7bd13634d77d2b47a680037f06fd3664e8ba0d8829f1a1a571893bc18b6fd95ce1da2136bee298d8acb47f149d18c7e64eec0c5dd49ab7615e473c1c8351e3'
            'f36a0ae13ada5d0ebd57c9d583cbc30dab7b09ae439d8aca8f56ff874d9b86e5cff1c63da04c5403d2a1b222ec5850a5645add5057ff777e2aeb45cdf0457512'
            '1acec68e24a832c28277f4bd7f1201a719f129834eb9a27dbab1afa245230797fb64bb3b070343ecbfedaba0e0cf17f543854653725cdfabc7fd97f0ae95d9db'
            '8ac5de36d3dc83b0e841741177d5e6fdff54acd61c4fa3692e5c84221c0baa170c877428a83a246e786514fe1870437297b4cbbc5a37c13008c5f49c4061d3dc'
            '6e68226f8f2a94f55ec9ac025881c4f950d8ac167285bcc4a6cae22a94398838c48c9acd60962ae5edc6dceeac6a60a069c5fd1e4099d28764e4ae1d83530940'
            '0bceb3d862a0c5b16924aabbcb109474e2930d3d874c390d785533471facbd9e9c0dce1b81d49cd9a80a8c9450b3c7e6e54fed74758d64f5147e02a4ce292df3'
            'a791f6d3c3de44fde00372f0967ac4a02420bd0bb590250772bc5770dbd09cfc3d538bb834d6639fd4e70835a327b9dd7832e8498f5981a0be8d7a146b2382a7'
            '82cdff9eadf22d883134b2f70db40eedf70882b77970b1440f7bf0e4641029050901ed62465a60d0e2a57ced45fcca67967303f756b2343897ca2ec48824ac8a'
            'fec8c423cb29f011ecb96d18135f18cfef8ad8a0308aff126c41232272513e614ba12cdd0ec2b50d56db84801343bd8a137aa712c51c6fcaaadbcbb420a25cbb'
            'e5ebef77d7ccb318e3614220d06ec73399675a464d186e6bc1fa39ebad3d811b538ce4bce5564fbd8a436e3bb1d192d4aad6371485a8dcef2aad390437a4c751'
            '62be3553bd8ddd41deb4882934405d758858856adaff38c00ebf8497e9e88d64ff480304231f5868a2c6d71d5d4a01c711de51453e9f9c8eb38e2bca6c89ccbd'
            'b56c91cf1091ef424ecd1434a27ff2bb87bbf3dfc5248a01392c7f607d3bd1dcbcb0193f638fc2b80b56c4e42b8ca31fa304d787cea612c0fd2410f5b92aae61'
            '607c31a4bc3f4b8d8bb71290a98ed93d6ae1a5178c0314c8cfddadbbd41c625da54cf45dcf94d0f8fc37b6eb07614623cb77dd663bb1b3781347565e3c67b457'
            '86086d045a8a776563642e96b3f45fe6bf93b0163e3fd1f90756dbda34c26991cba366808d5e6cf95d43d985be85c4bb05605b6a5eab53b9ae7ad4024701565a'
            '2aa0eabc454f74a90feae4f20eb579db753c952ed5c624996f0064a878a864f8616b7c435bcc4527e6d7d5d7811adead4526670c6753b62fe15db018bc7a6470'
            'e388729306245a7828fd42d04554ab6b49e15bde300850e7503bd1b7d1a163c4dd64c4656bd9253663be8d34dad7745ffeef7d76be3cd410847ccff0992f8df0'
            'c0fa306ca00ae56ad5dba0bd65a4fc0700a9cfc348c7a7a05bcfdc7e0dbec75b41ef055da890f79ba02f40e63401c2d019cde2bf577d7b70e28f7bcc8286542d'
            'd52df3f45bb422825364be240ef02b26e7532e2f32e952cb828213f92c10ee2a95d188059f648ed2216ff19f330ecbf65c88a19e0dc2fd94b141b4a15296c926'
            '937f1414e3b2ce2dcf1246d15880bc81d659f0f83b3cbf97211047c8981321116f45d076cb4901e5ec0ae05ccafb80212f6fa10824fcca9bdcb46f42e7e8629c'
            'be9908b8ef1a9d368a59ff5b6f811e2a0d24f9c00acace1fd5cd2a92b863354a308068490754d2e22b54eae06de45f6cc6953ee6cc5010e540051481eb124fc6'
            '0bc5ec6daf30ae4fdbc3874ddbcbe4b6be301181f726517c7b54f708dc53a08a565f8a5b75ff937fbf67aa92aeb80e9e5aa676c88b0bd16080c782bac35b6350'
            '3685283de3be1fd395289d9adc937f1c9cc5754800dba0803efc04065d251eb531daf658c3530193f7befbf842bc492066ecd6920362a0e4025e3c00890f29f1'
            '398804e3774e6c465ae686dc0eeeacdc9a27540077de8942083d3470b94dae4714de7503b54f66a79ec0080950faa3284c9e8e6bbab08e5607541146a85a1e7d'
            '4cd628d9098215b3fc52e8fe45e5654ee8543599cf338f5aa605a884810841441028b67eb848ef904816292a40ef0993e801e6c2afb6404d57feed0c8d8b3e26'
            '322f7ace15139530f216c9da8205f35cb0217abdfb2c7edfea88c285f12ea30bba05d2569854992f9a828d78e26a9a51da5a15aea47f0ac3b48a6b8f2ee7bf9f'
            '0c763ae54aa9171af189a2579d3072d7b98ca42768d71b8abcff380f797eb3f50a1c8011aedcc7183c21622b7300e5e3f0c9c6e08158ddc2f5713c12e75b701d'
            '69a6b554c6a9c9e3e3470b169c05fa52d837d7e933d4527b3b0c5f4e603b05b32756e16b7281f14174d97d3061aad4b94efec5676892429ce1fdf7ca71f382bf'
            '5a741603fb01013df8d40a93cf9632fbc212a4a253f5a18990ddbc59683ffba5ec693287d952c90078b534d603c42f202a288e19a95b45812a537f62bb5e107d'
            '4abd727801a505d7fa2b601e851f0042b35e6102da21a49a7972955a0d6476203a20dd1b488466519c07962a8e4d7f0647aa10609de5f13cd550dde8b42d204f'
            '8e7cb8bb423b46000b115387a3913172f1e46e33921cca72f285b3e2c722bb15d9cd52295000aaf1334a0668974bf0cf818d5b63c6cf192cf7f3084d5a541824'
            '6c05cd1c6ec79e0704d77ac1219df74e8b731fb750d99b830efbff7618b3c199e215275d1263b4e99431625bd21b434bf23566d470477d7ea13d15707caad0c4'
            '44d03f483ef7da4591bbcb7aff59070bc23bce81565d6eaa1355a8ff7cafb29219904ee9c67b5d56191d6d28bb14ac5675dc207a1cd9bcf86f267b1b99c6322b'
            '64ae567272766e3533eba6ed1fde5afa60001d7ebccd61e5ecd1cf620beaa3d54454e1cd63fed91550435a36497592b69e22e7b79426d5ba2ec761ede1275607'
            'abc0779d645f1557c58225c95e0473eae6617d67482fa266843dfaccbcb072b4d98a5e91889903f0a8e9f3369238b3c408e29791d0899fc7b0c7fe4133dedef8'
            'ed5728670cd6c8e8265ca10bc48b1173a967ed9493b4968294131e1c5a58a02c5bafb197b72f6582a05d4f543d4603cef78f76822f10ee4825d5a2c076bb1cfb'
            'e0a5b402985adf86dd6c58ab38dcdd9bd44395539c4ab579fb3cbf20ab509982e4b908458ce2abdd131b1cf16cd6abfdf15aeb34be5870447765f396bee417a9'
            '51c76ba9c6f3bf1e3ffd07f26f94d54b6d24beb23d0cfb3ae43f1d616cc77777a13f4fcf18a9988398a5dfeb6831732a2bcfb7cee82c9c7a1139f07cd36f35d0'
            'f77d1c05fcd171aaefac1f15be5d768123ddc20744b0a0334979068e22209a95c6580285fc71023732918a7fd8ee36a41a725cd2bd98a9f9741b93cf9f7adc64'
            'dd6780ab48430f3ecc61218c71bb275c366163c56e885e9f7e3431dcc9517b74f48fae15b2dcf2615befbde8cd05a80b6c325b2670cdc6c55613c2c140687348'
            '675413e67a9f7591a24e8b4cd7922cd3952a16145ef6e3b883a3a64e527d05c58929af52a227db96d87adf4daeb8ffb26442793cb785ed46740b86d4612fb5f9'
            'fd13775b005301ccc157e177625d2ead81890cd4a454a10f3c7749bb209f501553791119a08d3e3e250b5ebb6803c912c95cdbf7a1213084fdd44299cc3e383f'
            'af5e394cec3c1a0f6962cc9f38ead19cc746023689e5f009a978942ae7362e72a2a68b46aa47dab7b593792aeae00130e146d1eee4f7b4b3c481356ab65936fe'
            '011309629889857811d068f8d21ab41596a4fa685706908815de8a4ff2b35232798d2bab3735b26c5e65ef352a7517bf02d9fe879f7657ebca823a28efee3760'
            'bd6887c334cde2a56c1681ebe1eeae326fe09e80a0afc6918b219dd10da3a146af55d8d218637607108a582c8d7af21994164a892a9bf62e953095510b4936f9'
            '6890b454999b2135bbfd919d8145d6f1ef211903b694d6e40f9daac7551fd6e9c56dc76aaf1aa6d694c70ca0bd7654ee32fc56494ff7c049a43ca42a59743062'
            '6c22b0717aaae6bf37a0b80619ca46664ebb3135c7dd33c5ef53e01f97f053fc2e88e62954811378c04f5d37d2718b56567b6e2e372500fee789a19510225fe2'
            'f1fa554e31bdb1dd327bc60b8d8a217e31966be1b8a9db7a8891167489e6d6aeca05b64a948ea59e7738508a1b8f9bc0ff2a990bd02e9339198b5cf2e0f5e777'
            'b29761cddafa7c20294d5d068ff3bb97868f1dfb03c5c85234ba6f057d501ac4d29606f8c88434ccc833502f05d76d9ac8f84db947a71fd40b76c875294e5d28'
            '9e1bc99880f5b7467ff78c3af67fe7606a5e53c94023b17e64add302772d1fd07dea020e152601e1323a6dcdc284be4f3649eaeaf9e1d91c92a4e208c6b3b72c'
            'e8e4e4873e29fe63aa920ca28bfeb0ece739bc989a95d54817ef128cb05a34c837b214b0d8fa37481aa1fc8e23d1d19ec17684b12824072579e35f37371aba8f'
            '235c7c1f9f932d37421c1d21c0ed5a1a8eb9fef22ddb551487ad563eb4bd3982780337c30d70fa105514a6a194c4943c4ffff35bd9738f3368c62a3177ac87d4'
            'd959a3fb2b9155cc74cbe812e7d1123694dd8e5ae1e7d6bbf99a5103ee6ba864a86966a2b9e0055b5adadbb56310ffbec0006e1609795d22c03b86450e88263b'
            'ecf83accd81b6bef670bd8e26e5cd84e7245ac8d074970368627b08fb712ecabb6f68671959076d879273b28bc385cd4626f7fc6cd972fa5aa2fe13bfa7d4672'
            'c6179c050b6e69d9cd9be80bd4fac4a7bd84a4a6b59e53444770baefccb8f73aaacd315c3f4a38b67aa76b55f433d3efa3ed79224e36bc5fef1995c59d485647'
            '002e8b4e898f921a9fff4316447302c6384b00fe3049750a3772f2491019e3531569eb4f953fab8f531813f4fc5af9df36bcc4dd7204bf4cc04af67b852ed821'
            'efe2128a48d499e065f2158de07b920a0e0b1473042d176b7908a3c357533de41e9481663b2918ca61651988cae076547c6ee0bcfe86a2978704dd594eae9aea'
            '05c0379744a797c16e6b1f547ac8a95883aeae1baa24896f536f2045fcee782e7c2c7389439cfb02a07c644dd86dc97dff81b43042c2efbf221c8a7488750d84'
            'f2082dbeee98d1584d7bf9f15f68fed6a10184407646d67ddf60280548e382fa2905e02186785eba97392a422e7254940aa3492a908b4a44d5a0cde34f383cfe'
            'dab447f014d229a5bea5027b24f9d32458d0b16eff62e4eef1c70e417f64b821281e5f45b4d394a217a8c41c219d26b793b0b289b00d46353875ac4540ccf8c0'
            '69ae26c93c1615c63538cb5881bb2e5367c5b8dc851be3e17ef5638ea3af351408cad4ba2c6a090baa0f6910433e81eb5c743c1051910277f14c78f4f9c329ce'
            '80fa2139a03e8aecc1aea351d5977017ce5696f18f9578e633195cef3d7476516b110b9bf1c5a61cebf8be056e9369ad9f1245732872bb7e39efb1b88c5a8b08'
            '9a04a2b5ddf530d634f6cbf46dfd6b921fda91754a83a9b8e09eb8ff3c0e80d43141b2a9f29d6c97ff539d703fca5c5101ba1fab520b1a5eff7996c2512f9af5'
            '165e540760a2d8ac6b4b0a7394d6adc12eee24ab5d87f12c5dcc3bfc6e3ec0e2be42ca4c8195ae6d2aa47614c7ec2c8b08470add2aecfac257c5e8aa7d3b7c53'
            '03d4202c83b702dc8253583d199db27253f46b157818de9e46cbc4cb4e2ad0950a7d4fcb663f58ac388f830e45dc8b4f11da66ba48f0f7e16e4be0723f7733da'
            '9032370c2df7919c1719a649103041996e7febbe79986069a569271529390a80ba42489e1f4779e3a2057c7352f0ae0872a2df7fefb805c6c6da1ae1af4d7192'
            '97d1802d6bd08e9c3b1249ecb0d018121870442c652c7b05a624e374fa6acac1f67552816d2bc5c5e3cb81bb17c1cae9cef27f91aaed8428ef79606aa2532836'
            'd268e74b00b5061e8b2ad20859d16c75722b1ca3124c2b2851918674d8b21df51cd16a3c5fcf68e296bd49f726e8616bbd1f8eb4d024e49937325a23f977dac6'
            '603b23e5c342a272bab85d64ed40627d7005db415c39c3f2e9aacd166c039322716c9df4028bddd76e5cf1322ae38af830547c475a9f45bfaf5d367645b84f0c'
            '1c37af5702aa095d8f188ed6ad2c3f883dc2864612f608ef9aa5797a1e2ab4ecf0a858775cb5f366b699b02be64031984ed66fb25932a6cd307b2bf31e5ec067'
            '57d0abd1c56e2aaf7022e78e0f301562c273919c75d85af6281a46a90ef1ffddfe2803be4ef0f2ff11c29f8f414984f41be0693d45ba8226cbf4dbf4e274e184'
            '76ed64ed8cb1b738248a90181edcf1a7e525f9550d02a049632105f453fd482120f1100ebf2435477968673d34946dfdf8e645c51543c8c4ac87b0c166d0f0dc'
            'be3a794b81fbec669c636e906998ebc2116247769b510a384afebe72302a359537f153afdff88ed505b0a2954a5645a650a1a383359c2202f06dab7c6badb2ce'
            '454cbf17010396afb65027b26b7050dce5f538c023e37367e608902acebb1cb70b6ffbb60af270c0f9dc59c726c1519e2c34d96c9307c4eda10d87ecb1de1a28'
            '3634426c555ec76b68e1f31f85cd831bcfeeaa6314fd92226836dd6302885c27f509d3c4a13cc5cd9726d714cae56b1cbf5f991a9afb637ded10636c1b5a9c7a'
            '8ab120883de2d7563ea74ff56f0b6e28aa369a129228395fec5a0d25d07d0c2f8ecbc94912738c291c4097663647e2d19978f22a196eac8ccada7a986bacf3ca'
            '2abb57ea969408d0297640e44338fc94250fbc381f38a718d9c9345020c30525c6783118dd12835887d42e4e599b50e6b100a41ad274a3980f52641f6437337f'
            '5772900e33357f3da0c41642e8665128ebfa69f3103b7f3ec63653b815f5e7d9b68baf3f4207143bd17c8723a4ddb89e0c678f6c8080d5b4f6df1b11a4c920ee'
            '9139962069d036496900bdaea64e31a664f57bf883b4d51f15dda923dd68a4f769dc6a91e4b1922a3900be44b2ed3e93e0ad0d57309841cac996a54f21c33170'
            '7d1ffbd5e53fb84e0e28ed77aa124ea1c2a184d7d5dbf6e6ffb13173c2edc7a4a104b607c958b84fc4cc8e7377287cb5d41a615afbcdbe87a0d58ea1c509621f'
            '62565ae915cdc805da5daf9833b2e8d17dfe719dd2e56af502cb5f7026afc413462416f2b1f57c5eb604bd7b2d1ce0b20d7f8eff3cf3ab719f460b04ec57229e'
            'b4b3387fff66a48351b962075efc427ec67e1ced6ef776f6f4f746765181d23cbef702487a10743f9ff5225814b36839efc172f7a362d4b981d33f1153b8256e'
            '2d411f568552ef9b40835a086eab01d3f1942d8f7c0315e689f2eba745551f31fb0c0235f190a0614345c5e73677b906c7c372426c52694177882e2b96a7387b'
            'c57c9584b7124d8c720337389a6bad98647e3f90bd48655f6140cfb5e35112419addc2961f4215016e7000336b2c93bdd4290855aa1a9bca524415f64ba9133a'
            'b80e72419d7fa0539896312a662552fbbe43183d21bf8c0208b4233cf99ed50fd6b58bfe7613255e16ce0637a17873228efcfcc88d5bce490950347c2f4d7272'
            '37b9b32f60312c2750ee0e83675573430fb8be5c643d59f1c0920a1e97a62850fe2cda43ed5df28fb295b96274f54ac03a1bad96fec02f76f26e351a3e598d3f'
            '5e449cb3c229c11eb5478b33200de21cc67a453866624f097cfe6bcbc917f84d4f63b951095ae36d296e9c9862a1b49aa088416b646cb1a6117c1a00322456a3'
            '0f8b834738e832056eb6f401a123d5634e2d0961204894025c1a246a3b5292921ee7710897c9c8809ff2671ae78540c1ac3d7022227c3c82f1e0c3941ce56655'
            'b2a893ae0a673d3c387e1fa582fa7c03f6c0da246b00fd5392011cc774a74c2bf3b640cdc5aa898635da44277bd5a3d937f579952312b7b0388eaa3f9b4e38a2'
            '280843cd22d3c1eecf2c0fa69bcabb56b120231f391865213e34f103fcb81255ed8663408e35aef9b08b70362547c00e658948355938ea4d6ae270008c78e5a3'
            '369f615a0fbde4706193df27f1721a1d33b33d3d5633221c961a89511bc411b19f1d19737019e7b8c4a4cfd743c9c3e54b117818cebd319bf22894214f1dd407')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
