# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=106.0.4
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('76d5fa71834962517970873107f98724711bbcb7f73eb413baea573b2cfc07b0e44a5759b61176c56ad5592e7821eceb89be1aac6390cca029a305ab18b1ef9d'
            'ed934ba28150ce7aaccf1efe1d9de43994a9c0f9f8c40a09e0195f8329327ca81b34ac3ba52070fcf113fdf59a9891534eacb8ef1353ad7e88ae86783b03db9c'
            'b2dc4aedabcb5e38bd09ff96c7ce7b9feb4579207a616f516347c53cd59a06f8fadff27c949e4dfa9bc0f8d8f5e9610bf2d5631f98a15f56fa434adeab9dcd49'
            '91e2ccbb1f42b0e079ac9bae162b23dfe8659927cd92980c3d20a37c2b20da5e46ae8091704e4c65438a48e26dde7be0a374d1ce8fbf8b32c554b2c74d02fcfb'
            '30997287df39fb8816a8a592134dbcc38c043397f9d4051180a37f13d86b9ff6c040c5427917bdcfecda83c376cdc0f6ad2e0423d9d81138f8c41bbb73b22a56'
            '927787fdd74c1646641db34120e3b85beeea7a7366c05de99e185408b46a2abe289d5361b15a654e8724904185d028bf88823ecb2880c8a6d726d70594a810b1'
            'ec4c631deabb8eacca3d52ab26edfb5af8b6c9f90c07a88ed1a90f1d331bec531e68bca321235e3e2fd29f9440e89dd122ed48f45d4c4e195c7b4552faf5a2a9'
            'b533b09ef7a69febdad81a3bdfe55ad60ca263bad97f4600a7b15e3004351272db1d81a6860f6b0f815f0b6180b1a0a923e12e8476985d20e4673ab3d75c0ceb'
            '1f69dec0b6495674dcf57c7f4044ee5888e83e5c21ab1513dc2aa716824521933fed16556b566bf27db5b23b3d05adbc6db4a67a20162137b7f7f045488d15cd'
            'd0a4b73ffc4a80a8883dd6f6a2c75303bdf0e55e65158609e7eeffe63d2ccd2b47de46d424329084a85b2be8ec20721b80d4ba8b8859032647d9d579c3a42275'
            '735875e242c090844242965143519dbe9193d0fed0f720bfb417ef9c42e6d462c16c35b6cae35d59c60a3e0799552c6b982ecff40b0291f6c267d80d389a9d6a'
            'eab7c8625b630586c167421ebf0999b005126f1a6d8072a5007e1d2a2cf03d211bfc82a101fc8db0382a2c36de3ce9603571a9f751b3f2abfd347495d42afd93'
            '481162f530f4f5205b1ac653eacb39230066163d885f1a7796f153ba3969fbf5a2290757c7ddc7d5abf611da7639747f2df8292ee620ae4adae946f301ce15c1'
            '27d2808dbced9e20b78ae15c3a5c7f06554b7851656efd94a99b023d704f6a502f2c70628b672d855a26efbd45ff001c556640b0e1fbdbb2b673680349ecc7ea'
            '269f075b83382458753d6da9f2271fd130d684034f000cd6186259ec6d2cdfd71d5f7476bb56cc7b31d735d67f2f0e3d92e4d52f5569115a2cab8740a03ccd7c'
            '6e8962e145da032bd7510969d6b707f91c7b66930646752e956ed24faaa33f298fccf5c85f2455eca3e12c49c3e16c8409895bee498c39c5cae71f962a6195b5'
            '2123342e16ddfe314e206b1fb1cc20ffaf4f497fb8fa13bab56057f8a104d6e8c804b2ca8161ac40d23891b5b6339865a426c88c264f417952af3d9e28adc24c'
            '597df29a67ff06c94727d2838247ebdb365a360ffd027ab7028332fce20435160dd0abdeb09ec32dc9fa62043b4d87502f6e1d8c241b621e123b6526f0c7583a'
            'cef785b42edfecf8d4aa4dfa20e7a24574fc7492e44779aeff8d39d88f53da9ff7e06dbc962e2c1a2b32bb2800a7d3810e69bd7a4ae54283c4675979fd83d2bd'
            '9c02e0decab2ea350bcb85166c7be4d8dcb47bb512985ee69acbaeab19f6b3f085f126e9d875cb9359512e2f5ec5428d395117d2719b498d551b3709895a26fe'
            'a5773039c274c9418e7c6f09118486fc53ba5ad2e19d28f9f1fa2e795c910d2446151d61421569c03e0b1a84fe7b118cce0b9c256042ac2e9b6ce0448aedd368'
            '2b6fbc4313850de2d2bc24097b12745e205ed3b3bd9fc1d956d21157f32c5050251f9e23292f3b6d29ca20716304c1aa8f36fe5bb054866d9e7f806f653312f0'
            '3a3520c3810a3e09306783d19abb14e695d5b110ae957a4f02a86e3023af5b6581ec458b85d457d99476213f48dc373853cff2999bbc52ea7475a231b75ac49a'
            '4ad5580994f216f9de0f974a8df8cae7a44cd3b6b16f0030a28e675a089ecb3b1fef681c447c2f1db67dcf7d595f551222dc1ea8245d895d3a5b9d03ddf40cde'
            '7680a47c4a705d22e63fe98dbbc4721f5fe7b7cd4d25a852d3a3f30306974f66d28260b2b38623667355e3cb6b7b3779481a1dc481a00b4ff7004367bb4c5fce'
            '8c4a11dc69b96702a02ef98fa3dab96204cc8f68594649ed4bd00cc2fc24c48f65032eeceaf503d2b32b404878f4eafd2acab7b81c322e7614fec1490e136e8a'
            '93bd7b884f8e7e7bcd155b10c8525959083d1269432277c043bd82d6742b439f21069d163d6028a55d26025a422c6063c4b2ca643273e286fe87d573004b287e'
            '7810213aa4043f5598ff783d887eec3024e61833265a0d624055477353584662b7b421da02894d52c38b1dd2a537a26f19ec57d1adca5a55d439995737fb1e10'
            '83f8f4e76bc74e955f13c9135d2437a0586e14d243d60274a0704fba70126d4d35998b2a9941c2bd2ec33e7daf99a9a894d9ad98aa878a8a4fafe6ab79d43b4e'
            'e19fe4706f730d8e9b2261f3690731de02081e027261acb37d3ec6b0dee7d7f2bea4ea4e2879c4373454537febf4633794bf55248d0a1aa91b0ab4eecf3946c1'
            'ddc644814257f3a54e91a777fd416a3ed79e3d91cb132d2988e9e1285f18149b6c31d13e222f42d5ddc97e5ef0fb150da0cca385c5efb8bbd2b4b58c946bb0d9'
            '208af8fa8ead25b1ab252d2315c478629561e8a3a1a2e602657d0b9a37d89891ebe88a7d7953575e39253f068fe4b963c1cc08bd61643f9abfd9cff8e506d0ab'
            'f609ee2be9731500e0d145ccf9829aa2e4d140d91810c50ae7bc8ffe6b4526392eb157fb4632102580e5e406d3a300d6d1511e9930e89fbb690419e9f15e917a'
            '1553630fccbc8d0de70b64eb625aabae26695e15f2d946e196bbe93e389fd37882fe8816fa9051944a5bbd3b396225f1c34d84635f7b511caf73b3e9930a7333'
            '5d4a51436a13f52b00284c31b4a816278d0e6165dcf556d1f6824040b2e5be60347e0fd70e5aa7ff76937226e057736efdbd68fc2be6ac7b7b71522b48499968'
            '731a78ccd1d642e19fb19f4a9e22a636aedb1f9ef969a99b8764393cd8d2a2bafbb178e383b30ef8e9d0a1b8ae3f81fe87938785b9295aea1d0271f8f1e07576'
            '1962b4c2325d2fd781112dcd051f01f59f8cca217081abcfdd01ee211ffc7727fd434838debc44439df67f19e30b3a62f5c349fa94d0ffa5bb343d661bb86697'
            '2ddadda93fe01db9029cbe6dbf4fd67b0f2c3ef66c8dce23350b5dcddd57e702cf51778195c6f0ccca3d2d97a0ebb8586af35d3b53ae284e253a57353e4b3f04'
            'fe4a808c594dc1afdd4ad9e5dc1435ae4de553b44fbf20cfca9ae70a1bd07ea209d3a8c18a4f57012e1a873f8e7e92488a8679309ee4d745b88f680972c3836a'
            '1dfda9c170d87b476876c8a9b0c5b2ea223b5e6ca94ac637c7cf986735160b2e55c5221f523140687bdef6500efb4ac0c4522fe9e2d30694aef39ee0bcac9db6'
            'c4d6daaecf6fd29e8d66a03f9ebc83001b2fc9832a534989e3eb082d7477a684ea1c2d6dc06e1bd985e845ba43da73c17914b5e5d628715e785cdcd3e173b3e2'
            '9334dda0e0a4c949cd8d06f24f5735c993ac85aae802bd3de857315d6ad20881ab375b216fd5e447ec9a6ae07a57cc508d6eb7c36dd48faa7ee850322ce7a5fa'
            '29588391e22b7913a8ca210cbf83d3beb354a2fbc9c7c8ffe98928ba3f7f3c5315b0474b8c3f43b1349a2803cb96f998d20153d9ec99353b9eaf7a2848563463'
            '2fb6f84bc10f5491ba721482e1788353f6329c29e23ac3a4d60bb6b0ade6a46b876d2e6e7f865154dd9602de233c7643130392b833c4d7a5833788c2ab34f5b5'
            '37c0b788f996f9d754f8aed42ae3f849f0ae1889cf9115c45514e2443fa9f463e835cca2f369e1560e96869c558d8a7c5bd826a67cb8fb46ba77fb5522e43f78'
            '0eafda1bb9ece87f65f5abe3d75d86d410874fecd9b0308177f9a73ef5f8708b2133263eea9498ad56b155338e03792716585d0625ddf476ccc6f2cc83e29531'
            'd661d39dabba83a093be790d5a75a5947961d9c66a81c521473d60efcc5a34709c2b4d2a44bb2a80a1ebd1b416c3d767ca69eb0d689326f884370743ca35ca0b'
            '9a663fed0680cf2a5ec248f64690da8ae05bab3572f59ddd2bb26bea44b377bdf980b09ffb70dbc064457cffdcb49b925cf52f42f2b41b6ce145a92bd5829d05'
            '06e403b0e24a1aeb59276b639c34a2ae65d86c620e66ebac12f06d6a855646725b081a47fcdd41152fa4ca1e3a433d6f09f7c7ad3e4b3b8cdc6374a17e76800b'
            '386ee8c9a116b5a0a43932379fd50cd6a2abc1c1146922d76aac499d37f5b020d41f4fdb0963160549e895bd27e70c71b1848b0589e054d85c531db10988c2f5'
            'b538c0c29c64bb371b31078d01efcbb25791fb0285b65735fcc7b6543acb93b6c5e1cc90deb086e10c84a640eb9f0ae374f6c99248a69aecbccaa188f0fbbca6'
            '37e1ef3ae2c61916b924fba1ca254db96c78d50acd3f57208dc001a2202272c55df23eb2c0a8f7c193446fe49e1948d35ce0ed8cfc5adbe09574409bbb9f027c'
            '42a0e2340029d4b3e04befebe9cb7a922b5c6334e5e534fda67fa9980ff0a463147250839f64d0832e0be26f786cbd2ab2539469dd75a6e27b1b312b0390dcf4'
            '671f145b36bfbb5eef7efee213dd6d655ba7c719e129aedd7db95fd0e284c9a3ad98fcf52a39dda351b7ee5ac3489530c20b137053591c34cb392d736649deed'
            'bda20d97a09e4eaee4e8bc367e5253c5374d5f5e36faf92f1f1c241d1ce293a9a2d1547199184e5db165f10644191f4d3908bb3852cdd96827f937d45b68401d'
            'e8aae13899e7c4311758028f64d8d97fa0ac0c0b5cab1b84644bd8d4e6374095789e6d8c6af9cfeed7159999778df364dbc13ad9ac7919a60d0c1ab2a7deebe8'
            'ac9bdfad58241cc72958ade7422e095ad115e63a7f5616650b30168e3958258871b2c388eda4c7667a5b9a032e0b7af3c501d944eb2a31d6b3754fd20cfa67dd'
            'b6a3a34e931c637e9917b71f735a3e87e711cc09251b6f567b96006317b368d160ec3dcce0d13c0fb379e9179d3e4f60fe23a487cad0bf809ed5cc33cb91a3a3'
            '4f92c2aed5efb4c8f42894932d15f0720a9e3d0c0b0ccab727aa207112215f13127cba400ff13b0320821ebdacf8f4d5f44e57cf128a8ecec1a4f04692ee946d'
            'd3a98a50446c153303914ec06698792d2976456ae37486885630820a2617683fa2c335336a358432e5483c35dbc9d4a66871aabfd01648d3516c79c8b2d0170a'
            '6e9caaf32aed9af790a136504260baa458e966b5d4268da97f508c85d7f5ebb92f1473fe164b7248bef0a045b83c2c85fd1c5c5afb793e8bf645af454c522745'
            'a6890a51f670bf3112586f71d7eeef11969ebbeedad8eff7df175d6de8f9afb8f77fcfbdf79990aa740972ed8491ee0c100fa596b075af195f08fe52a99e8508'
            '3f68d79ee0d97bd5480b6d5ab51b45a011f971a478c6d1e58033ec8b2485d96c437709dfe5d8601f4ea0d00c0938eaf1248975882bf6a3f40723edc5906cf42a'
            '02158370c09eb980a8c287768b9d28b443678b86250e774ca87be090d5fe9aef6c1530c32ebfed960d0d8efb5eaee0cb17b1df6895384450148b97e66ffa3919'
            'b0fcc1396a848e51c6f301e98ed906566149e34f05b553558572c00e40eb2d1c2a99b811e968f1b5a1dcd49917fba47275770b247b87afe049e539e7d438a87b'
            '426e4b78111addfea66d102201ee60e53704ee0f56dec5f767a63d41148a8637d7ba8e9223d96d6755979417d8dca6b31ff4b5b10f8e6c87f44a29d253e9c63b'
            '7977763a536224f8d5fcb36f1bf92d1ae62995ac5dad24b716eb38d41ed943f5641f48c73b991802751e3319fac3d102305b7d6a227b950ae2295edf7d098d9b'
            'fd7896055f4ec0737f091257c7329d7bed4f9c6709b312985dd6c24e3e1277e2fe5a5bf6f43097490e0e88ca4114f1e09e25bb63f175156d08d83324941cfed2'
            '509ac7cb7a31c72ff6fc9e648e53d6dc43f60e707e794d79a447be2c62b222b1957e9f6c07a9aebc11cd30624dd7a971415304b182307b1852a8606cea697c57'
            '6f52e9c431fe99de185734a049261d5cb03f16eb68dabbe9c3538dfc529fd02890e7dac306ced61e612b92e3cc3be3956519907fff55ffd8e1f320d7f65275ca'
            '4b718a43e9c63af98d8a6f8d63f7a3be5624b2520157d8dc318829c7228b6741c0ba9ab767b0bcda5a833532f1275b9c59d9f37bd5c6e7e9b7a824172e98492b'
            '98e46a00ba9a8023276aac3eadf22411caf0e0b456938336c72e6dd832d345d62cace63ce91afc607ee787e5f01b15fe9c8956dbad77df751cd5f9387b00b0f8'
            'f443f3ebdf419ab302cf08fd0e2e66ec514dcf43d0cbf0ab90db732b8097c51848f765115286394c2d84a72c458ca2b828be2739302cbdc0e1fba8f567eb4f12'
            '2fed61e2b84ad27a5df9694a5283ac32020dc9a72cce7ebf0797005e8ee302af6803939131275f0e955121964fafabf63e67e8235317c306f2a12425d2868642'
            '145ef28a2ed2382ed07b2c9bc19bc07ed61800c36d7bd995b660b7e2ee696d8d3145000010683bb9a028890cf94a8b7d0fe61ee0fb2b4447bc8b4166ce93cb1c'
            '3c6169e90fd4f53e66cf46e6829e73da23ea5a702523fd46ad7119667937a547e000141dcdb776986a762efb94f87f4671164f8e8cc27da870d9a1bcd9b52897'
            'bccbe2a22be286d73157b347780bfddbe6880b874fc86eee84f00287f31e7d415abf6016bf032772b47558da3a2d1e7d84a6e1facad8b734b92b2b2052d59ab3'
            '531932e4f1a31fff29f96ec0ddc30154f4fc52e1990af51754245528ce0c5c1c7818cb732ed9b37ad8697bc896ef3d00cb85b89f8685c630c69b253353cb82b5'
            'b8948cf43c0ad3106ca2e70a5ee3d0239d38f3c85597db1d21183e739a0f371a3718ef72fea9375fcb44f45d504c1beb9d3379b1bdeecd0d573161d8e8fe9c8a'
            '88937e58e84604ac34ec3978ce12a57fc8196e2aa5f63120df8e03f24c7a0579dbb786e2d2a3a348eba24c9211be634f6a9e446b714222863eaf5c223c505c6a'
            '39f436bccc65c2b4a1bacb42caf76b8fbe556c413c592bb74c850a9be5f71eaf455e2b7e03358fb84d13650acaacc568601e908be8810b726a153d459392d332'
            'f257a4430cd7809a437b31ae8d4847d4d16756917524ab1ff34419d01f06c248525683dd12f52f9c72c40299625958e0e1ae7c3db9439053e09d9d3b3dc5b630'
            '57d372aa9fd6a4a75bbf323e6bfae31e721cf61b185799dafb1d2e0aef3b9c53bff0fd5d6c5623f1fe45550b3f5694e6589b55806dcb89a57af2f8eb6dc119a3'
            '3ca99a17320d34de0ff2e5436543c5aade686b0e5d7662fa951d699b04def61f177236a77a56f6c5ad0e7666b768ab20c2e9decdc8a401f3460974bc4f774875'
            '6655aef13d45a6fc0d17d71fcf90cae3f479c24522013424cf0805c10468179d395ed5610171dc99abbbcfeb39b1ad31fa667cb8a22c25b44de983c5c14f1116'
            'cc4592600e929557af76d549f583cfcad5cc0d0bac4e4f9a72508e8829aac029538bc38e8ae877027a3f70a9898dff11b4c869c9e827e5bffc72acde56e9d29f'
            'cb530e1f4850403e70a032fd2f67c5976bfe4c7f9bf8f1d3b6262aa1a821428610c04e9c14df27829d1e0b7c2d2d45b5806cc030f605b22fdd98962e1a558765'
            'b9637127042c08d59dd65b546474273b4d8db97fbc66865644ab027cac3e8587581db0f539b8cfca3162d9bfcdeca7110fba388bdf08eab4da8183e1b119184a'
            '746dcbf51d0004845befc8f94e68c96c68db4ce2f1e641d16e3bac3ee234f7e1f92d9cbea7d045a179af079326b44ded73fb02ba2a5680839d58f435d6c72346'
            '67022f75f3f2625813ce993c63121223f278c11b03542d0777b457e5b7d40ee746f983bedb57486d4eaa85e18a27dbcd5e3581e0862f662c4bf3af9dbec1cdb3'
            'c507b534bed93a6cf9097e004b79778987105da081624a182ca9fd1e9a7456558588b5f3be9abdcab05768403be80f8d969a97975b82a94df7855ce594ae278a'
            '5b274adc8b97ff7c8ce3e591fd274af20c5e52921aa2587537a06b96a04b28da6f790411a4cb437577fe20e9c0f206bf929354ab2bd3c4c7c022d2a1d3adda42'
            '26bdb7e0c592e97dd36dba8bdb417d920b9990c9e45b452f70039136fd06c7b25255d4e8369b90276a138238598655721bc929c11c30365742d86864f69be0c4'
            'ef3bcd118ce8cda5fb6ced8304e022ceec1c13ae25f1f97bccd34628cfd27b4df4f160737c2b61f535bb7f25995839ef99faab563756e833559fdf97b32c955f'
            'b2aca9f1db6111519d3d8c0279ad7354ab8c4910849ae676ad976d727f1c28a11c277d88387b7a724eaf2b4121cc54d0e0de473779ad8465b5533c089b7b4b9f'
            '6ca73435c1e95902da61e73cad5efb0cc94519c8105d2a8aca9178504861c4d298d82e58f616cd7b14dc2fc6f98cd692306b4d9cc728e7648a1657c214b542f6'
            '60338ac5327fee31bfc29f3ffd6559a6e9b063c4af5714dd9c2d3c9a6ad54279be3720f79527226343510e4fcdaccd07dc0fe5cbb6e699f88c22991e158d1857'
            '8e8a0d09f62163864c8ed476e488b34655a3c544550e295c43d82f0a05ab2c0d54c0b5aa3a4d50d78320fb529a75762ee5f4e34147634cd0bd35084034146502'
            '381e77139467a9c2dc87bfe951d1ff4cd47dfa667683bb4fb2c83b9c4f2a0cab48a3c921c57beba7dc8d0ac49a981f9b8709e8200f55fcee1d65deb006932eb1')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
