# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=147.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('25baf7a0da914062000bb979509926ac5183150f84f2e13f505a6913e0ded95189e4afcfd321ef7025ce1a161cca88d4694f5106dbebd8cfd3a2326dce0b1a32'
            '97e9c4370cd53a5187418009a48557c1143760b07aae922e0acea699a9825410887cfc7d750e55e52cc5fb1627a93d292bfcfdd793bb3b47cf4901fe0c313ed5'
            'ff0bd29d8ffff8ebb4d9e6221b311af154a617ba9314cef552bd5f30ffa31edefed39952252c65366324ace1281780af081bae195d6851db0dc60eedb9513cab'
            '7e91b4fa4cd150485effced72d3694792ef5b967e7f260c62f9e4cc0c866e085c0d1379aada2dc59dc692ae7f8e7c79f3c976d8f850f956d4f3c3214ec9eeeea'
            'f9ab1b06d0a12798e9590d4c6b3d6d812dba213b6b1f0ba6750b7b9aa9e393b242d5e89ac359f251eb2168f8298f324c8088c0d0f00ea33a8c9c53f1ffda6d14'
            '569fcdaad75ed201e5c56f7ee337458fde2c2c1bbe297c4fb63218f7486dda92d3b95b734c9f23f8e038a6bc19c019bded894702d553a7ac1ceff5280b1ce40d'
            '6bc3c87c75380e6328bafa64653cc16c001f741bad0edaae675d6b517fc5e160eca61e0d94d6492a5df4821789e000c44dcbbcb1482f8998ea04f9d5d23b0341'
            'd2fb008754c07ffdfc2a0662339c46b146a0e6afa0ecc86bd85e2b74e58481cce886416eeab68ab1f8790a0ce1dd493d6cfbae49f640be88726a50d7f98ca467'
            '69ea1feaa79cb3704aed28b845a06c2b76bcbca2c10f663bddcff825c14ca96bf84f2f7b7607d591c02405849dcc0d12bddecaac492487408b2943d68d246475'
            'f1a5764619c26b4d724b609a47b7f8d4b2876e4ca8962745689a304e5a455bf071ccfe352e955321f004dbf504d440c2f33487f5edc6eb6c92f23085cb3363e5'
            '559a5a8a0e8119afd7c8730a03b6788ac38865c26d8acb085fd6b22f37000ae5084f6cb0ed2ed7823098dffac0bbab76da7901a57c8620e1110c0ed7f0f14683'
            'ae3d58f1c2a21aad1262cbf15db6b942ddfbed7fe98b4f6d1abee0e954723f914843a7dd16a430e00b77ebe6204c27e6a55a3a0f4836cf43edb00e77762cbbe3'
            '0c3c20cb9c3fb3f8a18db46c612035b274ec727c3a8d133fa6de393c17f7f8480f8ac2064635372bfeeffbc5b69bb99896d25bffecc5744366ce748bfa88e203'
            '6fc72b3166f6421485d7a77ac94efcd89e8bfb55bf4ef2c9d6cc512c5787e033c08527ee21fd85d6ece1437ff12732f1c92fa7a7f98e300ee8b35a4b9cd8827d'
            'fc12921216bf281f01597756fc3fd0099707b62fd2d430030520035b2a8932ba2d60340d14872514ad1b8591325b40f6767238f7a8258591469abb965ab1ebe2'
            'ade563400296e266d91c753207e2d29897dd6dbc806f18251fbe3cdcf941e86acf78e0de4b216a20dc94ddc2c79e49ddf49f2ad29d13cd4d485135cd1e935e2e'
            '5c3e8e51a66fe3f8ccdf0830500159022ce16b11c14a9ff201d425e9e170b99c39a0ef7c3832741a16f2283df51e8309f32ab3ade20c8df0e5e5e666ebf72af3'
            '00b847f872675bbc35c6fb60bf23e686587d3dd5e64384d1fb2c45a41e3f0f4c732f49bfad217d1d2c414778f4625ebadc7760f42a0836d19346422d25e934fe'
            'd0deada850baf3ea02bbfd8b0c0c491e4be109e4a50a13186f0005dd86fecfb867791eaa77c3a9556b9b9bc7247281b43133eb8094f7e8bba729af6d1390bb85'
            'ad0b69686bcca312d75b0aa119b58b165d20f2c089313ebb54f7ad6eb0c02976b2de32fefd3e35b04cfdddbb33278d4f5b448ec7b99c7892199848d6234f666d'
            'a80c6939526d8aa19ffbb781e3a7826d82b241ea2448e897fe497f930276f5cc2bb5a166ea5f5e98d0a36dec08a2476a329455c2fefdfad47f50f37244858d84'
            'b000604465ae6a784338ea7d39eaac9610fc2bac30415c2805f6b6c095626f9936fc5b3717bbfb63d8ec893e60f28b5147f404892439dcc54691ef1281bbfde9'
            '577103c5168b2ddc646e91f25f5972aa1542a2363cd89522efea7109ee7354b1ff37296bec7a03db8f799cabfa9b719bb4677bf9cd28b599b5a8afd353635c21'
            'a5f15387870cfb57dc9f027889e113da11f123fdcc64058401052580e9c95082b26d219b490c0953b7c90146d9f2bb1d64ca3e8333866cc7750737d8f3d52e3a'
            '5cac38ecd1e627b23ef569df9543b8919a8df087a7417c60c56e71633fcee78ad0f3533aa14a15e14dad9799d50618fd5cea6619bc9267a93ae425e7861e9800'
            '78a1794d1ea2d75cad24748bff7279eb0553b618f836d4f33e9253a1ab200f0b590a6e9594a4763bf963455e36e7aed5ba09faaed73ff947dce9c29259d87488'
            'e5cbdbd5e5122f486040b3e13825e68f95fed772cbc7808fd0827e659b5f1cc48d3e609df913f3c0a0436439a135276e51d599f5d3a3c7c28cba27b38d325524'
            '764f7a14dbcbdd2e6bc259612e7c1183973d0a2977edfd64a5129d3c5c7e9f147f02bf380bb3fe453e4c5c02bbfaaf0bb2a6de4b953ddadf0e919c327977c6aa'
            '27dc39acd8c0d278d82acd368181c34442dea27ffa7cdde45d3156c33f8d25316a0d2f447eeaa5cc44530ed89d16b4f3f664fe3f4cccfd913db1688ea31fdf48'
            'd8796af107dc3f3f4c06d48e36e1c11d53867b19777009714a7471852717b6cff695532825f986248626db211eaccf60cb27d3210286a98a9dee63a0eca379eb'
            'facaae29bc396b1bceba7661f6b2563ddd49b35ee2c7ced0853756003b46a4ce1a0f12dc014b25cbb16adf4db3af2d50f93e147d92a68aa6b55cc05553cfaa56'
            '0abc7494fb9463c3b548882cdd8c6ffaf3f7c121ec0fca156d45487ee33db59c1ef1249426a57c23f5e20ebe0d24a19928fde57501a8dcb989ed680cef2d8aa4'
            'dee97f91ce1e588d545abf9b2f0977fa59f060968619e1ca9b5d7cea981aa7b1d49fca93c2c2ad42d6f0c972a581d87bdc0ad4c496fc10970e783cc5d76840ad'
            '34eb3928fd4952f473fb2d7202cb9e6033da5cdb7667e4595161c76974210ec426842af1c653e2ad00f230a3c43752da938daa6664ba534434ed56335e2dca78'
            'e4571f1cc5c15c297fd6c65dc4fba1aa0654fd13af21d348bec72f495d3a4abdb5e182c6f9a4c0ee98a3da97de5745e3d6dea45b973a21feb6bd1a9039d687b3'
            'd022c8d19588efaedb8a0f6ae955450426e974cd8b6b2ef17e2bdfbe4edfe382a47925338b83fd633634d129e779fd98c2f22e7c39889dba13bf1303015ca940'
            'b600ca4ecbaa1d114371059fd207da45e133a2d89baac22eb91e568aa235a1972bfbd3dfa8da91e9475540bdaca0881a483e9026c2285c89f363a3a42a8823b4'
            'f51e758e657b7ba65fb3f66c7c95262bcb242f897aef31362c636874ff91f546be2e7435d34751bb6ac5367d4099a6ae9aebf53a1f04b27f9ca43240a99b03e1'
            '2fc28f20bd368ee54efff57b37f541c0db458374a311d6b8b5dc87aa6f3091f4e93271dc81cf932e4f3e8b0966797319cd13007a0d4af9972c1181cae4ec7554'
            '37f9ab8b7ded8cbb7ddc3d34d2ef2306b378d7e1cd4612ee7ee32442cfd4d0b2e3943129b63b44104a18906d652fd9d30146941a56bda7d5791ab3e1708258fa'
            'a8c3c5b8a2bdb3f426ad54de28b8a78c1fa90213df7cdc0c59b9515973c8df517186a676d8ac660eff2f13de7e393a992cee71a9214c45fa5a3eecbd8d729b66'
            '6a1f197aae0b9f535034cdf91b080c4efe2101a57b13f11f1f64d4b71de568d1bf19a189f63eb3fc934c730cb8ab96b04a5bfed8541b1ba37c1b05486f458c7e'
            'ab6f69113945424e000559f2a06f4897689cab7c217273d97ce536cbea16e78c5ecd5536ddb638a4072c68495339908525014d1d3d6dab034e514da6c146e256'
            '0f92c8e329f8d97ad67194784f78f7fdc1ef9ef2248107931057bbd146a5ae94705b61c4279b5b8eda9975cb132eb83fb286c2066d39a8696aefedfe731d8203'
            '8479314adb654d3f00c80b05c4aaad222a9d4a47c2dd8718ff82c18ff9ce0b3e5bfe01c2fdcd35b20caf96267619bb442cf0f58e3c27a3e75987225640a6796a'
            '12412f559bd15a5fae701112b2218794bb604037ebb2f132bd339f04fad01c851d0c821a520a77d891a15413e8d87a803148767f9c3a8b084f89384bf2918011'
            '82080dac1a3afb2ee98ad3a64fd3f3dc7da0f1b11a449e0943c3ef12aeebfb675092e0781eedd9350549d6df7f8c7e106318ba2d9c1e935da3fbf79eab1e8cd9'
            '0f893ce571a7eb037f7f57fd62e5f7b7539e165f04734b7ef12dbcf5c43a05167f1eb219c1d6091c877a9969d56c04ecbc8a16c03cb5b12728390d479a121254'
            '61e6d88d977f64b0532a01aad31939e9aace82d9fe0cd41f2901f9c1999a6cce708d08a05380d17616bc83fb9c390407709dcb2877608a4895a9b82b71797b62'
            'dbada0412cb97da12149ccc3da06007c59936a2604289d46fd51a89b1cbd2fb21da86c33466e75dd39d00e3885c509ef7f85e934664efce45ac5e15e8a0c12e1'
            'e1a1f460eee5139d84fdeed96de874074a813eb1328ce664be44cd364c3178ab7df98f7db1e0287de8acff63692394b647c630ea544a6e98db3bb9f30c418ad0'
            '59ddd02503d0111bcb4401994d06a75813bb31934f8b73bd0cdf91f62bca25a429fa59fb684093947dfb75f52b2e3f3f66cb800517dedf79bda889ffdfd9aaab'
            '363d8d049692e8835bab40dbc9b58357da908e9147d5201e22668977254549e2bdaf12e04e363eef25cf3bf144aa32160dd60790ac2c51ccdad8a7117c9c563f'
            '6f54ec46cba382dbc1ddded53fc404bbf83555e4a954a367188fbbed3033c889d0aef923a98ac1c5f3109310b1432f0f4fb5231d6ce23d4e72b78b6d70404537'
            '3bdd2aa282d151e25892a1674cb6e9b38c451e1eda346fa1a4a35bb8e3a8177b19b07219d0a30b6a77da2b0f5fdaca94f64242a704f8b3741e9feff8bd1341c5'
            '88e292b55c6ab8d24f3ee3a3a98d0a141f71ddf498c11889a8cf72fbebb0d5aa757186bae1d4ba62bde390b069f464e2446081701f98bbab6f85354cb8ff650b'
            '703511c573dc48a1539c572d26d56a5356724c2292829bc50d20d7e87c267b5b2e53291edcbc10d8caee3fa4ef4f13bb2659f33b8d4c3db1b7176acaa7c8d735'
            'e8b849368db88e4a012f5e92fdd6d2e58bad6fe8b08d8f7989f235dd858978c9782de1c6fc2f768665083d32f0979c87bf68ceff727254301765e3e92e910274'
            'a00cc9b97f61a76ff945d10cb251e9e26cc5450e013cd66e3033dba3c3013fc60955971232d7ba6bf60c554d1836de32ee9f85a4d04f9be868cdc7b6130a2c90'
            '840fe7ddf38b3c9923fe454533d772340ad2c252a9721c41992e27a79115317ac202626e7dd789fe7331f5ef9dec1b81603722331999efd52b751c8872464b77'
            '325db2107d4425a80a35ebd227736a90e640d1968e00a13c4d2788aae8f4b563aa9cb55a2cac0e66e9c67225c9af4f42a1b7c7c9f87402f0e92c4ca28d149a38'
            '906147831e408fc6123b8a484cb5fbf3fcb7ae0f6a3730c11ec9bbd45101a4837391df23beb00cda91041c0cb2d8f0ba6d17a66d552b67e0e2c1166ec9f43876'
            '539b9ecb47ea020e0bc4c929ce5d4189a961eb1e51633b3bd95a6b11a6d6cc4588e8a81e3c0b9b60c3164fa1dcdac2ec293958b45d68b854840a0cb115a1b2ff'
            'a75781620f7b6695f7c747801c7183b48c7f265b3d92fcc53e3e27a0645c6f7028f32020b4e52d8c156c079df556c676bbdbae5169b1fece492c87bdaf8d4030'
            'b8e5dbf5eba9333a03cd5c90fa794c13b0b6ab3be5d57c2aed0d33a0794ac83d40aeceed382a8df9c26f8e6262dfb5c9083511426ee82ccf0f960a4f2b6267a6'
            'ca34106ad0e2232f9527fc3abd8aaf012567e7b14b0653ef68efa75f0bcab9b61a8bab1b0cc5ba9d13121ae0f67b2bbbaa4ee0b7562de0937d8e4b1be79b4f30'
            '3ebe77a8ba712739be6ba30f8211973da263d32f680d71bcde7a9d0e901fd0ae2fd57d4d862809effbe5080532f75b441d4ddc4b120cbfdde28ab02e4cd06b1a'
            '851dc3eba91687062b38674debdd4644510d32cff39c154767731a8ce549b3bdc114b937190001a0e6f5e0e680e0a134363f9148bd5609b4b991bf317b944b54'
            'adf610d8f2eb8ec0423fcd25096fdaf45314d9ed32fd68751ed66223dcd82b4aa596059d6bc93cc7eb1d9b3849a87ccf6d7d6cc5f788e301ee2f7931ecfc721b'
            'b8cd5379acb993ccaa03cfa04b9f955db402a8ebd0f38f6d1c406996cb02a3c772663bb99dd85a3b7585245b7d456194ab7b8ebac1fd92d76ff300a4e3db206c'
            '0aa7649e687a5474e2f507a373cbc8f805f2d0e82e75cf05321e09a44ed44c6ed0a7d8d51091c55620699239a36b35c51949f153bbf9d8974afa5cec9c860c3a'
            '6f83095bcd0c10da6b69a0bd959ae544d83ad8ad0bac30f9377869686634c106b7cdac3d844e978f63343849e133895ca616ec6d94840ffe0d9851510a31dc3c'
            '90c090ccc92c2a54b077dd6c5681a747be9aeacc178e31d9d1b5ee5643f0bea372d44ec7fc1d3b3ea5fe0b45f80ed072f13fdac29a2e5032e9e6ae2131b167f6'
            'e8ac702790a0bb933c0ab24e5b1e0246528e2800a6bff99334f1dac96c58b8b3315456d6efa893ba86226a16512febbb527980519505280307723c707c08ca04'
            '6ee8cc0b60119456da0344d01ff8965d11a0e6bf1d8ffc244d6d3a95ca929295f67592f511fe6b10d57355a7a72e1883e7191208fa0fc5e24df7a18428442fa4'
            '72ea986988bf787bed0928d82dc19d8020c9cc051b518d88014895f1b4524f84400bf3ba72354cd1fdccdb007640a622632bb32eb5315d02c57910f62aa81a3b'
            '6385c8488b18fc94c303d28a05204b3c3c0af9c88fc5a97e9139d1667ee1949453510ae0c1b79fb2c8401fade2ab7c9d5e03347116084837562e93cd4d2a806a'
            '2e83e865d7150dfeba19cc1ab6359fd650bf353f233449f0285850bc224ba1bf97c4911b7b3e45412760b75e50c682039a0ca4d3a6014c962a1f4e18f06712df'
            '0813e25054e529a45317cfab0b8d5068e91c6e5a6bec42d9f8cb8ec444e02845cd13155441ee306b9e5ad58e57e72de4590f2c71164ddab3015497d387ae0408'
            '55f97e5fa82f2f48203428a673257ca65884f73a0ce9f86c08908b51cd48807d00e3923c08a46a6d5dba4cfa243580f5098be23c91f37840c9f95ce5b315573e'
            'a87a0f607521834222d0fa9b6b5dd4aa2f9e25792e3e226a07e57b5eacc3641803b4f02ecdd3942e3de803d5afa934210a7d51416a969e06bea4a3b2aac42647'
            '3bf2a2e698e916fa90c00d9ec0bc95cfd8c780771af44a17ac018ca1795745609f76ab826b7226219a8a629cf82db0db521a1a6ab91715efd5023af4ca6ee6d9'
            'eb91d87cc81f122d32d176e6bd9e3bc83a75fd84b759d7930d03e7cbff383c8b19160cdf49cd9736b19541bce3b2ffac425b4f1f364bf87856ff2d5526a67996'
            '5862ad3529e7c152007ba9c19b93456df452dd1f8eb5af4528da1011c90ba984debe45ae23ae64ea13d6b5c85f322f79359bbbc4a5a93ca9810890191915627a'
            '7591ee883b200d4b117e350ec68f9cfbed13b0cb8ba38216d562a1df3e32e4aed72dfcb731d2dc951ea6fea0fc563e58d0029e4a16404d62248466cd9d55ce35'
            'cf187c85adc09ebfc336abf8e74e519c8ec29b3a29479582ee98d6e4b3fdb7b280b4ca56cae6e87c35382b275cc15a86dd314e406de10f2f0e14ae210a8b5bd3'
            '9dea68ca9e440578bec130421d7b01e6d64ccd1af21e372c5fef062686b596fad17b8494dbe8cb9facbb34c8bf3a563f80173e98509b85b1217e9ef40698fa25'
            '5d33844264744a670b9e95ad0aa1c91f9ec5d3e45fbb204d581f9874f643503c1564504f7d4210bafcb250dd60dccc3418489a7cc91256bc2333fac6023a7d6f'
            'fbe158b66df2e6e219e55daed2e898ca948f565a2a326dcf0901202ed580dbb9b48f963bd770308f10435facec6132dd39d5c870c8efaad1ca6caa5bb908d689'
            '0506bc316d2e5a82f032862ab7e26ac162f46c686a7b44968c0a7a6aea46934851b7d796cc819e0e29f9e58f6e07912273f5ac3e7d79cd289c6165e952d073fe'
            '93dafb3f861d735a53dc7eae8ea2ce567f858c098716c327786e9fd095f21a04a964f1fe986cc4aff50c0ee9e34e9353d140e10104413f9d71b394318a63bae2'
            'd25bb7b21252e45c29e1599a7f1dc9a8b37488fd251445fb97d725d2e46bdef9138a43edd15e1c15150ffb76481655954ef501220910b83d4f1e19be6cb90ff6'
            '9583230107ae04d8564034e6c8a50de8f98281c56d802f5c3a68cd8c2c085e4cac40b7e102e1d4102912d17874f26a2cf7e9048cce613acae4a76ca1f48c496a'
            '88f7655a9034ce1b5476803b17259d9034ee3c4290a2c509b1046dfa4f9dad3cbb5faa22353acaafdd234afdb91e43de0924ecac0b3c9273160c7cedf65099c9'
            'dd13f2d70bcf9dbb3633e7b70183bca8095f43c6a12b351c407e273a7445c91e609a747a7e73d7bdc7132c92f23a90aa8898e92681b1a84f0db15a2e0e2d16d4'
            '4343295c27bb9ca600ae3294c316118a3d8d528040618b79eb8cbe7de400faa6f6c6546ad3a4c5e83bc840ec423c9a8638b410e4798af29184a6e548ddfe42a5'
            '089625c2e70a5e079e21e01122e72ae2e438169c61ed8340b7a39f1d7159df901a34c96263c608c6669282cce2f5971b8d72d29ee16a9e03840bca72d445f529'
            '7c42a1421618fe1bff11127c1786ee7018cc8764a9629f5e8bdefe23429a26031940cc6e54722796baceb63e5039d7b096557f6e486b17f0e11d52bc8b5c3103'
            '719b57a06f4b32f5bb54523a387dba70b5ee02bf7ce8a6f4b98d8e035ae47cb1b3ea5221f170675c95ecbbd5ced2c0facd4168aae1e2b4b169f7aaacde4579a4'
            '77640f39f1877416689d387ebd883bc08e7aac2e4a668ba0a60ffe374da931496b7046cdf563650a8bb45dc5a4dcf456d17ef6d0ce419f77be575991e229f8e1'
            'eb803f3f831f82d0e7f50f2c25c230d31e6e58fbcc5eeca0290123aed9d6a446bdab27b83d654e86b43da820394aca75b8473a3414829189bec523fabfa5309e'
            'eedbe4f18ef46209d402378841bdd51360f3511cb7a213a8f4ad66c11736a1ce61c7975762363da3bdf2e5c61b266227eb2d52b83f995a304f1d25c275749a69'
            '4e523e5c3de49d5a20e3408e404385b8877703ce130eef529883f6f1a1fa89179851a5ccd799f8a15333ee872a13f3cad8d7b56bd02623f65175d34cb50b68a5'
            '2217235fefa255fc53ee5bcd8ba529f31a144de88a99efd53f4b6a52993733a2ae2ef7e34cd2a25a2c1694ee025b4c7866b87ca960cd137a97999e58d85c7e14')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
