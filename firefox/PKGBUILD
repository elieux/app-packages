# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=104.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('1b2945599eb889d793ffd2fb4bcf59ff75eebc41821c05d8ae6a135d11734aac768e457faede701288fef9bc686b416ee7780315439bf96953bad89f99e20bac'
            'd3d15e6abfe3fd6c60513675fa72641b26b00c4cffee09ed8577d8e0088e71c259ced7fe846915a54680d526b9f2f59af9f8fde2f7ca2ef130977a944e90e6d5'
            '85862ccd579b067186c5187ccf5a8c3d4d85d32a298a43eebc61e772b07bd247587550d48087e28831981d419e7e8de2e3dbd279e06aeac119076dabde2bf50d'
            'db10cbb94376c5c2fa03f4daf6876619167b7164ee33fe5d4cecc2212f98189094253699d0934393e7c6092cc38ddef00c6da9e59366af98c09bc5f766c0cb38'
            '9c9238877f7867d905cbab39eae35679c3639c5499f31a4aac8ea16d27e4a0d9488ea4b74277859713ddec8d3e9f606d8216ddf827f4de996b64218385285fcd'
            'efe9db4c9e2330fe69e057b1fa5ab6b33a71099a9164da4a80059e5ddcc86f66da5e8e7b51abb7f12d694051f2b8ec1819816988046a34484ac8c7c4062da24f'
            '193a97a744c5a6d535b3e64c6944795ea120376e5f43d11bfdc19719edbe69328b99305163edc3a6d3522498aa219b2250f6d9391610c2851ff5095ffcf76f3d'
            'a77ec7aeca7186d8203a9abd63a3b883bec9b85c7b0ad472b699f5381637da98ecf7c04777ec94f265cfac32c2b8ac90de5d3f91dc0e5f7c82bb9f15b3916350'
            'b58c5f2ebaec1ec74e5916e5748e07c894e501089e97bc0410ca0308ad94230b06d50f5596f46071d3f3a7bf376abb6820ee4acb3e204abdc8b7aacd293a9e45'
            'dc09f9ca18d07c1dcde89f96602c65db00b0c3f3e081b365cc645bda592e2bcc191a059a4c1c5bedb236d93c66ccd1c9d05f25dbcb9990834530c67b755267c0'
            '74f72f8857ccadfe98f6cd9257fa2acc0aba8cef4f97de6f6f04ff974afc13ba34b0ec4a940d3c570bf85e5df1145e9a9d8e95dc7ba441c535d4fb996d914422'
            'eaeeba84813f274bfb6ee3ae88510c929b026f0ddfa8c4604c0cad7186ba5a46a7ad1e2e60941a4393f68f94895c94f51bcaba4bb7630373cc4b8bd19f433dfe'
            'd5a22012c47db333f0e243bcf73c9d262b1d26d0c2a151df9c5dd84cc7e2a4eeea08094ad45bccb9b70847adba5b139209e619624039815b89e9cfdf114bf7cb'
            '7899003cb120f7d7fc6931df87944aa3ddbac3f8a4c54c3c0f52e3f88156b08d9834e5586d0bbc36307b9d2622ebba644c778731dc8b98e1e54b8ba242dea918'
            '4a82a7dc838b228fd725263e9b20d0ad58fc33d6eb66baa98236d2af2d737a4425a36b8fab40f69b7f78dd2bd65e9a98a29ae3da3406647d9596847129fdfe37'
            '305fb425d408f246f9de585342b820493d6039022f43aa877329c3c78c8517d9a2b876a4389e8251be206d86011d4bf9c387c3c8a1cc235769f516dd905514ec'
            'ee411e89685a332b35eff661e4f653781ea463b7e3eaa4a3c704ca0f6ab4f86d1b5b2c1bc1501b6b2e7bf0191743d2da9091a7b1cfd758bd94c386a1aba387b0'
            'f1ac7d480f770719e734f02d7d4e8c0bcca4c501e1d59ee82367d046a92dfa0b9dd70b15247a479b64b32f759a786e01cc4c1865ad44c3d5611ce87d6086484c'
            '8ab26082c1cd5cb875604179236b257c1671f1a296f9614704e3c27063a89964c19ba9048069875f14410bf4c3d53ecece2c32e5147025cbffef4a1986fcbcdb'
            '087b5135f66002c903cf7df0e130e8325d99041e221d1acfb431bf8fdacb0c1e09dac100e7fab54341fd074b46927e8e3f6158894da3c79df11aed6449ce9d27'
            '9a7ddf615b03a3269f09e2cfd5a1d5c72eba8f662f2900eb8e398d7ff9ee9a4ecdc93527e62a5c625185531734289669a978acf2d24ff466dc08d49dbf177cb2'
            '2432aeb2408c9c8c0f740314d7b8e46e89d712330f82226244a8ce190ee5adfb71a875d3971bd34774f2b44122f32933f03f38ec6e3bb08c543b92d43379e9eb'
            'c086f76ecc2649763bfa142dd61b0337b3513cd3e9bc557db9fedbc1ca196bceaae5bafd2ec3a9b53daaec0bddac7cfd86e1c81ff2a5a2bf9a14e5bc605a4ff6'
            'e5ba2f4e30d83a5d3ba4fa9bade81bc9d01fffe4ca2af3d91b40f50d273b2324e411d710e0983dce7a4c91f2c738bcd0ecd64e201414dd0ef8430587a0be053f'
            '6d728ff229f8ba3af9305eb18cb6fbf61a6155580e7980cb8f3c7eae730b036ee83d0b0f2f721a54d220df05d1f7536d8f8d4bb8292c3fe998e822c5ef55963a'
            '98fc9f49a7628b661dc39b1e9f1847242f2bc84ac86c9c9575692f5dcbd412872f06d5473709d0b0b1fcbb909649f6806f2cc32c95a42f8b224f78413e50490f'
            '5e39eac0999a52281315190d4063849c6fce1a2d6ba8ecd87b70425d32531ea2d288376ec42467d75ffc00fe92b956279bdc00fe0c7cec98150edfa66d9cb6c1'
            '1345991e866de3715361d5dffe81f22b8310b04eeae939c695672e1fc9b1ddf39d241d00a3c3305a2838601474af3ae70b6a373e556ec75266bfa2d317825e75'
            '7801d10eefaebbd94c4db66abe32771451e43f1a5cbd2c41f71e2612cd64bb414b27f766e22758078d1cfe8370d0f469734791d48c194c37d9576f0e7893d9b6'
            'e6e8819e697adb9792e6452e56513ef29532b94419035285320d18b432c28462911a7eb0905f3d622837a67956621f27ae65337a0f854f2bb35209a0a6809ac1'
            '37037830a9a26e2e2e909ad696bdd4df86d40e6256fa3e46722f4892978b2140fb4b638406af5e64040be9f7daee8db09c05205c22e80fb20651bfffd22aba00'
            '806dfece5c52e73e9d484e84c0d3818dc5d3ec0306b084b68a3014b80c7b1dbacd49877833485fd60646422828b66120561f11150b11eceb7f70a21f7d15143b'
            'efb75fb4f636f1d21990f5ddc69b052de99ebe4e5f2fa7b00461c246abef84099cb13696c3807432aa9d23de2b5f252dc76dccd707dd3f580cc5e3e6d1f9bd8d'
            'ece442ae20e5aad145e6c476c0f7a752b6073b0b0043d85b69b151e3bdc051ea2fc2078e6e3aeed6af7cf623bc1d2ab91441f115cfecae81218237dce3c472d9'
            'dfbe08e96bd8c962e681a3d74a2363d7c08b78d1c1258efa989f96b1352b8eafaff1bb2c535aec42104899771e296af6e1e8a96ee30301f5f8e27bdf282077f1'
            '4a4c8ff19b0d163141e80ab8a0c1b2a43b824f239658019b488661d5952c94b80d27e70622422c40af231d7000658568dc396ba306d638b3c0a4183423bc02f2'
            '1339a2b77b5da35aa9e57ec6b6d88c0a3ed9922285d5e70ef1439358bd91c5b708dd6200ef8c063cb133c6ef2a82c3b1f44a2e62020a919c6d46a21c9cf754e3'
            'c62bbdd25b1cef5280b5a225ff180335cc3102d47fcab2ce15e154091596e330faee106f8da7ddaaa92d5ee20db607fb64eaddeaba5c78d4ed1c00d39caaaa78'
            '65e2eae37ed2b8dc5eb2fcbdc34f19647900c19dc0e372d4abb9809aef4dc6e61c67da6659c1429abbf4c3f1b06b18f35c041c05ce56200cbd985d6da1e25f4b'
            'ebf7dd6a42ed430fc387ec16dca045016239826f2b2a1c06c59100d2857607132267d7c48d484ebbcae9df056883101d0c04568c1c567e3f2d4516172fed6c42'
            '008af3d10c54d1e1a4c8e52ae247b6dc536a81bcae08266f3dd0f12573279f611bfe119bbc4efe0729ee2006e5294be7a0b4cad22ce3680da9bf0c2deeeada07'
            '8f176c83eaede5c178521855a1f29a1c972a9366c63542688fda2bd2c0ceb92a9234e9b1d17be476d28c6928c19fe675cea99246b78059fedc1a86d2474b28ce'
            'ad7435615e7f365850db9a8f7c9bfedfc3568e3c1644522c4616f1937d77cbde6e8120cde17d01f95b42ed9e5d2fd42f7235118a28d195b89fe332e30ddda65c'
            'e9982e73d7ee41cc5218cc02f04b369ef1967b6bfdbb60447f2f7f44bae8a85a62fc851b509dbfe00d991b25e2c1575e65bc69e0cff1db80637e84e51647bd57'
            'ee76006209186b9713582466066f39f80d52363795752f290ec837bc48e2e2aaa6c120cdcda6f753c54bfcef349bfed3d182d85a38210e0d36b5c2d07a30a065'
            '38d61848c77ccb57c953fd12d29048e9c99f02b0269dcba3016e705f39f169db7f87885a1f1cc0221d225ee678f508caa5b4d192f8a1ce22b97d78c64423812a'
            '11e2dd01bff999965a0051f49101aa3fd21373559689c2a9e977d21c807c618cdf72d3faa978c4ef10cce89101f703de48e817d8c036815d5bfed87c39d89923'
            '704c9e780f3655f602d0aaaf38c6407f61a32929dbd375a6a43a19db05964a883f54312b82a70f06f48cfdbe28fc22a415e473ddf9f614d2ba64d956c5c8050e'
            'a03d3575879605dbe538013bdcacb8e1aa54019ccadc919188dd29ef3ddc10c2acd27933e2f398d2d12dda4883e29b553cb385d324c6c65f906fca40b7e7bc96'
            'b0f4a4971e9e289f8033c6848ac310ed4f3fef5cc9403b55ffd2fc6f11071ca70ad43e2532a37fb6910d9d0c8b53d8cbc4c290f99afead5c81cd25453c51beb4'
            'a8627c339036faa5fd08c59c975f65e047f2dd2370d5b75f86ed503dbf8b5f6e308883c1165c79238570aa3d8c8cfb1521fc4e84962ea91f2aab893314a73e1f'
            'b1aaabd92b837ef31dd73410e2d137347b950374fd024eb5b9225ed6e8b41b3200cf70fa215aec616cb14b1ccac86e5fa4edf853294e6cd3f6e06258457b7b08'
            '6f103e483a3e07560520bcec5ca0d282e9371b3c49d7ccc480d4456f29d82535167d2384ffebc984c0de45b118ca9611c9cdff65da63f44628ec29f0a492cd7c'
            '17c9912b761e221ab8eee3dd3ca610bf60b87832805bddfbb65fbfdf093e9b35cbc05691b4eb950ab1de71dcf979a00c286aefe545ee735ee6c59ad99ad489d3'
            '00c2dbc8c26749627546403fb7cfdae78d651b1c7725f07dcc29250f765101cef0a6c164404ac577779f4d56997a759abc56ab62af7c25e876fb241853ef684f'
            '17d7a559c14af8f422c2e5ffea10c5b93f80233e9b70e0e441547e6773600663e6495f3fca25a2a16cbce4feadeddf78b346c3806d2936da7c29562e64655401'
            '9a3c388a461cb2f2821c7ac5978761f0e60e544431b5102dd2bad096d9b0b368703ca2be3cf410390beb7067f9540355210493b0a5620e9c3dcaf02167f00496'
            'b44c72cc02e4df7f294651085a467dbf10512b155031bbd9b7eca8c220ea90b9a1b2d3f20333dd52a158ef06584378937a11e6fe1d9ed06f0e45f956eaa2e565'
            '1ac6758410ec39d3ce2e48a92abe67a2477c17f931b8b523ccc8c8f155de6b4a465938fbdadab074698657d07c40a4c178ffa41c652261b0ea6672472da21e6b'
            'c8dce5d637b18c11a0300c58735855386236ac56b4fcf8b643e26bae040f3ed172f90bbb20c7857744ca462bceb6e0efb46fa8dc49c85fd3c6ebe20f429e702c'
            '5bc80730c979d67b69ab6bb13678605c279473c869f1c733c47dcf550bbed7a1c0455eb159ee596dacf0da9b18e3285e06777b18ca75cebc55ba6b4e8844456b'
            'ab1e5c3053880d3a03389eb2cefe6abd24624b552d179212a5fa48ffe6a37a50f787b13f39447613feba679317c389c49130d74a744245360d92ba7a7758bd8b'
            '14e3ca4b1e62acde94a9ca6bee8bfc614cf2e3021f37a2caef0222bea08219ddb34072b63960fe0c5a25954b2a228d14fc1f22465b894bb7d30767f97b72f501'
            '26159026cf73c943a2146a2a203e7d576a099a8f7a63ec8ac5a0d633283010230627dae8c4ff0a64efea2353829ce4161978b3d675fd620673d57404bda1c3df'
            '4add44e7e3d1e7c76d272051667773870cb3f598f2bfa800bf57b607ceabae94066f5a74e291db750d3fc8881579e21780c8747e1a640301eab3a0b1d4eecc4a'
            '0b3d97850051d4f62fe32d3909e311e8dd8af54bfb281d01f6c8d4079f690338ee6bf56c9a589b39e8b3f9fc6be8b9c1f88834a968c1044bceb3151fcf898f16'
            '1908a1f3cc9d96807986c3b4262d25662b7b4bc7b421bf36029a46b1a71a0cf3691bf5362fa66d149d576ef9cb73c17388b070a9eea5a5297d054a38f26f4fe0'
            '56f53e27ee357724318a4f0002a6f6d335b4a4d420dac8d0ad8fc7026d82ea0461de53fcf29da2b80ea4e21c1007151aa393d45321fb80055bc30f29432aa9db'
            'a8efa9900de65ac8e814d69be0d3312ca93c8afb548b5cd2c8a464dbe479d39d7622290026ffd56acf42a392d28785dcb8876a0b2d28fea02484d69abde55cda'
            'ef08eb4daf7aaa6429ff1a358a0a673b93fe14d15e2f7a8aa5b9176afc850e5d2a1d18f0dc25b4b4a5eb98e51efb1b9418b29189ddb93479ff70a6afae110026'
            'a7fdaf63f24fefb834057f67095aaf3c2f65403fbf7ac8d594132ff7ac2d825880d339e0a87adfa2d91ad622343eadfafbd40f2dc81b0f76825566bccaea2a0b'
            'b11289762246b2f673b563088676d17b8747232620406bfb6914d370b2556801e117521bc94b735ac9cfd39eb501be7064c6627d75d5e4e1901fb85b02c46188'
            '11f0b47e7e6f10052a9f7eac362d6e99fce09d78e25ae5beeb0f1a6d697c1b6b60566ed7d03c433cd9c3fa145fcffe2831b9e308a6c8762644d2afb357233ee9'
            'e3ac451dcdd83db53dedc455bad0d1d4f8401f3499fe8b6712b02e9dfcfa6f4e0e7abf008aaad547f56c79878fa6a0aaa043c6754b49f6f4d3977d5b84083912'
            '87949e5cee4f72604b3c25e2f85df418dcf5463cb63ba3043a35fb5dc61b26cb6d593b7d6177c943fff9328135ae9f814490deb75bf0d6611d7dfe12132fa709'
            '4b40b6340dce039a1ca6ce0104075fc9ced79b39fc285ea487a7cb0a0cbeb7cb57cd20b31d5446a55d8b828fc55875a8cbf06ef91121bf67cc7e8894c381a891'
            '92fbf75bac9a5778eb8e8b26091ef9a8ef672e34440119ce7bc20c81af639a4e30baae4d75292f93097355e706102a4d7d1a185b95c0c63e144df3e7f3009a38'
            '5278a366cd697cb5d1f1e3154ca9b3dd5ac24dc99dc7091ca5e66cc53b11567322233773029e6cf4385ad6c72a0f7ce76f245422847caa4a446e13c9fb923c24'
            'fbd9c0d6632430e2f140af6dffc5a27a2feed1b9e98563d98abd5a7fd5d5079e6afde7dfe2cf35bda5fac67f5ece942fa9fa9e6e0a9d385b77bcda20b87fa06f'
            '3872f9ceacafdf9807cce5355869f9113c37442a39c39c7e41787ea07557e2aac6fe388d24589ea28ad6474c8c9b9a6cbebfaf17db2423d31f2f4239be44e0bf'
            '72fde8afd681f29b29523d6e49610125a69092c58ae4465fb4ab9fe70d79fa30898ba01b48a5156ea5f65549a149b26b81626c29f6b884d055fce96fe60d3521'
            '14d7807f6d823c3d0b5d749fde1f60835d57a20309c1eca672e248a416c9ec4f6927b27d89ef41b77149c8edc6c0ed084782f441b4acca3d7a70508181ce2834'
            '472987faa8e4764e9bb09e5ee0a781ddaed2082a0d0af2f82a06edee316f8b3852cdbd6bc4dba6fa616d5026e881c508a5cf2cc0026bc289966f335964bcfbd5'
            '57d2ff25ca343093d1dd662df9f8abe0228f5472aeaa55e1807ed76a856ec167df975422d8abcc9290aee782ee619569bb2706c7df6ea7f6a3b75a79b5646ace'
            'eac620d60017a86dc7b61f1f3800506391f67e2beb1a142f9c6dc64fbe05d1f9ca91933a0a73d306086d195b0ba42baf3925af181a68a5f3959548656cad899d'
            'fb2706b7cebaa58821c3240a0fb04a517f4b7a29044a2ee28aeb17aa2493000255202b4c6609976d5340d87e0353254e8d973a9f2c069c79066c5b4274062b70'
            '4ac9ed10e83e6da565c72f0c8332d0d76f249a1ef4c30cef4217f907c367a788c1492563b163da30cf488f658f0a90d339c33069614fdc3db597610f183331b9'
            'c6866cecef82f08cb07acb7606d206ac5c3e3ca94cc448171f05c0e72fbebfd9b01a7cf1f22bc588a12dfd10d21c6ca4fef5364c8ebfb4fba0f211586f07e5b1'
            'ba667b373a365f6e33ea57aaff668a00288cdaa6f008013b24579c6ec70c86e76f412122f618a7d0df46c3c314d731c08e1f5cc6c7ca6d6cf058196e0a4014e1'
            'e9c538ad44283822aa48af5dbbbc2c66fb77053588e9c3728ece40f4aead6295d36b3f4d13163455cec211042ada2e48a42162a93b9cc1e677adefd6c9f10fbd'
            'e5d3ea275ce3a1a8e5d4a15a83e6ee45c2f96852692b8c3aca320a0deaa632f4dea263eeab4d264abaab57401e7e29d8d06a9657269a316622ee7930cf56b2b6'
            'bb084128c1ca689ad52d626a9acdf7ceb58c823f3b43b4139fa2ca2877429ab3fc7166be28d0081ae723856329f17f2523a8d413b878a07aea646a6f9bdca94e'
            'f113d00ec562bf60afa8481208a05b8adb7c57c9a7877f09364ee7579d0050db2949412f4a0d1fcf800387c176a38761b4d1cd7b12f8803d6053e709132e081c'
            'a15afe2de44f980ee5e50c82a1a6bd718a75aa1b7daf7608b1fa48f28621582d669d3436f30e20cebe68f9ad57d01024869a4545227e14b89ee0bcec5c46bf5b'
            '0a60d5cfb9c5f14456ca426884a9052ddb0ff5344aa0335e1feaaeb45f7d6c42b3bf597eb41d26463d8304b8cb27affd4e5ce9206dc71c21a4a070fcd4353e18'
            'db418eaae8cd457fafdcfc49fda963e0034263a4331f0bcfee21673501a3dac091488b01740971a84c21008438ffed0541d4a36a8d7d9c5289ab085a77144363'
            '9a21325ab198c2391fab2cce4b1ca28b70b9223a360c3fb77001ec35b27e26b36e6da546beca813d0042ded8850153039542d303dfa4a588ca33673649923d75'
            '611fbd6a2f3336d3e9d349498927303b88bd5d66f459a68b5394f6d2dad2c15f244ecfca6c34ae89ac0e495d745022ef423860f8d73190e8033c3a500136afae'
            'b51692a001ac04f29784f7eaa2b510f5bf59ca80864624de05bdcdf5df2283303e7497cf179fb386b229b1376a3db932e339246fdba34e0fc2eee2f8eb167920')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
