# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=114.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('ef404d39e4852e1af66ea1c00f3a4756080fe0ffc73d38273772095df97b199e0781c2fba22d7baec400b8079e1403a2809b09c039db996665c03c4684e20c2a'
            '5173fea0dfc58e05ed7473f2f6992c50702254995e9f7dcb0608c3b3768d6743249bcb525a57db4caaed4a19c4ebcfbecebd3494d1427ab3825224c060ba1f62'
            'c68fbe4c59fcc13942dea56503be4d86247b812fec764ba8068dc4fa21a913af4347bcd861deeeeffe3aa842edc8959398452346a79a66f15de6acb2c6ca3d86'
            '9682d398c32fbc3faac16200e205d4a28de88fa618f29f22fe5cd5a5fe89953675c2ffcc57c5dca818af37ae8cbc92b472a62eea84dbc470046583d375d8cc2d'
            '0258f23d7a52d6556b19f9e7b13fe2fb3fcc585e0a5832b6c062f46d534f47565e778c3f67593738d29ce868c6d2ca1b1ee116a0d61e04bf8b8119dccb86c8d7'
            'd95cf39335c5ba8760c34796c9c122c8e534a3f9a4a31c18316476958cab4c4ccd3ea242cf170ac5f64622895e441ab1a5bb1397ac32b32595f4bc9c33f8517b'
            'c58b6cac44fc289523a1c94a608e26e0de22cdccc6e4cfecb9c1fe3320ce2b75527e22dc074e9f41bc045edf3d3aeb77a3e4e4b64a93836644aa09c68d6774cc'
            'a564fbf2f3c75addf9998ba21b9cdfd15447c80209de69baaa05ae78c79ade373a412b23a6fbf48e11b82f226b798fbeaa11b36104dc25762ba3c753bfe1b93c'
            '2c4794cbffcb47e5da251f1e0ea5ae56a80a3d68ddf067a5584e247eee6431607444871cfa6cdd5ac17ce3aad13c6e1654a37cb1490d9e54d5632f2f34759bd7'
            '8d5c0abe3bdc761c9f5ce7480eeec058b940e3c090259c26bde44e98c8e4cd18e9d19b78d958d3abf7a1db883ce83f1e06c428de389a4b024914d074b46368b1'
            '56900d4011073f2d9e83115a07c89ccd9fca280a3bbc21f3ae970093c42ac81a00e4b4a3778db53749ea293b7ebe011d74d9da1955258aea24527714bb7b50f7'
            'a9f8a65480d70e4ed40bc5c94822e31e2cc54aa5811ead7c02dd6ff985eb6130a72a68db3f60bf2c1bc81e32b49acdf991874c4388bcf9e6561643e37798d607'
            '2d2c74ecb3d4914eb0635f9051cb0dc4c7d3c735a9e17237e1ed251f71d830ed713156f9289a4965c7c572f9de56d041c14955388c2876e2db551886bec37ff2'
            'e2badd2f2018488874bce37730a504cacc78cff9f609d14f91fd0a6ef4dd79b7fafada385d578b1634b3e0137bbcf34c4e896007402b12ae539411c932091d5c'
            'b1f4643e4c79d297ce70f24b06bc495d5f1173b9373512be7489cecf203fd67d50c34bcce7c9bd64ecd0bf8392d06f6fe5ee58c2e8574b627d54918af6038ddb'
            '5a3292fc1b776fc220e3696372edc7c5252dab769c195d4d2c8fd30065a23db9be6d9bd1f0c8a8fb6a20829c08206c189021133e1985700f0eddefd4ab045675'
            'f30c76b37a488d3133259c13e3754df2c8406be5d80f064f935ad029a89064aaaef143c95fe03ec5b035496721a69c28ad6f01f89fdf92bf939b4087f3a21ffa'
            'bd5ca7622270f49b269420d6f1657cf362890dbbbd69cb829e16c57ed241aedff9cf941b95d7de80b0c5a13081a038a731978e0ce4219af09614ba329cf937ab'
            'b034511d626fb47948db4f8d2400d19b50169369a8e4191a812d83d5bc381cc207dd3862c7d8466351667dac41061e3d539fb080390a3bf4b2d7cea17138ade9'
            '44733c1016eecd0599e9dbcc98e360401714adbc6e7c64d70e1a3e068688b80eab4cd86bcc109c9f44633fa3de3c1c6a4b9d81fe24a7048bb75bee6ab27c8e66'
            '2cc0fb6db22af6f5e06fea5619406e4b7a66fd594eff4ab1973f9eb823c135eb68a187a2fd68688e30ab4e0e41be99eada4431c8a9ffc8c013dcff014719ccf8'
            '79a39e2fb6fd2b03df16bcbfe0304f54f411e6d7bfcb02a8a126f86ca2b1e2291a1113dbbad75553d4049af56b2bd47a41125932fa06fe59fcc5e41f9b05e0c6'
            '6547be83b2240d8bdb04cc4b6da23dbfcd066933522701a39aa247a9ad61e58bea700b7e46b3b7bcdb022c6e77e2bd37d0da67cdeeedd02295acb5f0196dd9af'
            'dfb95f03d11f3d93a7e4a3596f740a87d94fc265e371964a44778a43aeb3aa09c3ba9c985aaf9616cf039ffadbf4cd7026e111f9566797b7da1180ac0090c197'
            '7e9be6a2e8459244bd510572965ded25e5293d85ddb6f8557b7794e2005acd54017e105f37d0ce4253b648e0dfb2b51d1fe1b7b227e7a654032ceb51a4e9a3d9'
            '3d8018334f9f1e403d36affc113e5adeae4df2b59e39acbf2aa010cb80203d27de65f11971a2ddba11207698ca47ac2711f2c482bd0c01c9812d7d88bdf40a4f'
            'c5bcfd6a538bb3e2caf179ab297868784878519723d51991201772f9a1fd99028a8ae02e1b8d2fd45a5b8e7ae55fc2d57b6aeb5b8bf22c8af75b7eb8f6cc6851'
            'b3623f74cd3348f95e10820f376cc065cbfd8c0256173df0dbf93f19c32452ec273db4d04f21044b5cddf4c48c87900102b57b18b6abba1bc8d0ba2030f35556'
            '550bb4e6672795a5b66450b5c02f47df316d821b78ce4e0e2b94e0fabc386bbf9ecdf45ae954e62ca461dd6686cb4691aeba893c8b6f531d87bedf9be9333fc0'
            'edcac56b1f9ecfd1382c9ddb4eb9b3a7dec35db160b660218eede773083fb4f794ef2fa45c4fe5f0a897cd23bf423f2929e23e96467f4dda0dec566ff9b0b273'
            '91e629d98df26feed5a158330a75f95a13186e0426c587199732c42d6dbbf38c2f30bdea1fbae23a3eaa6fbb3535d72a351d66f92e21c342752b97b934232ce6'
            '820fa165566f806e223dba35a87e50f5e035c17191a81a062b129c7e8a988358bd0b3805ebab421ba4a7b076467423c114778eaba9aea9c6bc840f4dc5d0a905'
            '1a4fbbc4c024295bd7f3fa12a9aee538bb642ba991d33e8fec9eaa111210eeeda228673274abd9a4a94d7dea4f36f03b773fc40060e572f468f29d0db0f1dfe6'
            '28a29078e2a0e2c2f34881f90e3d66aadaf71222492901412c9e371ca0d3128c04b74ccddb5da691232fc3c003b391989365f0a27b6bdb9a351b2128d598c65b'
            '25353c5e5b5e52340dfc69a3c8759061ae24b5f433c664fb4016b5552afe6003594a814a07c730411056c87c200c5ecfb4198800b5a9616b9d5fa80c8140861e'
            '717ca576963d45a53d8cc23a1c6b47a7c40f4cb5eabdd3719d707eef2cd9d887c20bb09be6b14fc8b00b4dbbfdc671b1eb2f09cee9fbbeebb6382bb7f7fb2bdb'
            '2fcc633f0429ba6fe9c55b258961c40a34c12fc3df8ea7a18dbb0fb406de37ef8fed5a1eccfb91f4c9638e85e45af5fb9cd6fc0e3e6993bcb3dff01f5a93b93c'
            'd2e57ab5f6431cf7c4a398e512b5fe731e46c8c1f7de9298cd8984e878e601fb50cd643f1faede7a40915e804a042663f4cd53f68878449cbfdc0074d8992c79'
            '95ec600a85edc05db249dc6b14a99139a239be485aad7fca9ea3585ee712c72ee3ef3c721bfdceff81428790a36da9d48c0ac9b1a79f3065c15d8132973be9c3'
            'b2320214d80669dac31829a888e31e05244e0ca04aa3a5788f9a669bd973bb55f7ec6bbd567df591dba3754ada96848bea859e2ebfcbb9b709e9cbbdb20f967f'
            '13271409e44be77e9ea3c87ba80f26700e272f2b4ed6f33fa00cf4c15b66ffe03fa50c37258875ec85da9bc7f5e6cdf0b028379a762978fa326f159e9779bec7'
            '4c1bcd219e1cdf6ad3773bbcb4b1b6cf0f4da3e112d8998d98d5828e905a9f43f606903ad85aef72b53de11613407f8c77188b6ce43848b8e6a49feec33466de'
            'e74346dca70d605720c335036ef6308404da7dbd787f0eba35e756a27b87893b7e00dfbe99909df4911faa708baaf39e94328cee546b01ab66d5c3c9f73b4fa0'
            'bb9cff1c2f674477da49701192702b0b757d8414618476b29e2a3ac1295955061c27f856376a435012f7f83b78ff0fdb2418decc1166f3d11d3c1f9ebc547b41'
            'a6e334fa9776790cf0b6db9336860bfb997c515784a2b5c51c34c0713240086ec8d18759a2b218ee7204eb0ceae5c9ec23784010083d958a3dee59572115ce04'
            '2e95b054f65338e9cd9a70e9289df988fd5b5d8a1752cf1df56f1673ef1234f1cad80c39e00604446003b11badbec8296d139ef8dfb2b348cdd57f2429e28c49'
            'b74b35e04926b7d99964f3e73ba90074e52228618bb73d9d4efa335fd03d2eef668c91c111cc137cc05bfac724a037004d4c6b4543238de05abe6947d87295c0'
            '9476afbe29dff5df6f8ea9c632aecf0eb7de8aaa46c36e5e70a8f5542d6e177ae11e071d27516884f3bd752ad1466266a0cef92370b4a9006d42e03743e19701'
            'db94dc8bcf0d917f74a5cf35eced3677aab75db50b7c4b152b26e980ff50f67c1e8f5ca9c171d83fdeb5cc3968418da49335a989e890f30ec93e4d48cff63072'
            'be6eec1e698a3ca4c358364999a9963d75a944641945fead60cb2f55edf79611b132d129b4c864de160c736d693287b901a7849da504c287b0b60e5e219150b7'
            '3d5763cc25d24e5ee9bac13c980a3ae3188872ffa1143b0f4b2f92a9b6245b57f3846983e9c72f66a9a90ab67554eda316035e583e5a23ee81b470ff8e940070'
            '3540cdfde003ab938e5daac2dc878698628ff07f708c137135b0ccd5df6f31fa153ed6f670bf52146c0bdac859f7274fd0c0af9fe999eb8cf683b47d99352798'
            'f92ace0a3ed64175734134b641656370996c41bb285bb88afa6cc68d4f4ee84f4975bdaecdaf399535b3aeeceaec27cce1768cb5908c32d3a638078cbd5ae7f7'
            '07a0d3229fa29bc837fadf7f8cb65c8b8f585b0f3decffc02400967a982c97897e08525de212143c0f7b378f551dc2592e9dcd4fd4ecb010cfea59ec3809a83c'
            '472520f3c4ed85cc1edf94c2ef5789457dcbe62ad9258ec048fa35bbe8b0f51ac3d91bcd9094f019b54b91c59e6d75f1992f24c08f6f883aa1dc628dcb429656'
            'c3deb053df889546d20b59b65eef79d4d81c3e263da232b9ceea4cb53cbdec45ca98c2d754ae214a58a5092c16f0081908daf79541538c45f491b5fbc36fcba4'
            'a8281260970c44ae2c0de6d80b9cf38c275efeaea49c86c1b425210a936a6babc779ac670aa735a351fad18e454a845fcd5ffec9756b21f218cd0fff99c2bc1d'
            '17d190427c46eb5b1e2a1bc3c5bb8ab64e9289132ce3504648ea47438bb7dc94bb31bc328ccae0579b4501de2f15f1b4906675a64cf3e2c3d5ebbb3fc64f015f'
            '105243dc25ec5f446f6f4fcf0084fa73a6af627e0f7af8dd42c6107ab9f8f342e91f3bc60aaf48010994355029ccc88b4c1acf273c069ef045cbc0fc2cf3c4d5'
            'af353ac2da3d4345ece236c8420aa6ea282f92ee955de76e79c7415a2ee2809ea295f7cf0d14cbaa130e8895f1ce45475f91cbb8690e8cadec1ccd1ddffe2faa'
            '32f9f5149fcfe9e83f69c9333b8f499af9bf9a04060b8b7001ff9c4ffc99bdba9798861af47a539b2c1ce62afddf138e1e1674eecbd70e798ececf6039d0ca57'
            '5d952aba2707da88c6a5e16424d32397103ef230575ad34f93fdc23f70cbb974aa57f1a4c3bdc88ed893dd5dcd87574e53922dbd7017cfd909745ef7cd3f7cde'
            'fde41f2f2679061eb0b460ca498daab892e303c770b5c2fcc516e96bec55f12f79755b26271ecb75afacdc2de567ed40d3e7c92cf2cb1559cabb83ce7624c538'
            '38295d27daf6bb46e0e488ba0275b98a7a9047daac3849924c9ef68e06acbbe8d60a52156362845b4fc2128a0ae9545dec019486f1990de313d8db265df0b301'
            '7d7056b5f5cdc3b2454cb85bedd980b29fdeae19ac668418ff5a6e8293bc54664b3970c5153913f38e4f924de2d1cad8d8b7d29d558432ae0f6910d0961d50e1'
            '98927a43bbd6573bffa556a8656b11b25b1d0b3c6596bd3161cfd0cedb85ad8c289015e4f8c43d6ec230a0660862b30e1abedb6fbae5470eeeafd3a9c46d6bdb'
            'b1120555cae7fb93b59f4fdb6f8039da8bccfac2bd14e6b149a78fa29dacab9764f2d2af18369506d3f9e24d3da2839215cfe37d5be1699a4d0fa58186109a35'
            '52b9bae2cb80a1a4c88c20b4fc83b6a5c808fe37d320edadcbf2b8e5bf694398e5af82b0249c7d8abefd3ed75f7a92824ccb59f4524bb55c181e9ceb1c72dc8f'
            '6674bf7644ebe6763264dad53347813381b6051bd2f6aa51a038f0b2c0d5ab903ece998467a617325211f87045393310171f2cfb8e4a6a9c3dbdf8d159eef3b0'
            '6b876d76cdb992b3934610c76e6a4bac252e4d99f4b7f366df3caf6f3cc0c7c382026a11c76060deabdf76802d8081dba5a97e69834decb3b0011bb7cf48beb7'
            '760e027091babb710d139f04fe1a13fb23bfd60168b2afaf65bb5dad36de698e16673da07b980a7a8a575ec30c827327b798baafd329dee9e6a63cb63c0ccdc5'
            'a84c1a126b352b6b0a32512af14c5f3a618df11730fe25556f731555f798402df87ccd23bffb16be3999f5b8bfb6351606d3229d6b433d0bea392495c9abdf16'
            'a3dc636d030d81f49e198f0af9534b417f09b2fc545ed5bec8d018ae06fc54cbb9a743a7e0790c416db1c08b05e897947bb54912b1a5f33e9897bbb3de9015c9'
            'fe3d41638a054c807fe087ce3ad85a65816739ae8379d73ab1bec86c703a2d5bb3a7fe28be9e9c15cb81c4ad9d9e7d35126b05eeb989ef4ad8ec7b269ee0a5a6'
            '89c256f6b6617957a8f7f15f9c01e768212e3a688072b008d2c5841926ab2e82fcc37e59cd11ce810ac5b6e3a9ee1162925592040cbc53013562272c72915d99'
            'b9946a7d4644dd3164190983dc49a5b4a045bf222dc08a084c7cdce1ed8aea6b1a57d0e74eff9b5d1b6b8a5bb083204eb7ebbd34a124cfc1a0778c49e28ceaaf'
            'd7938861b7aa1d277ce2b2d0bf6bc678871c31f5b4ff766a3bec8e8fb2b1625c0e3f624d096c417d776826328410a9a1b2de40701dbbba3f938852a3505230e9'
            '165c8e803e3c7074eb25b11fb590858a9be40fae10dcc1106d8680104941150aa5234655b63a59f76c83e30875fcd4a36322b2a2c7dc6cb9b3c1b98e04c3c23a'
            'f720d3053a3d5ece7e6790e54e6bdb12653522f106f2b860d338f963e7f882a5c3d12767dd1fef56f0d972dfae51ae7602c9371bcabf0170275196b16428ef97'
            'f6811cd043abaf4807cd611cf644e6cc1b06675173b863fc8582c98031265d7b75f68d1a347d9dc0a229b8d79bda7348dc046d095aa39dc262ab2d4dab1e66b8'
            'ee19b0a3ed25ca7686fda5819f8a802e893040fd66e6c626cb07914f1f7ad18f94599f0e8296a547f196b871f1b7171410271893aac5ebca0c99eaf4af92e919'
            '22e53c7ce28d4dd7c21e6d6d72493888ce42937b54b5798436e17e9fc95e0e4d91adf3c580b6457445cf84801af19e3134941bea35780b78178f5c10c36ad256'
            '6ddade3900e275406172bd393667711e72d38b5db82e518fee120a7b7efeec81d056d82ba31a9e846c6b8d0c8b4fa6797571c61046303a8ffb864ed335bcade4'
            '5e63e1431bf7ad434501953616222e8392acf67b2903b6bcf1422661b34754938e419e847fe90a6ac38e85acd7d4eee7a6535f931f448b76f265534a46bfe84f'
            'f845c6fbeead5774be0d47f25dfc3a6d75c7d32221b7238bb1bf930708009cd2341efb7612e39d882cdd43da1320a2f4756eb6fd658bcd8c405fd8ba0514639d'
            '2731d2bd05180f10d805c37ca3e4682986fcdeeedf07c38b244c6eae73081cea9d2648c8d58ee5d1c2fb6fc3fb44a6ef90c67bdca03d80157fc80a65e458372a'
            '71f20b2783643f3ebd30c2d799882aadcca58b8dcc462eeda8010a8dea7cb4929d41d2f02b53380eab9ad79e9d19bc0665a98b35c60c94d8110f7a9ba1b54c91'
            'c940ef8a12bda20cc2a1f684667f5317cd23a2201c535b79915775944ea4e838b05c1c0c26fb5e37cdae9b80962e2df3bb0933195bb9b1667c47f49fa8e3934b'
            '2e8db53e948af53cc413b9704f6df2c00a6099e10b209d866ff108d3bb9a16c0650a52b5da16cc358da2ae9f118ff8a9e860893d270d46ed80584a68f9a849bb'
            '89b4c9b58d8d46df8296d55fdeec6f908044aaed6828b13d2a76c822c18a6c6c08b49b72551c7cc6dce1c9b7a324b7660ff156c7e4b4e23fdd960ec55e0899db'
            'e89669f0e515bedfcdd64cb8f3807f72a349bf90e310d85cba99b3b9c58c13f18e2a0191ea9cb0d6893563dd94d47ca51fcc177e4998d187bf7212251c589fad'
            '3e5a16a6072a93d8ca4f85ef52b9989d51ad497415cd38ce5fb10526f5c860d146d3adce24c4b63a5deaf7ece82477724526890904534ff530f0e181d9e385da'
            '3024e47a8f7006012f59888b38991fa7ad8007ebd0c549f220c68828c076d056b05b6bac01158406ec25783768787286478552fd90eff85d52fe569f65fd98f5'
            'd994972670f177e7a1565066c96b0d3a7b27188c88bbfff51a47a50606999facb87e795e7673a6e5c60684371c350ccbe52807f600399408d91da8ce69600479'
            'a735f00236aaaf1f4622de76aa58b422a887474740ad0836a1e107e74985066926b20d8d6f0710ab0c2def99e0c9c4826b66f371879d1ef46caa778c5e271dc7'
            '16a0a1a0123767a7a535a8a28ab81f45ed4cc276c76b5ca7d7cd9b1dba42aaecd161a0627ead23c8e6565e57b57da4596965cf0d04cdb858af641769c24f0c94'
            '19d3b919a240086edf3ac0f476597341c622d29a9d4827c06fff11eb4b6d452e7241501a91a2838b2f217c58672e22a19a2dfb8bc7a9d31b142b6e2500c3d205'
            'e617ba07a6c18ac80421d021429527fd637516de844863a60e61b5e9bf3725a0bcf5ddfbd90dbc7269c5da437a7a753513b686e01bba6f39bd240b890c2b0707'
            'a5bfc8d0c18dafcf31b4c42287fb05446f23743c5ab53f57b93265b62bac0b614d4bafe9b118eae2f139dff0127d2a202bf04276656d3c2e97d2ea757cf7d988')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
