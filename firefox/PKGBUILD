# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=103.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('957b36261472247bd3062c2cf26fbbe81cc89c898a3837d2d4292d93e6d0ca6f2ea090335ed7eb7643d2499e1c19835d36e83c64ab79f178a6feca75213705f5'
            '36efc86cab0ad0232c25645f94968c6aada5c96e693cf93ca3d244da99942bae6791b8ca8b9a689ffb7e8bac5afa0466178455215350eb3140bd2ca63d764fd5'
            'e204446bc2fca06d536bce01d9d920f8c6aad2a78ea1cdd4e149582616bde6d1155e5a0aab91119e7b02052368cfe5662bf6636d5fe18c9ab147a357b35a54f5'
            '35540a4ce39efc8c65282bf5e5934f3b1d932db295976a889f3086437454d0bd0987af17feb6d935154dea41476f59a32910d1196099fdeacb12507a4d067e77'
            '156c635d58dc4283cda6ea951886732747e724228933a3aebf8c7ff1629660a529f5c2052613240dd8c9c85186b754edd26462108dbc3cb6c3951d2bceaedeab'
            'e8e8b71dde722dfad3360c8b578bd3ba1ea40efcb9214cc5a25e82f90c0d4fcaca16a070e346493b81237bf4265d81523c198d02ea3225eae83622b96062be59'
            '2abcef585eaef03f6cce10bb39e9c8de05a324620762f0bdaddbe15550afe65dcc35d71d564c84c2bc263c4d1c1a0aa2119e5a1265b2a3247aa0247222e9b311'
            'c887055d8369cabaca43a401011cd4c706f0546ba6ed4648980b0824e75edf73f91673354ccda1355967efe70b289d8f8bb9f581cdc37b05ac41ed8231357e06'
            'e0e0e67921bc67ef16cb40fdb6543b39c935d20940a2ed18416f70662d9504a0743a1dab841214bb087ed6472b30d944beb8479eac3986c4287ce1df758630e4'
            '1739c3125eeb6826b016ea4d28844e71d45e0bad2f4d422b8c7677dad34b03660840ebafbaedc1fe27c7f66b9a9ed42d0a57c32bbfcc59a7c53493a0ec9e7d9d'
            '025ea89eba79d5db4d1fe3e277aa9a1e511b8ed7dc2e613059e131575f0abb09715b04de451db552040499e2f6b29421384f315e0fbeccd7f9fecb892b44a52b'
            'bb23a6361e21c2a46d1800d5628e96164db29ba2b8121ba1ca7c590920d3239bf9b5d3d09595a303a2053c9123467bfb0eaceb9dcdec7618c4e2d5fbc91bdee8'
            'dca2e423d4c6390a53eb6caa50aaf093150beb97a3f7a39a937e36235a69e1d4d0fff66629ecc60f63ca35bca3559d5e21d9b4fcd4ced40403c23317cabe543d'
            '763dcaeed9adc56df75eb4632b6a9184b59b22f5518a223910d20934ade76467b5b2732148fc2f5342ba0371d9682ddf354ccd4b8a3823caedf3b918e44a4e0a'
            '470917b8df6592f14386a502706c0da6ea787be0599b6b9bc455a4c7532d3b03fad2765fa2c100f62a9a552dab4180c23b3ca992dbda90685e6c4f62f3100851'
            '8b60e4284e6c4bae9fa3cd67d58dee9b0ef76f8669585a6eaf8756aa0bbf1452e2c456cd377e70702a2c3407b74198aa086c94b1ea51a2ce919df938ba244ded'
            'a9e91cb710400b9004ac614c74398a30a2d0c811b7f5f2e470192255162a7a5b13e71c8b247ae2a19a7e5397486fbda516b33742ef4a599b57a36e5f390890b9'
            'c54e5c9d28b709554408c762d9976bc18d2288cbee10e08b7a4ca215ed50be9033ea2f9b2c1a35e12df80fc0939a5b945dcf5cb693884fd05b9e2ac457527a15'
            '4cce07a305c17a1516aef2eff0b525a62b37e4f0a03cba62dd54db4a53a4205fe8f908284aaf7dbeddc51f0c3b7cf4b7196fca0a058a76e402039cc790febcbc'
            '6ffece90e31be81a1352fc8b3b8b25df7d7cabe4788d7398b767ddcdb49822658e0dc0de1bff74078362465ec26c8bcd1e5e35b213281ee9503ca4ace270dfed'
            '294d31c28806632fe879350b42cb3e3fa999904c275da304aa9190a797bf5fbe479441180938cf728429e59a5e75b0be2bb59d6ba4454ba6f875ed7f9539acad'
            'bc786ed24bc241d226636e8154cc1750321370326d5e67eb4fa9181b6498e8cff783b2af257ef702bf29b44798ca22852589538860ae3351482e9d886b61d28f'
            '54b778e963875b7063deb20d34bcf65f2a4b60050946f63ecc1c2c1119176694e453e60bc2944f8bf91e4d399e765be5d37277db249e576cb0f237ab0b1876c0'
            '2d9a3c4e12875c9565b117dc04ca301cf59bf94905f71df61dcfe9ed6852098f286f0fa874489ae2132c1ca4deebbc6e916fe0f5905086e2e649ce0fedccb567'
            '87bf652f5a8c14b5f029d6d229a951e5d1e513bc5a89b605d32046ae950f7fcf9cad36dcb7531b9ba6ea364161d0b5d0116b39e15c58f000cf66a17c6979a909'
            '5e7eda59a7ab6aaf8274d21f30863192aac640e0060b3c3874a58190483ce7db359d41115196d8dc5691c9f331e8243b6eb3c570b1c9dc4160a0b7f38a24c023'
            'b664a17962cc7341da4e2c4623b5a3869e8c028cbe1972d13ca02dcf1c3ff3da1f4426aa24e017b506eacc018c4b05b1d0f25325e2ca36a6b3175431aafa8b89'
            '57eb8cd2376208cc3daf5adbcfb2c577857a8a1d6ca1c38a0d862024c1677e6b667cc18d6c99003acdc13fe56c04bc02aa425af0ff22476a0ae03128315e87e6'
            'bb7110e8370dfdc3a5386c710373fe4d38b795ef1d42896dc255609797a3009d9b94b25a45e9e600efed32c2f8b0d34e923738712026fee69a09c955f5dfe4b2'
            '9e848eda97cc0733a87d909bad8634c6ce2c4f993209be354b5f35d22e3a1157963d0d25fea8ebbfd6c1cc84974f5b0236cc29bcdeeaba40b8187a2eed9f3e4f'
            'a4ff6ac7c33166a14b2cd32b8f2f0204c9278f6fd633af42868c944862064847dc13efe1080ea9ffe72fa0477a63ec980b1124960f16cc03485595953f9092c7'
            '00f567229df51a5c33a55c08475ead09f1eb85029f414b6206de47d892ebfd7d4cbb303fc761cec289625f1641179305d467fb2400426c4bd31b0d4b2888847e'
            'b42180bb24e5fee6f4ef2ad6a8404945855faf20b8bd9b552903c2a38dd0c23ba0868a8449209ae82b551288a471f5350b4f1dbb15097f0beff10f7f5e396169'
            '53951a57c1becfb18db6ad601780b49fd4d4b3b2eda24040b5cf508d465aec23abe61d9fa086d91b99debfcc2755524f488ef5a6776701d08dc7dc500cdb9f2c'
            '261867c89c5f4331faec401b5ad0f9e166760e032924646bc8b6d0d77ddb82b4d150112baee565d5f7a47c195f90eba6a55656bb2f79a556c470603407cca312'
            '6519b9d52a9f3ed650076c991fc6cf24713a2f203b047938e6abc642e2ba343e124ff39d8476ae58bfcca93cc99f11213d78d1710c5946ae4b62947a421492b6'
            '2a0ee31afabe79e4f00f8f385953dd7cdb5f80273a4027b776396e2dd26709c0f28c48214f1a62858fd73ea8cbab7ce829f69f78781d283458af47f2a1152b4a'
            '56cb374044b5e7a5a924029dc6397601b6e87cf943af8d2f79c9e38df8c97a052d0c992f6e44158e6a23fb3b002e4d85a1592251f7d3c2e60b0f91f9f46cd600'
            '60116df1014606b97935f36984140b4ff96fbc16e23d749965a94aadabfb43fd098aef9a650763ad30bf3c25ef394a84443e2666075a6e05bea2280955b02ec8'
            '1a044632779a9d7e7040b9ab2cc1da0ab124fef35a6fb70f9fa161fe818d9d6eb9ca0063d6bc8a2d1690e52ecc4aea5226ae3f8f0ab0531df5316d6e6f14da4b'
            '2177171610d3466d1c4a26932ae32728bc1363b631f6964f4bcd36cd643230f5fbbaa14ab204a493725a574cbc8a4bec8115f6bd35a17616055209c89ca1c6aa'
            '2c938099d464c66d6c7e8aa5eca9fb073cc3e0728018c494bf4a01effe7cfd6e78752b2afa9a2d81024a1b7a2e738d1621d1e1690578d455719948b264af9c27'
            '54f76de0b86f66f0a298df11b260e7fa5c2a5c8809231a98750b9ccddb29d7be1faafe36430d1e06490a95b4b8208f830a50d75c052d298d18637f19debbc607'
            '526869c5cea7d7ad06419ad56aafbc56d397534924896510e3304ace4b023346cd4ef3ee69219b39250f6af6d826ce956cfbd0a53694b6837adeb08e9f0cdbc0'
            '99f2943f5502a60cbd14ed1ab9e12d3a88b134a2bfe3bebecc6564e37e1aba0ce5ef17fc535aa1f3e7834d6b85f2ef74c3b70fbd2d261d45e93bd1e6b8c39143'
            '2d8b5f6395ee51222e23f81978451b1e00aaeb8be04d053c06abd279da083ea2adedb08da6e544f0e1d7369a5b1cab8ac36c4e6113681254106d6d0b89ea371f'
            '5c3576ee1ae33af189a1c694ea2be90cdd98d6fc54df583f4f27ad974ddeef55702ab1fbd370b095a5be53f6b4f94bea8358d507a01cc7abfb767d29863f0e6e'
            '33b67985658185065dba0e6d09df7de75d7488524158b1ee0f232a9e69ba61ec57b1dffe871ac5b316338abf292092c59b0a336e2abd6d5c7f0d0010f49a135a'
            '172a556b4c01db3fa2907a6e874aeb1f4b448e0d747c7d6a27758b7ecc1194fe36f7b52744189b842a6204d8a1dec56dde71889519006bebf7477e3de27e4baa'
            'f88f03651e8e2d3a2787614f523e28527cdbdbd40ffda0bc1c5c43b3de0ce5755d1cc9a38e3f2d52557d14e774a42c7c967303db35cd49d48620f3857ed64504'
            '3e96c8b7a644fa1fe8e1589a97f1100a7b400b14d1a996fc045900752af3ab4c92bdefa5b0ce9052b70fc303749fde3aabdeadf1e7b147c7640aa1a0e7731c7b'
            'e48a75c02ecd3f3675321da8c14312ad55cb78ef3da8082a038960ec32594b2d41a0571111e579110d3cdb0083246281224a35675a04680c947371ee96927968'
            '99f8b45937b4693f8129b8e2678913c9766f2abe1fd8c263d6bc1f8ef273eec2a8045d6423af5dd360bd4dcc3bdd1bbcb82a2f37ba5839a1b87700b0d22aafa1'
            '7a50ae25949c456a39d5923a07a104462029cb80418fa9db127301ad1ee524afafb005d9d709dfd9a1e2aabc681666bce5342fa3ce307b812c1ffca36089773b'
            '08f98b9a0cd0b0f02b1b42be669200706bf7aebe353cb63f1f6ee86cd8ba7436656709c587492d58f0f53b55e93e03555b588d8c872a1a236bb1fbaaf4fa286d'
            '31f7b421c3ca5adb5bbbcc0b5fdaf5a777d2f2a1c625e02cefe3511a389d36dbf1209234e52e62cc0343b63a8ee9a506f463eba6382d43fe4ca178b5f5012547'
            'dbc5a9e2462ba7f92e86785b30fba0cd83ec409eeceda152f34870abc3ae9e38223d6192cdd47f045c5f5e85584b4353b09f7fe6933255abf45c3ad5df752f37'
            '87f4f1119647019ab7763bdafc6910013db0227f4fb248ba2c01d616aa5fb1613bbedfe9adfed0369e450f94f56d24029f36b775e2379029af81b6d08b97a4a4'
            '035d19c40a4fd22328a067a297c4e0d05277b6f671d342b3be49ff89f5224a3bea6e9abc3a639aaa2a9f895ba522a03f8f590fcd1fd7e6ce1f6e0d7cc8ff8c00'
            'd71a2e9ca6084aa927b87628ec976a799045ff3cb708e01d5018b62a8e9536b7b16360b6c85c9994afa6b510ffa93b6666a771f6dcbf9558c1dd29706316325d'
            '556be9bd482cabb55edb7433b8822a7a7da1e9b16b066df131d6455e0ce04ddb72f69ce33691bb47c32ce02beb4e7d3c8e5a3035a0da10a7cb3d8cc44de35537'
            '00b1e0759035e70bc47d372220b0c1985ba364808a28720f9b0f1589bf476a405c31a416dcb1fa759f4b7693629fb9f82c8e833ca5142c0e3cd47ea0b23c3f46'
            '5c2edd61b35c3689232961d22d1aa0badc3cd477a521c75a290ffc25aa2ae23788defdc56745a68727b9676163f34c4511c513aa7e87aa565eb0793bca93c89a'
            '88d5f96298d3fd3a3774d029e150e5769bc1a6fe3fcb3201cd88517ce08184c2f470832350474249e7c14bfab6a6c635117fef5bf49849b27e4c123dc49214b1'
            '19ff692f044f144856ff2bc1f31166e9e7fa299b5f9270a0ab533bfdc9c49ccba6ec503dc47923d3942fcc108832d29eb45bb781104332d12cbdf9156b553f8a'
            '1ca36127aa29cec45a55f8de6f39d8a854d811924849d79790ff92b26f6dbd2e5eb54083e1ace22d645b7abb562b7f2a937bef9d2a0388586c2ae2644ae27d7b'
            '6b66658263e0128aa2c16ad1b00ef9a7353823ab420602e25133d8ef6920e0c1d8d3257a154f962e05193e1e73595e864a10eb68a524d781a5433493b0ee1908'
            '38fe6dbb0510842cabcf100cc7ed1181a8c72066e5dd92bda3654ceeb27c563ab2132d9692ba8aa76936035f8016c6ead5981dc22ec6b0097c237fc7dd069980'
            'fbb1ab6977d8981472534c32ab7eba9c5b6a1aeb204a0bff21120498e47682bc446f2f867dce9eb1a85b48e3ae0e59347c76031615d47551ce083eb5895042e6'
            '0187396d7b42c369ad23127cc366e20756ecb459036659fe505c72ebab0818105b083f09d40ada144fd3b7b6c28f935590542047fb52df34d8cb6116b3a5eb9a'
            'b1cb03ff31eb0d9a19734840900c835508553e56204fdd4b29065f164a2ab26926c996f719bb5d55a9a159df6533e3ac13fbc0af294a47f408a57360e89ac712'
            'ec78a340d37dc33376dd27c818ce78200c39f32965d35cbdd52372a17b2537735a24e5284035aa5ef7e08c7f3c9f9632224620337482bd357f0ee443c75e9da7'
            '5f641fe0801cad00f62a635e5997cbcaacc4cc2388e2ace71a9b95af10649d6dbe1d0540bcc6a6e8397805a0be4ff909efbfc95fde282b4e585ac0a76d00abb6'
            '8c7be713ad2e7da4f9eaa82c159d908628973f00f060849dc4523a24c6ea03a9bfe00ed452a48dfc26e4030f6b27061e61027908d10748c4134b1f293ce213d5'
            '55eff37fa0f7b7dee136a144e9f6488325130b38189108fd8e1f9c2a03b2f3d4ca4553f0e5dedaba455df5d25e0acdd6cac94eb9c96e1f17c0aa1e23ea919170'
            '27d70d17cbb82dd0a176e8db6c1506d6d051cf3a8032a2f5dfbd0cfce31071d9d91e7f064c81c75deaf3e213de93314ab57b03559e3f45f1cf47562cf4800642'
            'bcf51f22b7fe4fff9c120dfb0e5d24a9692b12c2b047fd7c30c9ae516bab0475bb03e6bd8c22c126eadd4aa107b0a3e1b08a4c8ec2eb7265a491fb4d257110c4'
            '9d432671efafa3b79bb325f535c382b419f143b4c8a5db38a8a672b314268ebf0de808e079fdf4b8e76759979e7bede1c8b7f61d70935079b8642b27f274509d'
            '538194b27afae35733efa98cb650db34af2e21592b3e42cabe81117f95a8214cd65754b51c18420f1244d29c4c22ea32bbdeed571d8355d69c3d627035221a96'
            '6626065cd619502a5decf9584f43a024198d2a842ae8aaafed01950ac51d7dfc2d658652eb619d84f0ab3651692856df1c2b8c35f97fee9b0c7da9cc379183ee'
            'd38973c1668641efb8589f3f4a668c6cb7da5d521a21b323dae438ebae6efdcf80e1baeb665ecbe39343b8165c5357a9e567df6fead89b4145f489471bad0117'
            '272c4a0c46c43cf98298610359ed6ac8a6d66a24b50a7806bf31bc5b69060ac4334ee1db0a104fb8aaf679baa7e7d756046288eb7fe2cc36fb5ba94f149afd87'
            '9269d60e3e42de08ab6d6fc5fd95592eebb61b99b0fa472f714812402b277d550b858cb23ea3866c0c18676a62ad60fa4c4a70a88a5a0daca55650c4dec5262f'
            '77ecd2c9f2a2ee617c88a51391f038e868a50ad6307487cb48113717b671ab40bec11f1b53ef3587d96ba96d52caccf9c4fb5f68b28f74077a25c42e928f7242'
            'd361caa3f2135a9c4f4927dc5d4ebe6c0f3cc375d5b4147b6a59c9901821143a5097eb39be6c6cd01627a29e7f847c8fd72360a72a101e4d6f2347ba2b8f50f9'
            '75ab9ab58a8f6329ac703e157a8dc526e9b9853948016beaa086725c3deecc8593dc6fec7c7666c626f81677a8fdbe05fff61c8b4b41f8a851abf93c1090fe32'
            '68ef9bf4f52b791ec36a845858f9873c80c2a66b52636d2c06b69820a097e65a3aba0aea401c5562767a8d793a40f0116cc76bb8bcc346c86949acc49e81739c'
            '67628764f316ae9b776885bd2a17948b4a9f1d764b484715422ee8741f1407c2db18de64c90aa4014789e074b94b6eaa585376baa5650d8711f7ed3e81d5dcc7'
            '26254ef9a4f2be9b8115623867bf350c6e9023213320a8c21e6177b2d5cdeb47c8a25a34ce1dd0ff36118776aa95a663c3e93c5933e0b24dbf0da5d61e099d76'
            'f86f3ea84f95016eba5eaa99b2d5376055d525a31d6d08b9270d7916c335abf4becdab695236497a04feb7d698f72f9e9a3f27d347e707008b21dc6f9c23c750'
            '95f46570d96a81ab44f5ace88f64896e9dfd86acd4d98c91cb63ceaf42731dbc8e7b328b1b764eaeee4eeab4f6fbe7c57bffef5357325391ad71c698fb7ac5a6'
            '5b3bfae7765934189af3837b1591969ceaa483fd06d130ab296552511863b2be972e5a509053cff94e65c6dc176d07c6f6676579a64b30aa150423b1a73e9a9f'
            '452ac5845c7c5968cf8b8450fdb716e719d110f1f29656637850883815e7e3b83983b10b1fb5c15eea65400c3648388f8ba7f4bf96d49824c83d99f08f25c46e'
            'd8f693b33cde0433f1f358c49f3f1cec98725df47c852c284e0995177589c4e1efbd6279aabb020bfbedca8fd5e0a3eb53da4977d21e80f45b185ecd79eb0a7a'
            '151638d3e42e41a41ea60ae2689f70a0cdcc99d505cef209ed806134a4bd8f7f586b3bbebd2b28412f49515d7619791e6c644b9de8edf3fd583c9690b9f4caca'
            '9d2b180fc3561656fcf39ead2c12fd272c2cb8e5920a1b54cca534f989c93bc20d3f93e52d2fdbcd2d8c68fc6cafa89f2cf9caf2a9230cc142f663097f1726e2'
            'f02711153bc337bb3bbcbaf2fbe7b54f696fdb43cc4e12559c344387876293ca6826a42c229a65a7f888a86dd4b6723abade6015d32dbd845f33f2ad5164d3a1'
            '14f5324508a8820bdd8a248a4e989444c444a183aad99f96ef841d98804d1941189e49143ae9c96b63ac0427d277c7a29357752234b9ce0be543c491e9c03b7d'
            '4c054aae826b5e54e5f3c5c4c2baf10b63c307684625c3f0d48f3de4ee18bc7923f0e03eff89fe74699b30fd971b80cb5fafe033d1ab2a68949a466c0be3e48c')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
