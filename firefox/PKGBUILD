# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=147.0.4
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('bee69ac202efe308ec10c9cafe8b531045569c7fba57dfed1b1185aca7eb372f214801e511395f7dc71ae6dc336e0757bebce9ccdfc1e60da51e1fd15831e1c4'
            '559f855d1abfceefc89edeadb3e67344449269a289c9ee39c5c4804b8fd56cd4df1b50ccccd540f19b16e69fd55031fafc75775383c6f3fcdd2bd29c53c67dfd'
            '66199f48a99b8e9f865d235371da8db459bda10d28fec7042110a93e1826f95932c0f47fa55c8ddb86f4d0f3366daa631d07d9f104452902cf94b650999c9b13'
            'a0b5ae232ee1ad6333a2809ea0384c15ca2ec3f0e21f722f2a3926237ed294ff47b487333e259018e76f27a97a824f2fa3112e3dcdf28a978ed4a3a006d21113'
            '62e8f478090701cf485ec4e6bcfbf6c2a82210c7816a8237beff93dd0d1b03de8e3bc94c94fd0e58540ac41019054f73b697582ae7c387fc4e555a55d99cd401'
            '8d3246e65f42c2ee3665a9e16551e4ec342e0dc65f166be9ee016212c82f8c1fb1e328e78c46e079331ea9610912d4d395045f80b4f15a1771372107987f23c7'
            'a59b35ecf1877cd35a7e606183f69418a83754a63b797199309e2f55134ceaefd960805366050dc0384e0f4615a5001dadc20b42e41766d46dd0711dd0bfb21f'
            'b92530fe4d2aadd2786713479cea6fd9a9142b875b49b7078e6dfac6b30013a59d53f2aa1822be0d845511fb73ddc4ecb52eb29b90a49114e1a96aec2cc6dc41'
            '8908f861e7127bd20a1e242ca1180cf138f7f466000d9d1d77b7a166e95867225b641fbed04e98b614c2b4387dcfed64c448c87dda622483fa5bb53ab0de864b'
            '7d2173ed62753076c4fb1b4cb78f57499293871669d716f8e03c5dd1ed96f5ba0ab3fcfc321966e4eabbc6fc9744b58213b25ddc096be9a7ca99a65510dcf749'
            '45af05a98694d2f7ad6f79c273086a08ba73c8a02b0c80523211ea7d435dbbb64f88a87d01851610cd445b10976615b8fd027b043e11936356b8f3e58d3d4232'
            'e184496a8a920392cfb757cf5310a5dfbf80906755e855d7e331ef6b5ad6530a6bd95684f0b4778b4f356d6f460e94582396270688565df744805a3cc225f7a6'
            'f6a9cc2331658bd67c2c57904f717e95c2fd5922cdeefe73519dad7200a59d0e2e386f44886d6338f7d59a557d96cb7ef90bc0b591dcc467bdac93626e462fda'
            '0dc05a52f7edf91195eba114c4f1bc90402710266c10ecb6c5329ec918a2267aa4c31ac839051a566de1aee5ad8efd7ba5e5a3b404319c830f942e04c9091fd2'
            '49144d58e6370d123a2af2d53400f62737c93e7900ecaa29d60870b0dc2f0ab979d0b3003dc4ddc8da8b87c2ab8b3f1083053823072550ed66b1c3f9fa28a8dc'
            'd21f93ca59f353088f882e663a17add839526cc7d78e0fe34ffcfdeee2738c5e35765ac863b1344918eba9a02b74eaee325aa629ff7328e692fe8e66d5ac6f1e'
            'a1c4d3a0853c0c3971c8f4ab1f6d2e60c01249423059801546674b43ff52677d17bc330f36b70a30b995d4375208d667388630af36e9a51a095e04ce7f0dc4bc'
            '8757baa3326576c581c621abf377c798bf36a6498d54d20e2306604454ad56ab9005607a8bc9e3bd286da26274094e3c8218dde897cf2bbf33a225fe51105d3e'
            '30793dc681987de6822e0ba34a6a4224ef996eda8e3e434aa9009701ed761ee6b6883aac7e63a467e0a323089470b71e684645461e744246cc1228b3590508bc'
            '6e79d594e4b21d5066c63d0b50617e0a5513b857d69bb7c3845e044149e197d4538b5dfbd277415f4f1a9ee4d4b6c8a6e27ae0999f3a512d9ff495ed362265b4'
            '04974890b3598343985180bd873932ef8e0319c2062a903bf37c4b004b875d41f2af871c9ab5b27e0eb0db4210f7b13192f782643430e8d373d67bedfada94df'
            'c31c461ed24b541aace0d3919dfd0f17bafb80806bb54424edf1b3b6f49c7a6b9472c1012cda90eaa9798e4a7e5862b32d0d57cad2bfe77440a0b46b3b0f6812'
            '4ce6c6715df15fb958ad745b2addd2338b8127c66e64c4eab8820955c64dc780ea94377d7c00a68e2d5cfdee2bedf371559755a980f3de099020e7a8bf877be4'
            '6d0173515cae5a3fdfaaf2eeaa750a3c49ccd196a99f244fb52972881349b7b84598a87ede2d3bef4aba7672c24d32c8629cb6dee523fc95d01b460250f98a7b'
            '513f79a946dbaf793c749138f319e5c004684a9b62397624789fef8ca4485abbf4df7082538c89c0d9911948e1a94de248508d1c9bd1f5dc6e684ab206d501af'
            'bf4e892a80ccf1a5f563c640716b60b85b8f9413aa8728aff6ff2b6d497dd396fea97c00061909674503f4be5c2d1362fd4fd921604fdaf27c5d2fcc19f3122e'
            '6f0c16c07becc3b2624ae5f8e6053ef107c2d9b69c1f376dc7555b6db286750019553606be90c6c7685e0012c74b8e90f54ee5c3c79c46b788a20bdbaa16bfc4'
            '22907b4f3a55042c15a91cc80f52ba2285a136b294092202594c82b9576f7119a98ca3d19569f6ceee46da14e902ca19014cbd7cd7e14d0c849017a9b5dd1a68'
            '48d37a9adcca269ddf88314b87d6d2cdb8743476bdb36e6b5f7e99cd90979ccb9d5bb576ed92833b1688c25f3a411822c3018b65c43c33fe78f6c50fdfe4c1b0'
            '0329dc7b125dcd7cc5d84024f183ff2d794e46206e874228593f47bb53743e6c55a30322b19f48d2dd72de8ddcaa4384019d43475400bacb56722c524d2d1b3b'
            'ca9baaefece0f82692d5b3953853279256e79547caa08bb4478830ca0affab07fe049626248eb5f558d61d572407b8f4afcbe1793d5485dd02fdc5b579e87fb9'
            '524b15c010fcdbd94130be75f07346dcda078e25d49913d630a07dae3b5693620b86e597f23f58965cf6f08dde94f79720fb9aeae14cfb0f1e47b9636000a402'
            '41b263eae2813af7d8c88014d85fc270f40f5a86a92f842934d66b18998432082e656d93ca3e5610ea2f3c18a0f70c4fb73c661428101c6fcd06acab75cd7c69'
            '0e70638f6f150a29418fb86a1036cb859bddd76fb43af742147f489c43a954799aabe16bbcf78f76c2a921de7ea9ef99d647a8a23a296713d15f97c20e963319'
            '585d3d899b7ef2e080ba598fde45398871080f74bbfe7852f6a6ed853eb4dc8af9fe0224b7589205de748f80071c8a43f6c4dcd2ea5569eaf58c07efa33ef56d'
            'e80c9487d3ffe5854c0e5baa07e2d72d423589b0ed2f15eb0c200e73755688a80be4cdda80a752ba7bfb76e86458d7f1bbdf4a47ac21a1c8b09c951f9e4daf27'
            'abcd104504f6dd262da9a9a25459acf211b6464bf01253a5645301e7224296bca4ede3c7ca84dcc05d0da97d7ef91b54c4db07e3ae380178e5d1081eae3992b9'
            '9cdbc3d98862e0b32e3775604ee978ac745eec761c75d346e749adbd223b7f3020b77eb2d9a505d308b00f0081808c0ee70dfb589b51ff86607718b2bd1fe15b'
            '7662fe0f9f7b8713530898ee97bef824cac6928e743d83c11c1abc6845ce2bf5df6505f541c75be60f24eefe3aeacad3acf3e3059f46f123943ca1eadf4d4fc3'
            '4880128985f9f4cb20398caabf8aeba5f4f2c59d7b3f2c0f1acb883de0f8fb873eb0548a7f4a0edce3440f440a8fa06f06cfd40c49de3a9781f249858a8d4075'
            'a1f8f63d8441a699161100c330d5f873dfe01c6497d460fbd070db2b17cb9845e9effc36f0eeca45b901d62661d612609de1fee2f913d775a73fc8fde95c765e'
            'cb8d3cee17f5ec5cf4877c7a97b32c96c1608c3b1ad52e40f19fa67c18215607316991fdf2775a60a8d70ab0fb767f87c7078a3ddca6413959c44fd815799743'
            '0c8c791c9c57bf750de7b0d45017489955ed9f2bc3194b919184ef23b06bdbddad6e2ea85521a93578774df50a1fbab49080b9c6c2436292deb4120da85486aa'
            'a5b0939d562dffb831e4462045c13fab21478328624d89fcc33eb976a8b74b48c6b5de1e47d61c701d8152d1d6a195806a8f3f95bf38f517131f5d9768af4f5d'
            '7537b37edadaab8994e16a6796d9c85e3163623a180ab39e7268ab60a9679c8b420ce85e04a767f7b41f50e0d3a4aae12aa33e245e270d74f7ec8abc6eaf822d'
            'cf5829651c2ae25f31731f80606da03cb5850e6fd42e301786c37de73b4387128fbd0be225febadbf6bc429bd69730792903aad720b84470ba99dc2081ebce45'
            'adc364d920e1d0fdcbf8fc60ac77d1add23af84afb460a4c9b08452e0ed441d62de1670e5a7558f3e7fa32c5ce5df16f357ee500edecd7de3d31d9da26298a37'
            '16774712f40a118ebf572685de06e8be7f590fecc35d0e3f5b108daa883496fd322e752e0e537576d6a665d140b6f4a09d4f9ccf4b3b7d3b4fd6230531d7f513'
            '44dbe5e3ce0df81b0e7cdd0ed401d8c4cb1754d17f0d2bf4c63dad4350994250404562e1bf530fbdb0aa37dc4c8bd4663bc67b2e267334cce509d3f2f46512a0'
            'b09d773b2708eee67f024d013ec5687c39968ff0f91f4999e152f54eef7839c724304297d9296b41e03d60b8a912455462011dcfe38f317d56d53b415c621983'
            'f9d0dd2384c5bac53e5fb3c5b57d3854bac513e42a1d74a1b5e61e6674da298b7533c680ab0adcba10464b19eefe80aae8ac246b508b66a832631ad1f2ace28b'
            'a51da6c581323cd988aa98a676c44e76d0e77832ea4a4a9d2f35db38c65e8675302ae02033cd5ed57cee1fe1de50090136ffc66f077b48167f5d381ca28abff1'
            '9de802cf98d1211f1eebd26f5f371300f9187eff3a17851c5eb8f64e64b5f655f2cb6a15e7b72b774c5304fd53921f4d74a56c0c0d9aa23756b53204e43a77f1'
            '8c3910ccb9affd5d9c5cbdf54838aac4c051c4bbd525324196ce05f69ab415e64115f937f4f9e94f1ce845af25286095e0069cac2ca8b4e048ce5e64871b3bec'
            'c5daf4f2d724ff64c28fe11e3d17e1b423b667806497c44ecd5af44221d7428fbb99fa8f59815539b9568adf8c6e1e6449ac48bf1513b12d31410420079d809e'
            'b3e26e83fa9e4b59418f6bef5d4c317759290b1586aebd264e27a220ab650a314b55f1523207afd2ff9c079587334721a99b57736af9e37eb1c40f993ce79fa7'
            '187cfd3931db7b97592105946b05d6693f66161a4ceca97963eacc03a26da3121a2c7db4b75da2a64bbf4f6254cf5f553696c40a23998666a65a2f1aedc813bb'
            '2d9e13153ef112f4501cd2d1df1158ca1bf508af9ec9138f802e10af7448155c68755d59473a2787873ae66d2ee7bb4ba150ceb293ae844e3bcf3f2b4a27f85f'
            'c4223f82cacc37c4d925cbc2036c14b97c2c3b0ffc76096c7d89ed38d224134aa2d4d3ada88992bd67f1e657a0b79296739d69a34d38d8a0ac590f10d7c49f54'
            '0be796eb1542df46e752b2ae3664367f774f23d7748eaf738de3fa878870ccfd6f2409be75f20c702daee4083277c586fced6cd4a3ed2803fb4a471d0545f159'
            'c2f6dbe015d3d7768532603c6e426c3e40d441ef227c00959d25ab905d7c2b20d06238cc5ab1e5c2438b82d0eb9fb595c864ffc6f4eb3b442501a089e266da86'
            '2d1b9953406307c914f5ab46bf6e019daf54140de068e682ba1932264324d1a08b1f0b6c3a981e5367c50fcffb6b627c3d4ae4fbbd7a171b0a67c44a213bba58'
            'a7600a600f2ed04b135befd93fc0d92a0e1664b9692a49b663cdd77d2310245e501c83d28692cef350a6a7c665bc3bf04ace79e7c10001af8f271aeb3a409544'
            '6737ccbae37b758e419b6aeaf7947aeb7b420b6309a9353331419fcd687b8e10a8a6fecfec9ab44848129435e5cbaffa4bb3e3ece6b7d427935a30ec48d9b704'
            '70d586a9ba5e9f2e8aaee5d4e06801987ecfd3559565ebad2bf95ce3852de7d62ab70322c9e2e8b328cd118aa6585a910f415dd8049d0c29dd98a06dfb1085a4'
            '796bddd5b203591690df94ac353c23b9656afa550487100f87de3040b91aeed3f31505a8e7e8d3ac4040abe26fa5101096c8a83964a0572d536a22ddb3dc122a'
            'a812dec493c23dea459a000f5d67183771f20353e4e5796398c2ab44c73c417713730a708c95f497f6dd59c34590031ab00428050263ce1d0c0d8f23ed1658e6'
            '46b7d867017ccbed4e80477b6d47f8e98e4e85e6e935f526d917d6bb199c8e3484c80f3eaded9a6645a1203607d14269e7f54f00b5b0e6dfe2fbd092419aa05c'
            'b62f3cd535a41ca1255aacf486f693de2eb9b388536f300ed3c7fb12f8415420d2fb98d8d05d24aaa616913528da21b8efac0eac154315a4479368080d72b358'
            '69338545270c696fa57ad7fc7860337c79a2e4ab49f09375bf451bfba16f5b4bf05d53ed91eaca18e4e8072bdec68ad5252f92f8693726315e9d7dace1707ef4'
            '032c5a9c003de21080b1e1354ad483e9a530bb3d2489db96f23330d19bf5e952c8423ab52b30c38b00abceaaea93e1671570002f2dd86b84232edb6d465dc480'
            '685411106bf89190ab6147a1c7524e4d9e59a75ea22533849dbb7ecd0f922c3fbae489db96257e20bb4e1515b9ab44424e5e8188d3e21f4d6e31fa2e3141dc39'
            '0cdb2054505f99585162aed5df7b4f17968ac0831a712ad68de09d6f94d1ea8662496151dbdbd322d8a966346a52d8fefbba8ceefabf565fa961a99adc81cd56'
            '1f6fff266a348e8bb45c2a8d52a9aed01c0c44bc48847c7020c849fc0b0d8b553cbd738d435e820872e3976cf4d10361a023deb5df3a630773c748ad272086cf'
            '12f5103be62ce6f4da8956f8e1fb14545179ad3e8de1dd84d7c5da24c5b32f08a2cbb736d4debe5483a34c189ed53fddcb09f541f76706f96eb798867af2bfb9'
            '7f1297cfd84938d78879c6d23ac6e70580ad219620a737f265a25f386a67a69c5142c5db0986cbac00ffc5d472bcb004d5440a44d1d50fef3aa41d66864cfa1f'
            '06998026bc13099f9a58e445cb77644825ef65881645a723ff2ec9d5e915248a78797eb48376191ae8b4a787fe467ffa37f99cf739f4daecdcf55028d844b24d'
            'b598179dfd23eec0d23c06207121c784a8f89da1bceca22362db1c4a1b5cb70df70d0abde91041cd701ac5e25e829b47dd9a35a9ea3d350220189d230b4987c2'
            'ef48e41c1b6803a584bedc1a950d32b9bbaae9e0a574a8dbd1d608159e7298d8a7049fe83c7ffc8ad754bf974eab1479cd32b9dc486a1415488d0a6bd7e90355'
            'd8c2906e72ce316947ded5b3b724355bb6224785f4d853123195ecf3f5ff7af69c0cec6e716464a495f93385e09f3acc3ff4935aaaf3682efa17139d48a2c9c9'
            '996564b92ea3dbee2ddb0d5faeb42e7893b2e2cc0d2e030f3ad215bd085d35e617c4cffe7af687bdd73e0ef691d8a86b443100c0354cc246f79be9f8fc18e45b'
            '08ef28d0c7a08fe66e6492a558770cd8c4e37707c5c7c21592aa0c41a21dbeadd31c80d76d9fef6434565f791316477a43ddedf6e2585defc407ee130d201a60'
            '4ac96b503355809210ad2d0525e04a1e1a715f85aa62e5c6eccd34631b28b18348343ff287697b61e4284ec80071dc3f4bf4f28aac5706c5820f47098f92b312'
            '008209b438e10d2e278d9579e8026a6b5021df8a3358352b7c5a913bd1bac762ad09464af7ded70eba292f25bc387046747a8da4aabc2a9afa0ca3db061c627d'
            'b6b5519e4793adb3640b71fbffdfeec1d9b57a220e50eb841ef21c41c9f8fee109673ecf9936195e8dc2aa822609e43a3636cbcdda5fffb8297046bddd9dfc72'
            'aa71521ea71a234c6143aa83e0ad868b7b6a60fbedeb4ebeed2440049acf3b3a0ddc505ca4a2b7772d46708bda02ff29b5ef368d7c5aec34e61c20aad654f10f'
            '06bddc9c48f046154be4411d9b96f02bc896736c1caaab2549bce51ae87b8902c23608d8fd57b17632457b8d07f94b9be02a6630cb4e8838d9c2bf4720a667fd'
            'c13afc058ff0295b3c80e0a70f44fef28954996498ca26dd82b00365c7233e1481b20c1edfc8b8176847a1aca53c418e9853cb22e5e35a2293eb562ffd95c3a5'
            'd9406e9978e17442ddbb1d14fb9324778d57b78be57777254109b5ea884e8688a0a27ab073ee3b640e8c8a140cddf5095cd017351169334dead6d3cd293ef497'
            '58aa689ce8ace9feeec289466cd8bfe11226c5d8fef4d7de304b7b0222568d8c8832db012fac02c05a78e21faf157b00ba79fd68b7d929182f613fc2b17da772'
            'bfc47e052c523a82737074d3fc91fbfdceac820063e2a811c393d96c86a1d80718565d7b56a950dee85a88937901af458208bab33ce252f77c10d89b25a37833'
            'cdd3151e4fc0635c593cf881fb783b40fbb7b4d122f88f9a25451ec06c8bc2261b48fbc343dedffd17d7e3c818ba6a21d56f1cf744f62e208bc81467d0cd7a59'
            '52df7d9a2d9c714ebc83118e317bf98756dc9cb89aa1e1ce6552ca17f031c92ef9c2317c747ab79eb69823e0aa4e1ded8bf30a8c31baecda11ec23db463c0b5c'
            '951bcd2333c78ff971eb313df4b1bf173e795e519bd7783f60b0cd5fc4121656af5bd7e1de79787c6ae7ebb2b5a1d94e414e57cb67b14cc4a5586d0591c32372'
            '3018041dd833228ea9d1d5dac84bfe47bb2d9f3d77b482bf7f3ab8442242a80ef1185ee561dbc7518950d05a10556f2adfa6f55767427b407061529650d0b5c6'
            '72d27f52b968a3c8ecd2f040fd68ef89ab76009039782468c1a607f2c1e846085b2a47bc12d61179881a8fc5f6e02857118dd04aa03684cfd2a36c3595c8187d'
            '2364e6f0e20a3eda5d314ea417d7059879c4103a36108c9be6964de2d591074b62b2ba899b7344fc9f3c2bf7fdfa336d1e837ca3fef5d2691950e222b554d11d'
            'ab6355bba85edae76f6d1359dd468c75aafdba0a2c25f748b84b723f1893b94e23636fd821daf00d966d19792217c7d048031b1b20d46d8b6c492c08781bb511'
            '3a2ebc059ad72994e87319124c64b563b31342d4b2835ec036bf899e7602601b19fb3ee8580f845a43a6bc40cd75bfe201a3e7dfdad9f5fbd159de18b0088e5b'
            'b5d231133193278363127f7a3166e3918f37beffd6d1568bc7d63d16c198e1a114fd26f962eded364ef80e6e7e88c0acf4be7840d7a13d78c6dd7b65d4fb3672'
            '3cd26b25f9b27b815a19236ec4d13adc0e83b57751355ea9b349c4f39f4d8cde0ebae3df93eb2322e628e378ecb3a203a120146dedd29cdd9baea647b6a12022'
            'f9e0e82b4858a34a0e5e84023ee758291897aceb338385ce76633769266a42fef9ae5beedbc70a84c6735d96def0db4c27a79ac5bf11148ea5ab5cff1f95d87a'
            'fc981e8ceb43e87efe93604f1fd49a4f58f16e826f116b8e24d24a0204133bc254f4f733ea4c13b9d221180fc13baf8f60aad4ca5bc943b03e46e7d837bff9eb'
            '8d619d9cfa5e86cdc4d33a5191c9b316f7d87bc257691b71a3e67971999cd8b537b0706b17076999ed86714636ad011c65c5ea2327b0e5a87ccdb07e3b76ec2b')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
