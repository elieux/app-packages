# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=97.0
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('ddb9cd4deee470dd94e95d2e54efa48c01ea4fb997f7dff6208d78076a01e6310bf5e943e032aaaa3c17ffdea2d8e453e14450d3a1de91b3f14c0cabb4afe6c4'
            '82ccb67bfca8e402467d7cfe3b0c95e5eece0b85625a2232cb8c21df8ec8d6a91c9643736dac4cbcac8a54de87b7bf7a22586e1d89a798a7c4b1246d60870361'
            'f1e3e016dd880f65600c3c161dd56a3d1cf9014c7eaee87eb58e294213df30aa12fbb65745861418bd05bb71098db42264cfd7e3f2314dbeb98fd07ce930b4fc'
            '0651eb1b317dba01b5954741bbe3319a693e58be91216b730423c6fb4b9ab2a7463900bfe007e9b232daaea17e5f9bfbadde3fa1e87ff8db1555060cf9f462e3'
            '582c7df3daee36bfd2637b54747fe412e9323b994fd9dcabe442dbba7a3a6384919f9d9bc632f2a65f010ed5c54bcbece95688f008ccf35042d703b695ec5c16'
            '81e4225ff247675de82288786572a3d65871d39b248673c5f01e83608927e89023e5cf48f56902f2aca817e72b35d5bbb1b162f7a2d51f7d278be7206154b88e'
            'c9e61fdda00029e11178e0ef204755bcbb5635ba811bf1789892672493c9931cd79e2f0f527b4695eb9de1368efc33c225ed61f4712816735b053b0529f6154c'
            '5604080a203ddef03e826be69eb417b5a0e3cba36070f77f7a9930ccafb2d37b616b4b37b69b72ab0e4f8b5547f8552a66f791775ea6a8d511159af32b4e56a3'
            '0e9336ce561e33c3ce81ea7bc67e8218f573a62c9ef87588620b435c2b6a8eda6e7c4a3f63a7026858d7181f5b598bf2b2b0a506dce875e4b7b59110fca12b53'
            'dc08a9c564dbd3f3b99f3bdc7e7e52a7ee83d77685b256405f4374b8153e9e0d3a4179498a98cfa78dae62f065f9e961fd378a9e696be20c9df66fe998d56176'
            '1247ca06d7d79b5556b9acf1b7b2e9891c89d1d28ef05796f916632083ebe9ecf9d88e9abb4d59dd2a3cf45d289c77b5e7f5e78900f0880c5769e586a13eda08'
            'cc4e7bb5e48dfb7e3410d17fdb35bb7b63133d99732033c60089002875433731f01730769e5e118e7457ca983febf8f9c1d6922c0de13896040fdcc6ccb9f5e8'
            '53c8f3df7a3fafa3a9368a123aa28c6874c6a2b827172db57db3a7a0e48415205938e73dc95c4a06367f3fe88c9ecc60ae267a8ffdc7f7c84f9b0426ebf09e33'
            '9b2ecdb9f968ce0cd803850daa03bac62f13c0545e83550cdd2084e616b470441242b2d7ae4d0c926deaf2e8c3b8d3bd6d35866d990f3d3c81a2d195248accad'
            'ff315ad0bbcfc9d3b1ac5ceabaac5f242701715ba136dfb094bf6b3ea3a0c94b17b9a024e508c6c6c6ee320e96ee7998f4943e1e060f8bf48c148dc4ab432be9'
            'da12087ff1af5a8fca38640496d67cca2332a09b7e5ab260d8f1574ac9b786c1fe484ab1d1be89dc00f29454dbb79f3a9c70178d1477980a23652e8b6b0727da'
            'd2a45a7df72ce7ff10707c4b267d730f41c6448cde78f55e99e13e6e5863aaaea8ce5ff709ca37d7791c6bb7ce7765b5fac8bea71b97b77c430542e9cffa892e'
            '05ef491c2d3d2361f4e5976b6027a3e7daef5a3d5a27d9c6be6962f6ce337b7d19a7a21fde81b352110421ab94f8d4dfada90efdc30dc3ef396f3229d1de9e46'
            '1d54fe09a2a25ae24de3370f5b1fd1e906500a2798615ccaad553c7fdb6b78b784c6ffe3bab69290e59f316ae44200440540d356c7dc36dfb674dbf574f54085'
            '1136f6fcc2ea6bf9f9d542e99ea4f205eda3fce4223dcb7d9574e69627a59d8fbde2bf57864ac963b509fd9cd9028d2ea67fbc61b6a47f38d6729bd20f5304ac'
            'ed22fa8a72b16b8144e2480f9c461cba06f3b82a3d3cfed96785cf2fe36966e0b6841329a8e1bc77a4a7f86b596c9e9a423366f30758ace67bfd040f308cf115'
            'b15dbff7c29465fa9d6348d2620169b8c953fec16d559c3d1c3c632160449d027adf6001035b7bf7dcdc91e4983e0d402b2fdf1140d581104740821ed3f66e86'
            '576a4b2909fcbe0508a4c94fbe4cb57974edbb9639e480867545e6bc6125c00ff1744442b712e34003bdbbe4dde4760489b5d579e8e87329a71c7869d1e4d320'
            'ab648224d6dd4f6bec456539bf91c9ff069c90e861bdf6edd21322a0f01e352fc097e5b764dd83c135b0ee7048ee21e5360490cedc8c30b1770493ad0140fdb3'
            '5a2a5a9b3ab463c7fb2434e4fc7473a74daafb8ff060ef34e7a29a935a36b3097bc1a1bf11e4ba0208ed4571fdfcf6717c1dd70daba072eb72a37647a3457279'
            '42f17a158e5f69e95b270d51acdb1dfd84719401e7ca23de62f40ed818e400fd4aa7b1b2a84b2b9225db3577bcbfbcd3cb59b0bac642e7a1a218230113c5961a'
            '8c0a2914a625d389ef27f104c52d1c2e2721fad1b87773c6bc1eef123b573689d6996c53812c7cb6f30e48a14accdbee070350cf2d8611e63fa255cc1013d466'
            '9c1261b6c3f9fc2cb1d758cad1cc52c1e88a478f6af52539c907c38d40cbe852c4c443bbf648be1ebd525413d67e5be976b11150c772156af57927ec2e9fc28e'
            '0938ab36d92c168886a422d7126cdd809ee32e3e795bfdcd24db58a044036d4df1018e651d05d093d0f936202e246b30768940dbf38e8bd7569c25253e08439d'
            '85a3d5e19163c179f61476ecb023d874b8fe5a3034cc52b81a10cf92dfa7d921a6b77908a013a933bdb08f5fbaa491621c2d1afb160f46769411f95d13a39afa'
            '01a14fbc94e4d9739aa6821ec3966fde1f784c0738711f640c68b06a41106db4deef1ebdd87df5e7bdbb09ace5c46e878e9e97d7b0349cd0acbda5cf4205a0fc'
            'a34300013ec8a4faf9c52815d8dc69f9260697c27d002479039efbca545c895f52423130a5858ecf0a728cb5a8433809315d9c899c4f65451cf8dce02c5ee0d6'
            '11f93b0ed19d37166ea0dcd586bc7a43a702565221ca9f5f52db447d8b3f307304153a3a67a8ecb4f761e7884f68c68ba80f2303f225c2963d8bbb78c093b2f0'
            '609d4816726136b72a02cefc35eca873830c5b7172b81ff93478e53d6cdd737dfba6ffc6a91f43d9b1aa98df2c504bb50bf02a69b27c417a0b0ba0b9ad18a7a5'
            'e33dbc14fdda631f50e09518291e76d084cbb1bb3900bda2f8aa872a79fd620e66ac0705c4b5d21d6ca68792f9c31ce2ee2df34de8b0b01ceb3dff088b56378b'
            'fcb44d016df8a4d56e602c45d828a53e6afc5489c639d9f34e8bd53885524a8f5751300b77c6954d00407857a572f93a5d2d54d58298e0d212a3662399fca598'
            '1f68277d196637255981f78be6b6261a7b629557ef6eb4949e8a940611962a18fa78f685267c5a9306a22c1c198a76446437c2cb7969799d5b74c24e71011740'
            '6411fba21208bcce2bc3707d859edb677e0a6cecc2af423c35cceb2a85828b059170596e3b760d73f3ed9ad8c6d5172544ca1dc9b0d896bf32b1f50876957d7a'
            '531f4bec04d6d58d08c8e89eec7d314cfd3cfaf6459e83533697ba61782555e6315b74bc197449b31c28d17bab8c444015946a562283b152d80e436740789cce'
            '2cf68b9f6a29046ad0fa186eb5f6fb821d8c4690a77c756a98b411cfc91a3761379533da700e5939cf27eaa0a6b08ce2586650ecefc18e7339810323ff6667a3'
            'f186ad49ecae60e959336f1386e997f55cb20264d72b0be80cb044cca3c80f75ed4909567b532eed68ad8c657a14c10579ef2e767be0163ee776e59467913422'
            '68e33fb9829189fe50ce8dd2c7937a6c8ff4a4249098dd589139bcb44b09bb11a9ec1c644c26a20818c883e68aa6b63fb3f7801164ff0ac2e42f1ed5f7968e51'
            'ab9980d10de8a64bf91111792fb8914d61915320ba354233fb75be45fe05305408addd5d3b79bc2b15ff64572f0ca4a3b95e3be100f1c0d510a8788f5a3e11a8'
            '5c8cb5d9a2e66073e7cc54de4580c447b438fe77762589d3d1274f0d2d77c3c3defb45c63bf6f61637b8462ff175ae5f765630d9e43b41bca0d300a12d4383be'
            '62d9e07916619cb5378780f32b96b385dc8f18d7e1921269ae488d83412fbcde1c68adff1f3a07ea1290615e4fb485d7a299da0861fc3e36ffa56629e9a07a77'
            'f8a5d5d2db0371e1d21b986f3e17912d3e5fa18e5027e479a30247209fd62d64f1ffb258845303b7786028bc5d53b2cde9a07159c7cfa04f6cef9560a15cfb38'
            '885df010674df68f6e06fa9e5f0a1c53249ec605b5f76dcf538039c4b94427eafde072e9adac7385080cc8e4226ab7cab0132fdb664dc901df7eaad44232f37e'
            'de3707a3c5e9f1b46fd135ce0b0c4d7d2c5957f02258082a86cdb2cd9074425778360a765a7ca86cbb95cbf27e707ae96e5b4910f1cf0f9b4210941aae36c110'
            '32799839ed8c860280890bcc1209544a96fd2633d71c0c5179e378934574d36af1585dcbf44a3ec1b1951e7ef73258a3231001372424f33d6cd5794a115ba31d'
            'bc1800e54efdff3e5a2e80e2ee9d71342eeb3307c5ea5dbe92e70d76a4afe4d6327e071b0d86af3f80a33039c67682d1e2a706c476862cec8bd81a7b5d8bd718'
            'f8706d95d47f508c910a34f520fb272140e4fd0ddb3b4dd2d34e9dbad606a86302588263697be60e5be16b8ef87324cd9a2a16dd41839ea780f031c07cd66ddb'
            'c3dd650a72c8c6c98e10f9fd4ed25e145c171512307d45d2c7c2411d1812bbd88f6f0183924ff7e329bfd673519df5be3c700eb597229adb1324c06cad885871'
            '7cd0bc58ae7fe56908a83a45bc42d3a0fb6d9aeec05f2050c7bfe2b82c89277b30d66ddfced953bcc469d66975804ced90845e9a2baf230f3542764a1bcad0e7'
            '42eed915aab219185370b12cd247e8800bf474a428cf21c7a2be96813779e9bdba6ca302acd1f0234248093ff1387eef1fb68a67a8216464587a9ba8ce9caecb'
            '4069cfe09f440f6c57c272a203e2c8db630629a9e30da95e9d77eb3e40bd24cd031f96e0c0ad7ea66d6731fb7c08f0b877c9ea386943fb8a22193f75942b063b'
            '347920ad96d4bbb6aa290daec8273b82f4b0876e1465dfbba4e5857ff0c2537146de4892b705b350ded86ff872f90fa69c42962495c346958cd9d184c20d896d'
            'cd0800c66d83df0082d237a555b9202e0b67e79f5517eac9d9071d01ed46aecfae8d18ee13bea3fe68815fe3f9f7ed51d5c10b5eb8c74e8ec354115164377fca'
            '826e818544009c70aba323e92704a091a73649ac4cc3ac4f08dd90774d0f8f5547e141a9018f91002e64aa9e8641eccd8516fb58b62ae9904115510bd69e5c83'
            '059641faeef17308439c6875fef58c39c29e3cd3ae73c4b7e3dcd2f073ce3df98125c39414a645bb1428e0d195fbd40a9e19556100bc48751f8c095918ef638c'
            '2db02bd38572795b0d364711da3cae92046578c0637179521e023f32c63831f2935c6b951350776cff0151a1dbef9154865d5be5abeec3f9084ffa1f882d6631'
            '33c5da63cff130d71130bf11e89698ccf61e500103f31b5e41109922601ba42423061359c948820838ea62b47d3c0b8089d5a2d7f3bc560eec529902a4f894f2'
            'f13c4d466d49b7fbcb3bd3d29eaebf2025b30b4966d28a0f1c9912a60dfee8322dc60c76e4674b3fd683c285a044e7dac27ba8b6aece1935534221da4eeb4493'
            '9b9dec6b916178eca740f357e610f6181fa1c9ab78d42ea79446f4779a4e782495a09bb821d22f857ddef8d4529fdc9663d8197a539469c45559821fedf656eb'
            '7901808fd8b84721c07686f0247394c168e2ddcc6802e8cb2d0c253bb6765c29a2e3180a0a5d15b4740205d73a06c7c0f4266f32364bde94fdb981aeb88e496e'
            '6269489d0d4351a6d4d9c7475b35eefe929b5b4aacdd692922b06a7c408864f07d165c4944d6e8fd097055261d6c1fa89aa4f8af2f4602c18ba7ad8facb0f51d'
            'cbef2a1f7dd65ffe0e41e755efe99eb9a60f51260bcf472cf8773bcd9d36c265cd42a7d5b160fff6262ec55eaf95199c2fe38c25875e02903ef9824c67e16808'
            'b70f2734f96195b73b0b3fc6f8dd5491ae140fa09f72fc19af56af33dc96877d01e781b2e1cfed2c6a8b23ea862a1d0134a29b2638b984ec44b0d41b5b296f7a'
            'cfa7910b4153e93d5766ef7dab91d7414ea75cc0e17c6a84598c23d3a2446b20ef22d6c3294445c5b8b9c35e40d4d4fe71a64a36951c8be65a3191082d2d7399'
            'f4acbacacca16ae4d2b5b061c2dd0be473359278f81043bbb95cad070af656543ac873dda35ef48a6e3551e9abdd2569b22d4355735ea10fa8c60d0e0a7ecdb0'
            'b6f50ac3c4e342e4fcf8692956bb544f657f48bfb4aaf0889a122bbd97f32b29cb8492a806f4987f90fd5d32fc558eced35cf6fdb3c0e0781745b2da744908fb'
            '5ca30bc58af212732e054613ca9879973c3b52bf64325d9357de3a9f51f2d0961b7f8cdd1a240508b9e07f1f0b01130d512d1f44766f048baefc20cedba25f5a'
            'b91f9bc59cc05c28d7d3894ccce027d8b2b1c05b58c7a153c9d86a802882410bb550763805898ee5394f6fd7be5edec07a163006fe00a9160bf27a7b6137a57a'
            'b6963e12a9776fc3ab932ff5ac387cbce08ef261aae8b2fb3187e970503ddafaf08934059422d181cdc25a9bbceac2e776de0176aeae5c7298b5ddf910fc4e08'
            'bf96197003298fbaddccb5fc8597339fa4712368325ed434da8344382aedcab7cfbdcb99acfcb70cd59f01eba83ddf24badc61fa15727681b0fc0af53fa102d2'
            'a12eed018bfca40c92c3279d00e4b0b904d73b511142b16d6d1108a7ab9a4389f2af863a280f888cd7ed5f7ca7f119063e1b47b95e861517cf19ecfd94e8e84d'
            '5ab9ef72615073127d4a8e505fab70cd388f94476b073d364b04640a69e7fc51dba672d57bdffce817d3d2298c8623f8975fed873d0a99f4f48f7ac741588be1'
            'c2ffbedf78ff634bd0bafffead7fbc95697476e2aa3817571622aebbec10d38e02d2f7e948ecc537aa3196b87d80a83941ecfb926e341ff3b06b54faa35318a2'
            '426db0f056f4edc3b68a345b59806510c66d098c87eeaa35978b4380c3995ba1623a6c662acc18035cba691544d31e6a649064cd0e3eae944e4fcaf27371d3d7'
            '870ea484a947313658bcf1c996a7e6c0a1d9e8160ea8cd3b881da90279068f0389b7ec25f0043b2dac4b55de16202ba3e1b079ac5467fb517d6a760de07b1699'
            '35db3798e1b73a4c33e8caaac1336a51bc6c88b67ff1c0fefdabfe2c36452a81ded42158de9c6c3fcfc37dbc4035ab62d888e02d7e7f5e3faac093f3da5e6486'
            'b1afa5665cf37c8b5e3e981b81b372fd9dc299155c4dcd03342857db244c4cb574317d3cbb9090e22e0e4bbb280430d3f75b41746be2e229f519a291e181b9d5'
            '91ade0d2a7748016fb1b5272859259c8652a97adc89d1bc0f192078872918ed8f37c5c41ea3ae3fa94dfd1a6fa95b2bef624b1e681b5d97930ca366535422e6e'
            '0346a77d73d3d584dd993d8d0b491eba99b4ed2911c3f543bcef132989099ca597bf95b32b3ad3c015977aacfdef3af3cca103a5aa807bd3a3d60656ba4e5081'
            'dcf920565546033c879e5f4cfc7811ffdf1ed1cf3cbc10b856eebb3a89e4fba83fe159e48dad34f426c553824d3d47fa1d4b3252656e52f8f3df5290909c2433'
            '70225ee1e222279574a4f9950008a89b9f36087e667c3209f1a823721512009d0b0f5c4b75b3bb029b02205396d80019f54abb1b344b03ecefc5e635679c5917'
            '87adf8cd184e0b7a3ff70470d3a84fb9c9d1561c1406828480a1a318d177d1f9a85c5c75a58cf1a291de2c657b564d6e5d721013026b8a02eb8173a15c6e1d58'
            '39a3457de2f162dcc69393491c8540af31a785761d9334c30c233ced89269d97dfc36c9b56d3a23a5d24620df676462005905bf6c5babe762f1d8a7cde081598'
            'e13c673f9d6d760d2940cc78db561687268ccd43bbb8bca0c1434b9177d3aa2d5d99c2e3867a8098c0b9ce331b4404837c676cea666bd2acf4c5f30946e30b27'
            '35116c3bcb748666092f2f05af39d0f50bf9203e2cfd4b243ec29588deec2f79428dc8674b48cd46ed261ec9f896bdc11e7a4be5421a3bc44e19b6339e48c5bb'
            'de8421fd92658fca68aab1780b8038ac464b7004583e94351fe4851397d96079dac1d7dccdee1a111f8bf9a568becdad0b6449c0b26742c5375d6f17fde37cc2'
            '287cf0f812ebe2905e0de0224663a6149dddc742fd407c34124ad49dbe51aa02f12400e53827899010b48bf62a573cb5746b52fe0473b4dc6204c84a84d047af'
            '6b58ff7afa187e742537869756b55f34f0469ad2cd96a27da48ab285155b562bd8773a9e2c4281b5263e4dbe36a8e59c2300af58a44b31933a9886b8696c1e34'
            '44afe15085ebaae6605cdcfb2a5d62a9a108bed52e15557c277c7c0fff6cdbb3367acd2a8ea43e8d97611d898457fd4f8e44afb6de0153f361f0bb50fe9ca673'
            '1a79d1b8abcf56b5aa41062c5a949fc2b8248d72375e06a7ab51f97fd21efe00840d2e84978321b9e89436904651e1ddddabb1baa8c51c14776bb8d8c6d74350'
            'c56f234bc7bc8e9d79e3dcee40ebe06f390c1e0c3952c362eff69d37e383facfc4dd28ac6298dbac3825e3473cde426322009b523d07aa77d8630bd9eafbe304'
            '81520e5a9f29ac1c53781651e908b295772d0605fe68e0f3f5c0e891326e00d287ce52e7dfd50ee6984c4398e47270422c04d76f2ec4474ed224877af89b7162'
            'c5c7bdfea6689ea1c099de45d752fcce69e4f9dbaf21d3dc0c13f99efb15dbf224b1d4018db9ad334b56904d635524e068f0e1b4076bf702b4e98c9016a4f4ce'
            'fa58f6675d7fdb0271450acf160dd18f7c338671f85dc3a38846c68ac08c9516d1d6d89532b7ed4ed21a0f3d4decf5085b5c2b9156f6185b2842a4c8e14f1fa8'
            '70aaed830ce6651575790aa09cf4a9ad99f16e1a09acab32245b1d62ea28ac0740a3f3568118bb351436ecffb8921b5d727e90bcef944a3d8d2a3824deea192c')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
