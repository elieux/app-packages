# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=97.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('d03d50d9980d9cadedd751ef434aed6cb84304503f755b79608f40f02803f8492076136c224f0a65110b20e968625d0137c7946228291b8401092f6510a5c7aa'
            '486b5101982bb652b21f2f6a3e7c7df86e9c30caf002f5ac249eb3ac84b3aac49dd05b4a1420b3e2acda5fa3a96fdf4bf4717ba7d8463365f34136de20d0bc07'
            'ba3f7ebf92a349e7570a1dd691ff8684db6e089313b836a559062664c0f037969ae8f84d76908a58e26631915d747f7338418e77594ceacd3b51a5ad9baf58f8'
            'f3ad5b9d0051d949cb716ca97c0cbdb97e036c91d1903d6592393fc1248dfd5eb1e425d2c81b4504efeda1c02583fca60bd7b8f91e679b1ba5cd7ab426bf687f'
            '52b295842823e0f816a9a41ad463479d2e15cb793fa75499c32e5321c2b7cda628832bc7daf077a46608f74fa3467f716d873c098069eedc3a0696db2033d74b'
            '09abebd7563680acb166d92c8ab0e2f047f12bb5b1f554c80e8ba3c576a96cc6054fcbacde5fb581e204996fbb773281b28372f3cd1b1a42721bf7f4df06c306'
            'c2461b18bcc7c9aac87a5df99d9972b0978294222a7db947ba061a3ce4b413d4a6227295fe57e77a96157b070edb548f96e231518fe0955f8bfd38d13769d4a0'
            'e73acfa3516ff84d0917baecb543f9a5834df2b2554ea88716b535c1e4d96c8ee846d9d3c7eaed6c40c23303c115d653611f106153b18628f5d4224f6088cfbf'
            '9802867f06d0000886996e33c02ccccd4a0bfd7394dd533aaae15508ddcc5651dda852a1f4c01758e0bf309b040f44b249868122611a27474fdbf2e3659c35cd'
            '36cd991e14d2fd20b8a8dce9b35a40a0a3f2a9e25bc71c1f37778189ce4a9c005a8bc940b7b43d678696000f97b471319153a97d81448ac9d63d4ba0394e2263'
            'df41477c817cebb9c7135ed3d6ce5f5ec9629352771919570e6a66804a63823e5b7240c64d599d8170af93edb656530c53fadafefd28f61f7b19cb14ee0f6dbf'
            '2fe299da96751ec3ca7a5e7438fa1eb4f1bfb302d051b7414182b49e40668efbd56168b8d980b10bcde7604cfb41593de4ec12cfcba6c1b2c7b7ebe33507af40'
            '732747ff94a6a8c67af246ffbfdcba4666d860f3fb7780f211b67f213332591c2e5ddf547a9695a89addd0b1a79d7b8a883b877986ccceed0e807b82c9fe7cd8'
            'cba55aa69b6aaf17895414a93c996ecd49c1eed0423297472c2eec5fcd33c5cc6c4e120bdb128e462b9b3dc591e6a597ee242752259b364717372f9bc7152ff4'
            '9b355499e89dd2a3a4e20ea717b56a282ee5640f1384f6bed699a50a5be53ac7ba78890ea86fddfbc8e776fd42efdc18d412b2f7dcc3a82d47637001233dbfba'
            '44bae0b8e7f5b777879a9d0903814023a8144ec0d7da5be7be5add66b23bd151a4695c3cbf90abbb07ce947a8263a3efa0b57ad0a0ed59c608cc2f3bb2b96e43'
            '87ef25ab2c38151a44f9b27a1631f6283c5e808c4be47c96592eb7735e1c72b307006ee77f362f062741b7d4ffca8ebb0b2ae5fb58cad52d06676219a37ef8da'
            'f3b44485cd32b31342b8d691b7d312c53e7f17dac11f1f41168908209885b97c950f17d8a0be324c1559c9dbf7b8c59d7b94e0174862818ff21d883294994b0b'
            '549caae4f8ee3a4f38536700d90cd6f5e52669b662ce0de1f198fa80b7fbb603e9f198fb3a72d646fb5d29603b484660cdd176c0e5de4b58799dd4f93914f4c2'
            '3dac0b270b87416d48bd6a29119267fd07e8ecbded58c2f3d79c2a1105083e0e6465c2b1dd760e3b89d1d92bb297f14c28e8454022817e20947b6e19e1695093'
            '65967f8bdc59e23bdd8246b7eae41ecd167293dae50f25247e583dbc05f23f7f686be55a077bed23f6c08f4d7f777fde0c5ebd0110f10e5a446bb3edec1b8e8f'
            '48884385466441b3c80a68c02bae8f8adafe393145f698bd875edeb0fd6a943be7c1b04579657a686b8707bd4a181d9839af06c7b627554f6df79c1636b26eb4'
            '25e0aefa317db09a53ebea3132db0bee426494b5eb6dc44c68e70f2e5dfaede6503efa1769ad2ecae0ff0af05e8cbfa7a3c8da3fcb0fb3fe3e39776db5e897a3'
            '836ae9140e7e37f90ae43502e1cb68243e4f46f581f5a802da83001f1ea0a02bf1489f2e082773b01f7e5ebc0e3519c25b556c094213e823ff26cb1488ee1131'
            '25c131f262137519a1955104c0c18f2df3f8cba52f4e9613cfaa51a5eeb8e631f757818a28a2ca812ce6a423bf04e683debf852f51384426b6cd1681c84be16a'
            '4b202375371d04297f0297e93ee9c95323d1b194a0fdfaaef65f8a48f09fc056a797f377d30a976743a344bdd959acdd489d1985ee2374b8430f8cd28185ee3a'
            '0481bdfb8d3fa814ce11bcad13a5cb7b107799e27b81658eb2e2a7867448d3f7b34b4fcd0f4bce30effbcf5d7049f7b7182b82041f333ec50293e073f0bd0883'
            '55e5d3b688fa1e7f3e59a6809ca0f6d9aba78b83d75c879401af6b35ae00309d3e193cb813197a26e2d1ffda45c1773d38989d95b58e2bb8604876eee0202e67'
            '949ae24c4dd0d9800c1b39dc98173853809a05e353e51cd0abe6ea569872a9d88185c4eebbd1d1de70b99ec5e4ab4f2abb4f7070e30832e8719dc9a489cd4537'
            '3387cef3f0b512978bf0871317a7d6b3c84e7906d0961e2adb22610da9dc202f8ebdc10345e3519a774f51139e690590b5b703fe8c4f444b98ddf748eb0ce8ce'
            'ad03debdd4dd16e7f931ce6f4ea252ccf45b92420ae169e5120ecf059b3256ce701d5ca37db4d5de6c0c7a76a88717aaf781e11052f8bf11fe0b95417eade99f'
            '1d3902786ad9c0a3232b9042dd64333e96e7ebcbfed5bda10ee329d998e9dee51de387422ffa3da0638244530963d474365360b4e2115b3a651e33a343191984'
            'f0815d17e6f37bc6eb74854fdaa8e6152e3c17babd37c4c42448bd258197a44f2b239b35495d1c058d5c0641a67bf23c6d9ccc21969d2ad05e7de15f57779e46'
            '78c2abb57683aab47777bf1573380279d7b0eb0186d78b5b1065a7de1d4b4fce31f883755c7c2e8526ec44c76ffa0b4d56bc2ba94fde22c8c8c45d9ee37b9817'
            'e0d7031e11ea8c9cf3abf6e6eaf630fea4083682163488fd0834a3d71dfab593e0040f6dbf73307637885773779228a52f48510e7afae04a4bc9f20bcdf18b15'
            'f707f14fe575b58ed95c954c8ce0113b1f861a080ba12d2996a36e1fbd605337dc5295973d9673ed9929aaef92a129db612d804e1a0399a307dd1db5f0d822b2'
            'bab120b98506ffea7ee79400664f23ebc336db56f2a789f2e074c84dbe453bd468b46cca37cc62a8231dde13503306859dbbcbdb4ca947e52fa1802ec16a5fae'
            '927e9d3381404b8f7c17e34ea603d002dbfed439bd67de2a8f61ad33d1630b6213f19c8a24575fa563e0d2c9c8577a1630876125714a58fdb7e745294efb48e6'
            '0dd7c6daf9b3bf4f0ae1eed662ccaa18b39fb1419f285cd794ccf64b6e7dd718d21656287ad052bee44ee1287746585e005e9ce8732132f38d4f934879ba79c9'
            '4a75c2721d8abb3824f8314006059c5f805dbf92e12a7e8b73cd993cfd7336380e3af46de904a3cac120bc04791ace0a7c79817ad9ffd9d1a339924b8f29a6a8'
            'aa8d709f9b5a588b09a9b362784a4ace7c6603db8d4e2edfe144d7a475208bb2c633b209018938476317fb34659507a226492448a9d1a05e0bed8ce92a63ed59'
            '58cc6fe8f9e7b07575b1f49e73fc2bb30bb0d73dfdc17c6369863a4ca1a421fa6ae6f8968674560f10980487ee72a587a1102e2d29c978a858df281bef500fe2'
            'e25172a7d483cbbf52fe13212a8537948be0ae2d987c0a7796f9d27c046f4bfad62005f7ef962cf3d5aa19c7daae8ed1756461744d450855b593e2a5f922ab0c'
            '1d020d40fbf5c03a61e2da997994231cec78bb6eb409e6dfdb525cf5e661d89ec76ae190bbe8581c27c8f9110dd62fc2e0c2180b185614753dd92dc10bd2b947'
            'c459b1eed2a15f6ce666b82f7464e1f256730af6b437102e68f54bdf4bb7ac90b2988f54b0b7d8f63ae26cdfc51923b14f4178bd7236b3d6fd50e9ebc2fbc11a'
            '0811e48eef3bf714571591cc9ea7122ee9873144ba86f88e1ef8a29f25ddec2e7a90fdbfeeb48c54cf8afd120a9c829b4fea9b19dda9e9c80870127fa6b18b67'
            '2a9d131c5213110da62a4d015f89a761eeb8042ad11fa6759229168b736b9f3e8cb065929bab9f1a94ea6765147173295fa5586045c58681a9e09944b9acc239'
            'f29ca10af8b7b0d9dcf5e638e63d1dbab0db0015ed1f2fcd5a3146ada37df7b003a94f0f5f276f217824bfa6f586251816aac2358b65fefe76313681c23886cf'
            'ee4d5f7c0cd6f0db77cba3cafd00b7b6abc98165f6469acea461ecf6ce4041afc88cff67d2b179ef16c5c652a629fed2e20db3ebe3e5b6c1c7ab23bbf3bde436'
            '5bcf2e06d3a5cec70d87541b81a74afa69bc3c8e69f444d5818fb52d4e65f48d63276b960a0acc97e2ace7ea2a4dcd213bec2eaea64ec15d55d49f5df3783f10'
            '718fd4c80dd28acb11660805df80dfd758698b04a4a6c48a7c80ad0b46c7ec42ee18e5461693691f6f98002c5e02a6f713798803d182d2f0bdff347f3f5a2f6b'
            'dbbb2ddd1cc2219c6c7f94ddec809e381c7f7512c4ca59f2cddaafc8250e184d202f7cf2ca02470a152122340ac2015070d4aa2391e024025371ebf4fcbb722d'
            '66ce1b3115b4756fbe036b4a26d5c86b38cd83cf279fbb3c687262a17706b501524a9e316c99d80dc103ddeb3de5be7d693a1ba46cb1349e3a96f94ee3ed816d'
            'c6fbeaff140d29ed2ecb775804bebc5485de1c0a93417f42c638857059dd44561a2d681139e0e49e3273e3de55795894a5a246136f01ced8057d0711d2d41e1f'
            'b8da08c5266167ce3ac8176b58bf862439af5c44c0bb7e5835f198ffdee7738748a9b97844bd37c84c3e6fad692d0c31c50bfcaff3a5b113528ce46e38b1d453'
            '4f2f25522eb673bf6979bb060376eae2f827774152e694c79dd6202dbef0ef58225af60f2f18c8af6d28909f65a24af5f3d5d3bd495fb8193986056c03794994'
            '9ab396cdca08342f2db5debc9d286eef7e89b6867ae79290f5555d5da131e197bd44826a2ad8ef910a9ea32be4d5bec4229fd3126585c38f4e1d67252a1b3b58'
            '30dff127350c6c3c14baa777f8334f10072da04e6a2ca897604c5656340100b13be3871368cc53e1414e8abf8f32354b7efcd12e3a554235a3c99a03cbfd71bc'
            '49eee8f5e8d9e4497c35c89c7b59ec63712d8065cc6a7b83ddeeb01d375cf1ca4f55754d6558841820af1d45b4085d067972e3e197517f9d4eb85632c4a39ca6'
            '9931808aa4103a942292407b0616449c5604df47a281f9ddd147a6c7dfa108361d4f98a78628fca4532b3883025f49df20e90589cd18e906f348425354ca4130'
            'c19840dc529c668dce55317623389af0b7d628abeab553ac8bf52d6f236e5beb1ac6b20afdc6429711300c87b0176bce6c09720e8c403394ea84d1453bdec549'
            'fb94beea74deac70f3ef99366a02a198becfdee9b992d839da2ead9704796b7bec06cd02d155c7399ec4c1509d5bd7302918a6361bf6b3e22c8003c15340aeb9'
            'be52310246af2424bf493d8ea6cb0d59dd5ed0f366e0fd443db9100d891beb4b2e02d74aa66f486cc13b7db837af86b9f3ad183bdfbee1efa3eb14d444e9d919'
            '40364536df5817e454ced04124eff31558f290ec8a6259f71d7b6d7789b5be287f3bf937f4b6d33818ab9f0a0b846945065dbb3d740a9a85a70d8a1cff56ec41'
            '30511bf3663bc7d1dc4f104a75734b968830c729071c73b3b854c9317ed9bae757f95c34a83e2eb14e3caa072695699b513c021e018e2096be0e9eaf8c0053c6'
            'df78590ef57e894f919afaa3b2ff655663402ae8816d4bb9041b37fef4a00b44aea3b423a193334867afae5c5e4a86309c5103cf1089c69204109914940ecae3'
            '1ba268cac18240d586a81f0e84fe1a348527ec1df5984f475f0ef01ce8a8984b466d93d9629f4f9cc622cc60fece12140979a335d1b4cd6feab679dd668997a9'
            'bfb7eeaccdeaeed3bcd354687d794d3d778955acab8f8c28ceadd3b19352e06304f6a534d24aa2d74afd9903acde91181b41aff3ec78eeab38203a29f73b6be9'
            '3a8ac858d8bcb72fd391609a0cae65288c78e42174c65e8a10094c68a9f07101bf30ddbbf3a7cf6096e02e82b48b9371908ad1e43b4874cca58648987c67d840'
            '4ac6d748506bf930d303281dadc0e16b357726ce2212ef77bfc81305afb62765bcfbef2d8d4d4499bd9b96fb3b235e3c239f73750091313cbe7c2c9a9b04d27d'
            '7104eabc9d54e7422701539a88893e131cf068068883285b8efd3f1285b5eed67222019e08d553e8b8d85a6c74bf524291f2521935926fefe10702ce50b0300a'
            '301f6d89a2c627a337cc0480d3b2a9dde333249560ce7c113e2a605fecd06a12a2f585ac250ac7bea04a76eac3c4047d1522558289d905e81b47091b764ce9ae'
            'f0da6324cb265abd63e4f3fd350c77697f92af0c21d5a496eee9742bb18756d541ace80fe491340d40d5df830402c9cf337a7251dee0b7435f77302819facb51'
            'a251e438e94e5dc786f4a165e7c98ff00204a27f54aadf5d84ef7254ea2a8e16e0cbec7d23030514636881bc7c1b308151d35322ec6408e184102da2c0e474af'
            '4ea424b4e8e8f91bad4ed5c9d7b7bb51939ac96d3402e60a5495df32e6db3d8988289646e6c2f9ee34312bd2e6ab73e9d2c127f3e0656fc81f3ee27d3de7e59b'
            '41830a8f4753ba2100871411fa02aa58bbe6c656df42f9a41bc6ec2490c9180dd08f4c4b901b587c8ab41517fb50e7b64ead229b760d2f1c5e22159028967952'
            '0fcd3076b5db451bee169418f70c0080c2a4f04e26d2eb92a2ae5232b65a4e237662334b965113a56cb4da1efa31c88a599110b864516b48abac5f8fcea0c75e'
            'f0ba9a2ecdc07a22346e581f4bac18dd06dcca89ea7806236a6e583b6eb08a4d5550161f8130436ce496114bca5f3331118ca936b9009e30605863cd68a4e441'
            'd89d9cb9d224b0975eeaa1c1bfb9d3cf4e2fd183777ad08481c74062add3104e5a192763772670b55ab567af1731fcea9037883ad448a1bbd1126172c567dfe7'
            'aeebf9e3f3b6d35245616c0945f02b9b95e413d25c9d76d9e551c00987b2d1ccf2ca1e0f3c910f5d060a5028e6058c34a7e079979ba41ad061a85a2e904bb62e'
            '44e42f3b3eb565ddef41325cb8bc98d2172f75a4ceb9878eaef8f2a0808167d1877104fda1da76383e0bc7be32a158e785ee67c688fe8a43e9a365bbc6e151a0'
            'ff2bc03bd012cfdec43547c768f7389d5ebab170adb18933ab61611efb223c3fba85837bebde7c6df6662ffd679e4a25a3d26f0c1a9db3506c441b6905630b67'
            'dfcedad1fb46dbcce97de54c85ff4404fb2a73f5d9536d875053db4651513c415013b947534503dcedf74c550488f8fbf3af848a940c3c16fa1646417004f1a8'
            '4f855fa3fa6d457f4377b7c51147169aeb83cd847da09719b04a1e73fd0049ef70c2aca2feb265f880ac9f898b5aac267936a3172e18f1ef2d63a14cba54ae70'
            'e8c1283b60174c3b85a4a4577d356c33f333ed0861bc4b86130359ea57623317ddea8de0c83a4ea598154413adcb9916c6e4daa905530a4296676d76c588a4cf'
            '1bc726d93a369dfb97412827e990a12145688d04388b1cd6a2079853977fb100fe051165b2649c394cd5ab1920a4b512821f2c4251dd78103f69860b2385919c'
            '5e934c1057bb6e08a6ad03ce23e423b5e6590bd93a27a71768235521118554047e42cfac7e7ae565aac763304141c5646e208f5370331bbf659bba7db9d0ac0e'
            '4c10b7af080baca2c6e377a12783e2009a4f298f43894d351c28e15e20a014c6fb9e80848b3f53b6d7eaa560ab8ce2a36349e78b8d09a2e9d26fb55cb4709494'
            'fd17684a0073d0ef03dbc6d1c667ec5550fb0f38b8d298516c30f9f0121232b3031bb7f4ed9468387ac172461061f240316b5cd6bc943e1b54d76edd2d590bec'
            '555b5dfc64c41e47010da74f407956d1246d28bdaaa816c5a86ddf1642da80bd0cfc63cb44480444395bf15c89302ddda367175e503a25e55c0ba9ab927f25f6'
            '86e1943fd89e1f23b5f8b7c4ccb26d83d5d3c1194f53bb3610af0607582f6612a4f84c60e820d55e6d5a2829e438138bd9a8be283ae34d705e391428dced2749'
            '1510b772277e304f232f6291f1609c246ca321c305b2623454043989f16aac9213edac0d22245db000c2d2f4e9085e0429bc32f89ed7c04a2f3ce01e672704ef'
            '786dc2e9be38de7cde9614942b0c85aca28919e66a0beeabc724337dabcf97f15fc1213ac6c4232b68b4e3cd72e15c66ec9fe05d687fd8e1097fc292e08b4178'
            '25bec3e94ce98c197f1fac9703b885a0d05f396e6e3aed9f04d179eb4a5f9a973e10ed27840f8167be41afa986bfac56adfb9ee619b49edff341cabf1abda9e4'
            'b24f2b26850867d77616be4b566c4e6c664bc18f1ef3d815e2460433136f262422c6d74596a6dcf69a62d3d54d9db63dde40041c9575aa6effc10dfa5d385222'
            '73f8218a858639708acb7d17ae197e25d039c27b52780d2fdad365dac5d7db907303225cb1a3cc2ba27cdb67ef38abc09cb4dd04df12699c05c9dab52bdce68f'
            'c64760e445389c1d16c461fe237d8a8ce3134e396af2aac1b67d8e43aa04b29be2bf4fde173aa8dd96bd17b3450cd5b020977c8e92b80558eeb24724df25b973'
            'a30ffcab29cf312523b701385a503cbb3dbba3d3e4407307df85b91eacd19fbaa2fdf3707aa60f58dac6e134b0509bf24b7fe988fe63b47d0784d7c92e17f402'
            '01159b0a632671d0ed76ff04cb0c6ef1bf784f370a913d7c806e3871dd07a84b8f9802c75949e72b4db32c90a8c93e392b5991bd6d5a21756f260e70cffdf1b5')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
