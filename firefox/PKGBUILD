# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=113.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('b7baec5589c965b5a6e2a2081d2998af566ad509c824ee711a92aaa13217c2a78c9b5b84b1c123bb48bffdf0e915e28108c845e08958974ea9d052928063d558'
            'ee80b1d7c60e24acdeb26de3f705be741c4f5030155ae7706a6c15793cc21fa987dcbdabdc39a0100668632c57153f59fb8593e3b32c4579dba5e0694ed75593'
            '7661a0cac606a6f6fd89ff29172a37d1f6188670a2629cb868710f89d27d9eef8c472509c97d928d61b8eaac1e1d90274902665b7b86b0ce1f1c4e267e560987'
            '3c87c2391f5805ae0e55d64f2e8937c1944aa55883b1ed9da69b2fefc7291ad7fca886f5956f8e4771fc0ef75be2322f678bdef4b483e7fcbb29e677ad674a05'
            '664c18289a8dd1ae09235471c599863ca2559fcc4ab47ae68eb21517aac90bfcd6252268ac62f620904fe86a3e38c88b7d73168c0d0c1ce2cd07396be9e82905'
            'b6b1ddc59e1f057de41949edb183c6795ac67ade5c2576622df226c7f496f8889cf744597c2f4ac49471a58d3dcd76346102ec6feb792b99adb6e9f8bdf1657c'
            'fafc1c8b4ba2a6b784ada9aa489b29b7dc70001a1a610daa29e7c938c7167c69743d1b06c9f009e3308c076d5c3e6ac04c545b0b1cde97a3833b074f7fe4faa5'
            'f5a3c3ae305a0666a29063991838c416d59140c4a84e2a787d7f02987c7cf5d21ee0629a665a1af9578b7e79e553b28a6125b95eef695621425bef8ee27c89fd'
            'bc58f200edd618b309f338fd7b0d76d2a84babfe7dcedc26ab026661656d62e7d814b5eb2386e8a4f6951c8e6ef2567a5e3ef0d6f661cb3cb5a92bb31a6bcbe4'
            'b06c3644247a7a5131e5a44d218e86d84f0f84c48fb1ef1d0f1688e55137b72eff40df36a3387dd0dd4090f97484ac40f9c2b5de8ac4b8e9bc64daa9673a9cc7'
            '8e3f6082e8d9a150fc033c38e5187a40c2c878fdbbace81aae507b35a122111108b4e1d7a7ea5e2be1b90d6dc31e0acee5f329ef607311cfb7f871e87b3c363f'
            '429866da92f9155865fff5faaa9db7c64327d4b5ed5071580f43b50ec70af5be41223421137368b2891b3ee2b82a62cfdc4c699585974d98dc6c536238290194'
            '3682a386a07d6b737aedf035d3ed992840c240d4fcaab4dab91a98dba2292f4cc826b19d4576593e7b172f0b64eb994b180bc5e151a9fca522b2d2ded0b395ae'
            'c606782b32e786d711ea8790ceee8e0bd9d5daaf45d8019fb34c52e92281f7244306419b916b0d0bef0a14bb2cc31df01c8918b50af3533a8b5087a9fe839781'
            'd40ffcb900d0549da5d225a7f196b31fb0d5fbecfba947b7381a005b3ed3f5251ccf001ef56f9bfd783f4fbd25994fe9e8a1f243e0f7e4cc1944e61f9552b65e'
            '4eedcf903821096d10139251886ff89c3a23892ede20297b06baaec5244eb9caee94ec8cc88e4b0e863ce0e57351db46f386d36684448f617bc9489a5c647a9d'
            'b6123885b2b2fda99afea524dfd1872cc7f8abeb769df240ce488c19e5d2aec243aeb69df2d7cbb7da174dae2d576b0ed4483c80d8105c7e952f6449bf0570dd'
            '780ad8373a214581b64c0925b84aa4a751e0dd6c4bf32dff4f494d60e2c0720fb7d83fa6168188cc13a386ea3236191e7802f1df5060b6215dcf66901ba23013'
            '9e5e4e6794c4cf259be946d17dda62df67b5d56c3f23646481afe2c10e034b70c29cd49732c3c3f524cf4e3daf496fe3607da787079596b105a5375da8e47c74'
            'd440ddaac699db06be78a0799a0cdd8133ee10826b815ab5188dfd701dc4e22c5e48a584770888aa3cc14bdc68a9f943afb94982b614181646d8288e7138f29f'
            '27e0c266a9fee6d4c96b814cfe6db66ae5b4d833ea46e7cdf748a83e318d8cb6fab786be1daeffd0b33dc1b98d0aa19145d3cbf528d60606750925b02650ea5e'
            '6b24bb7cdfc43c5daef6ec0234ef74b920811a435e870a159af75b48c30ed98faefa2a0e56a27f39494faca273fe691f5f34582f9bd4be237b08c493ce5d4dc0'
            'bd0de81311df8af8a5dc45d65bd5b50b4a4f59ec42cd9cbc280467dd2460169fa82afc3f7836be38dfe1ec8a15a32cc03be0e0405727fd3ca24eb106d7387661'
            'e7b4bbaddabe646471406bc045718ceb004cc9128585209c8b63152ba2316e4c826c04ed19f89318c7afe48d4551e76cf3bfbbdfbd2d8bd0ff78a522b0ce53e3'
            '202f7a23e0d9d0016170c5bbbe05e8b162cb5fe105f61e327fe2d68e261109f109141d7c93647464179cfae730dfe78e40c86f3d79ab4968cd3ad1541d2fd834'
            '9a870832de836e2bf93c9376bac4907993af06bcd3cd63c2a645492611002bf723e234e33682ed76046b72e43ee60b61fa733fa4bf74378c08adaeb8f83ee773'
            '12878d232eba1f4f9e1bd7c5704890d7e4bac867722a53c5203d9ff174122b5e50ecd7f4b572ea71bd1d626883ec3d4812e8341eb5874de3eebf7efb82ca69d6'
            '2ca1025e086b60dfb211f3e3cd407c3685ac91ec00fcb40dcb78078beaaa1463d542c2a9ab98232a6e109dc3562295d786a58fe705f839dff72314549b27d208'
            'd090124b4955b0b3b1b3354961d2532cd76d885e1709986833e92acd9ee13eac700ee26f483627d112a4ab5f03f381365edb39748f273160e2eaf184d1c5385f'
            'c257fd5be0cab779385f6c7d76b9940d7d18b099f327f246ed67a37e78399ee1d4fcaa66a9f516446eb09770a3b88f04e36f870c936ee8820dda33945b25110e'
            '101c74486f4d852a6fc986c6ca234c12199197ca3324dc26500b4495b9a89d9cd9985c3058d4cc0e7880973f923d18ed05afcc6260d1f37705b1ecc38b4d838b'
            'e7d32b211340986167a7536964ca6d1ae686f65e42e6ba7df0a0522d5e59dff51553f30f16d587ee68d406198098974e39a4d970a70b9d1b15c2ec42070b7054'
            '7d3b0499fe8b648a6a3f106ff0f94baeebf2c2b6e52d57f417ec59d2ac193442838a29bec9400bd18c2a0db68fc75253d096b58b5f05d42d0af394a2fd46e2f9'
            'e3e2371c759fcdf7f79eecb5c77151c69976efa6fd74b1fd03f74cf4512d280a9dc7f0ca8294121d801b226f596a8a4601d972ec69796fe96767e0a54458ffdf'
            '74de36a2c43e093ea1e193c23a5483c7ee0882391f023f679d9d47a55555f4ac8b982f864216b6ee986f7104a0e1af0a815f4dfc8b8e1e29700768f8d728ea95'
            'd73ff1776d3e71424c9f2a3631908d5a8900ef00387876801bb49a1b06767c37806f7a57a9105430c999d828a57f127c9c48eee5c4d5c7412ce68436d696a415'
            'baf571ad1f8848d89a355be215b190a1be005c9861827aa4b760ef89cc17967d0279c3493e8dfab64afcba6abfd3226621d6f3e60afcba29e0244d03a179f7df'
            'f0af8ffe314d83feb21e64845659a856ef47cd1c382b913bb5478dbdfb261d7e635a69c270e7d957b4772f383aaae412b322a2817a759187ed391bbd6e4c45c6'
            'd85a628bd88432e912d0c22caebfdf385b414e03b9f2e4c6148f1095a40439f873ed593dde740a3b39efceaabea6e022ab9193d2c23307d6416e82593cad8b44'
            '622385d7c33b725ef6a08a9f6524a1ded1a10f3abbf8b61276bbce0e2f754c5f4a819280c5075e5fd9a5c14f51dee3a1939837c6004fdec82b7f14d0d530d5f8'
            'e5c3960ce1c879a498de6f00c35e2657ed006f215b3b59a1caaacfe3f97916d9c3be52dbd5c2353610441aab43626bc21d97b069bd2532cdc365f44af6f5594c'
            'fd483b6d6d26b970c73c6ad60b1fbd32c2f6d2f64734dd3cf0baa67ade72f98a475bab1b6bdfe06ed6636fe73f15c890da88eba09f61c1aab98b6f16add0b34a'
            'efe3368a762b1825d709d0f0c3cac69e4e45bd639e343ca7d4a7782b3f8678d58729d69a7dd4a6c062f53b25492357b9726728b6e8175118237f256c8b363529'
            '981395527b7dd467e158a6d135fc345577c955de3eb84f7126bcadd54a1d864fbec760d1e5a9e14b33d57c5181ca518d1526224dba9f6b5a98ffcffe08630707'
            'c4bc47fb70629235070908fb466be5f2c9da932c33a8e6bed9ed9559812b6f46b29adb65a61946a4b0354166a7bed7a5daf053c998152a040a9f1659040f05ff'
            '85355ab43f126ece587442018a26ac37c2db51fed258e8c94d840fcb59391065cbb3444f388570123efa055c8b0aa6ad55628688e5a140f57874a5887cd86dea'
            '50c273cc630eb4b66eec529053a7650f84840e34efbfe0d0fb54fca6273762f207c78fb005d63cb6161a40c9ad2a8774612331b6f0c8f83c5ac8f1387169bfff'
            'bd401b5608a5334e7e8012b3e2a451c58a0e801a0aacb7f521ab8d5ca19266195c55a7557e5088e385a733f82971721ddb5d5bfddb3fb986a865c2b4a0d934c4'
            '1ad40ccd1849a6c3df21ee489eb9e74c40c3cb9b567e95b9a2726476e0aee7d9f881dd2b5390e92a4fc0c2c6bcf6a2376cd95f2fd76e7bdd7d88ccfed4cfa139'
            'e3e37640a0de73c7c21fcef09c7da8ae2000ffa346b6a3f0c67acad640e614e97c65f32880f68bd163aca3f34491f14681c2b1adfc70a9d908e176e2169b4d95'
            '020102fc6db57da6887caaba107d56e81a195b599f245001fb16f13db03b7adb1db71ddab09ced9a06db6cb06af354a4cc6f2fdb03732b87f579b258ce290dc2'
            '63df89ecb93ce8d41d84b5e59ba5e5c07be17eb0d5cc4eca52bac530536ddcabbf1871d9b9b8c1214080596b570a253bf4fa44e1c0894c04c836f39b7b3d9301'
            'f0631f10683dbf6ed50ef030e06ccc39f348792f3adc76ef32bf23b4dc58e3d6287127c90c089df985cbc622bb35d9039e82599bba40826a6f18bfb9df26aa07'
            '8c600932afb3a831a993d2a9f015ae73762906ecce122b92ad777fb416891ea99694c0bbb60e5e83174c4516c245052baa8435e71b08e0ff223392e6e65db720'
            '35329696ea41c6c6719a36f834e4a585716b145c6dfc03a334bb598731bbc77851021ef45055d834fa7db09564aadd3f3ab86986189126b0681f00fa65f7fb45'
            '9f4f11ba201a9a7da55d15e16402eba69e332ba409291a5594672f065c424b045db54718372ed97c319fc6cefc8f0b6d18a89ee9599f03ce00852db4af53b8ad'
            '1ce3a0e4831d79c18078e30c4c31607c7557170ef401bc17cf91b2c58055129fa3289ae72b5b087419581af10bdddf888949afaaaf004e5fbfa9a09201cc9093'
            'd0eae8fe23f6ea3d59618adebcd926ffbc0569efe9e04bf2c70060496fbf7f4f661dab62372f354f0bdee0937ee57273853688878ec3715c302e7c7dbd2a85d8'
            '835ae81c6aa4f1db7d356026379e23559cc96f7e6da7a7e7e2fa876f20c64bc522fb24d08cc79976131212744e436300154d9e796beb1a35a650509a2a0212f6'
            'b35e58e04bedaf2fed4b86839d71739e9af10daa47a426fcbe3681dae5c62b7ea5bf1a97ef0cd7444b77a4e601d4d77dcf3b901ac54373842d4f2e5d4d68a15c'
            'bd65b4a1af78a1fe7ece29a882677e098ca634e3aae84f6d2273a4d8907c6ba7757ac187a8747ba1b6ec31fa9138bf0e1a21bf232c8400ba0487d62e38df1679'
            'c20588a1733ca591a535dde6e236ab02dd496363547e5b36430d9a5441930652262d5e7a08468425f14fdbc1a463e78fb908f8fdd6032bb65bbd48762d01e938'
            'a4f988fde4015d952565092ae148976665b9459bf4ca4bfb2b6659f25237f3dac4584cf9136af4dfc3bfa7ce15fe233dbf86fee4dcef053e4bb37351c1394fe0'
            '266f275e16ca1f9002c00ecba744c46206d9546929e7f20809701085b4891259dd17d3305afbd47e2bdd55649c17c4dc10cdbcff196af2c785a792ebd3e59290'
            'f04de6045c65da5a35b2753779c675b18ccd2376dd21f2baccdefdb173f15a5e8446ce2e73684df17a8a54482771e62f5665997fb3aa6c82549ba91ced4bd89c'
            '133cecfa9211917fbac6628658cf6898bd014f54f68e8493f3d24c58854c95f12681a0d5cf5c9d379775217471536f101faab93498710578519ec8a6cc9f1063'
            'eea118613633ff0b7475fc101c21655a0b028a5927356bde07851f08641bf690b37e27b5bc2d9f55e94bf913d285c3632f25782cfd1094ca68b197c942430e59'
            '66b918e85829f7d2be269672624b90de05c582106ee1f89deb93097e53edf26f083c89343d63fd149265a26e82c33de75ceb138ee373dde9772c6c5b7dee468a'
            'f70819d3419cf9dc0542e85b22e32717401825ae3dd0f236363240594c26480a3517d751c7297f993474ae5fbdd36b4e2ea3ac2989d51ea3e1c86ff232d25a4f'
            '7718d7b23a36e653a7d3f441e61bf512b9ca14a113c8ba6133599025068a2d0c9c8c9f7265d214e4dd2b15b48bf97f8b210557973cc506a411da075724c973dc'
            'c4476464e3b03602d3e8aab7ca7d5ca409b536770b11854fa18a9869d817a16e0ed1cc7e5c9001ca5fe396025090bfa6fa7a9bbc552091ff90fb1fb2a3aab886'
            '16f765eeca8b7877c7b7d8acb532496a323d16340700e6fd6546eb0204caf7759d7196e0bcef4626d8b326215d897f1726d9d6a22ee35f094ccd46ff2c600290'
            '612079ed62d663dabe2de2ff56ab0c123201fce23faec16caac602b854f0f1ef769e59dbe80adae6d16735fd5ed777371cb7db5779c1e202fb9ee9e700759288'
            'ecef540e441402a68d913a8db333faa17d3bd51057a1d882dbebbc04478d04e1deeec1e0b6db4c99b3bd910a0e9206b4ca7a8801bcd88b49db2f6185e7ab62d0'
            'e0102132b3bd5d4b4af5d270750f5b80a148ba52e3f22b725d3036252bd8a34444c0a295edc77b5c61369a229766a9a9182e98f4ecaf1aba0883face83aafe28'
            '13eeea82acae451cfde169dc4bc91e30a2f04303d65c51526e9e0608ad287f7839bc7920f3521419bd0f264088fbb4996a8aa1502943186a53a732c1b766e83f'
            '6fe6a3384e0787209a48735d2e566b116cf6df1556035101ef0f695d0357b7d9ebe27bed4469775cf1665a14e403a4d01c29329022b00ae2258ef20a6cc33856'
            'b7969ceb1cbeb30c974ff3506a74c8d394ebb872e57fe89fbca36a686bf9f5557cdd10e685745564a87513ea2c163424f5bfa8353fdae39e5ed122ae2c7d37b8'
            '006ea4a716fe56d8a7e373a035c64e973627266c7bbfec64e5c6d625b6953ac2478810bcbeeb7ff8bb2739c2bc29e4f4cb359edfd68064736226d1f271c51086'
            '81a9d8bae5cd1b885d2fdc2b4859b7aaf572c369658e654e8bc68cb72841ca3cc0382d1a9e542213289ed4b7f93ee4fe2393a987a840d850a7c29316bf549ead'
            '46e1c9d6d9a1099b2958adccbdcb850612ce508d9cdaa80d69fcff4d6c9a6ed9ef8de56aafe65be8256c7e695e4ece98250667ad8eac4030f61af6194c7c2ccf'
            '2fb528f99663a594446d77bd35f1544d5df90ff1b9505802c06a3c04f182ce8a9893c5b2aa42445a2ff6dd4e72c933e3a8b6bb4985d626fbc4606ee7188ab0d2'
            '30da2f8f49da9911473c567f814584991e1dbe292e46ba7b06954e4e3b4230c4795bd362bf28e4ba544eb2e80288c75a2dcc364cf1745b9d70685c5e4ee36e58'
            '17d4c2c38c918c99ee5f6219f284ee3a58ba62d1e564ba312b1c285980a031441213cb53a375b09aa55be2d35987819be0a7de62d04936aeb2ce9bd37d26b8bf'
            '5b3f94c1a8179b898398de5482941e506766bcc2431cdc47c5c7fc2998f5c5a798a5c02a580c26b365f255557a7324c4db7d2194d4a3c6e12da4ba119f1c353d'
            '79349e9000ac47d8365badb33a7d30d7c559707d5cac6e78036017e635d2180729dcd1148f7525bb7d63b2c5d928f57933a25faeba2fa6d217d8af6828d488ed'
            '15b46279df5469e2e47b9c4cb5a7835effeb560d42339758389c1ee17e35e930d0f8e24ebe27fce84fa16cab7682f2d2e03eb808169644b156d21f54a65c10ce'
            '58186d8ccbaae01e8b426715548c4caa50f4835456d1c100d79e10b01f235869fd6fb25849d439d34aa406c229365831d1ecfb8db6d5b7140a072abbf6135663'
            'd0e57c62804a54372251aa649141211c03a9ce3357b26c9ac2d9650c66f0ce08d523596a2b8cefdab909e3e47fdf71ff8e9e6c9be920dff2a88e75ca7bc51cdd'
            'dde830f23da90161d6f05f9bac2f7f7be1fd3902769f3846922a02cd979c1edab71e43576bfca1330f35dc40c748a10b2dc09599f805f83bf08b3a4c1dcdb2ee'
            'e93dc6c39cf2876a42f71dadba48b0e568a97e178f17f9db7f399f2c3ea723bfdc18b1963603fc30c58856009f0f007744ee49d04c484e88fd34646e31ab1045'
            'bbc2e3cac1a25442f0464b07c6986a7591e84a9b3a8fec3c33c9890116d1bd4b4fa0406d35f7f8e3f59bef9358e1714d3a095610ba1177f9bea25e3510ba280b'
            'd00cf48b4b3f2c1c184022dfdf883f6e754627557be97e9c440e59c56ad555dae8a880a9f9d038ccf8cc191a08b1dd7c3737430cc00f532171f2aa659d5cf9b8'
            '120f589d64c8abafa017525ee733f4101471cd7f8b67a0737d9ba48cd65bda46a35ed8ceef8b5b431819c5de7dc99a8adb948e0df4e76b7d5b15f971d4996cf8'
            '22f03522d685869fb9d4b674210fef29089fa997ae782ede0fa1c5476a160b320c83c498b0442e1258bff7819dc1da33efef37b204d1c8b1d8bf0f467bba539f'
            '3ad57fb47e6c79100572cfce742393ed75f6d155d58148d37f7f685d8a3fe3ba1b346044c7cc72e5ea28e5a86fed9368865f6799ea29ad2e5b8711ce99eef12b'
            'c5ce10c43dfb147e04e09ccfa106ef8e398d49a69b2f5fc24e72b891e892cec3b921a317df9f55f708aeb99571d54f84b46408a986f3ca34525a3a2af7150f94'
            '0fbb954cdb79038ab66e6715181c4ee33579a41ae7911b4080005dfd22a5bef7cb53746599009cc4781922e349402b6bd36c4361c1f18671c1f715e3444d6e8f'
            'c50cb9d6f4844bdcd8d7ba81f263658ccdcf3cc9afbcbd241085cf6f4961289e2abf92e012ddded4083fce77e31eb13d73bd607e594030e23581c5dadf43bc95')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
