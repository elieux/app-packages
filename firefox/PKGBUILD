# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=115.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('9f54b3aa1d784c6dd7529986ab81864393c015019c368687f71f407752aab2221d068ee68f5d7b236deda8b8e14ec3154e744fb7ddddad194b86cd03011342da'
            '373ad7914d4cf2348faa21f8539bbea2583d8e35bc00c647d8c68bfdaf59f67dc9aa413d62d45c1f4ddc120d92e854cec34721d5e4238f3abeb1fda95970c3bb'
            '2e79fd92f8ef924aae69cfabe86aabaf0cd9aca96e37e651fee5981a22336fed801a490ce0b4cf74e41966a24f88148384eec2b36054b35ec0a5c38b5f055b84'
            'c462a6e9cd53db577ea705801c4492fd9cf74ce0a218bc13d828591caddc8a9ff1811a0c404bb97ac0a0152abc9e811dd4d7eac285242b7361275c785dec99cf'
            'a77b2633b73a1fdf12a5976393138439ee570827b7d46f4621671af65e0ae6fa4cf43d9750c67754df8d8697faeeb2ab50fa68ed73a91f0f6f89b4067a050bed'
            '25a593d4acddac84b8c5695e9ca717170edb2a6d767b2e838d796c217ac96bd065f16d49952963d362e8c96af5b03a32b6003fd74f767e0a0435a6ae7b572102'
            '6afcc1a5c2884b60cc0f92319bd75f881c6b797f1652adab9a66ca5a1df208221eceae5ed925606f166f59885e172697b080cd51db7139e6f89a2d1aada7dcb2'
            '3ca9fc2fb5ff86f17a44362e36ab8c73bc6c65063c05b80cb869223b9d65d6ba5d1575ed2d547bfcd5ba206733b2af96ca5802aa8f6a339f2e7c38b1c7e7d1c7'
            'c246ab14009b239a9ad0116762a582b414efd3dc7468f087af56a697de927404ca8e56a972d1607b2782ff58a3278414754437a0a739cd997045c6d86b9a0bfe'
            '3758151cbb3f56806483195f4cfea74abb472af3b2764168c57ac05d5add559711ed338b76f2ae7f8dab50c0a4c65288912d602b9c389dcdebdf1c2f07969916'
            'f29bc850977cb2aff30c6454374877abddaeea687cf67ce35d0b804954face525a25da7c80984cf09e052e4566c908722cd29266a0b8c468668eeefb4cea5f65'
            '576f31e6914d718fc4df365f7ed1d8308a4f0ecda979a4a6b8410d96cc77154d2dd135c360ee8b313f2a442bbe7cec6cfc6c862d38eb73464125cf91fad76aa0'
            '2daf6d4a6f581274e9afe7535af2ae0708e2e12d5c25bb03a70471e1a284961465913350e8c7f5877a3717569fd220c308e08500d22ef00f9d3ed0cc2b5c456f'
            '09a909f5288ce7042e990cc1126a1ef3f1576c689966bec773190bddca457da0ec4552170ce53ed6fdcb54071480da088b552e1ea0e6ccd422aab86bdb72e384'
            '0060763719f3518313be9d6e3d31389312e20cae45fe4910120f5d1c2d1efd1f5cb19194ee71dbcf830b8c3023750bccde93399cc90a30bddc00224169f09cbd'
            'bf19071bb096882cf6656d838f76ea8e2687b6ec8f7a38c04cb4d2c7592c9396540caff9d04c8c7376629163dc1f42469e5526fd2df416abddf3c411044da97f'
            'a60bd9023a36e56f356fc5d795be23a7ef2aaa78bbc6be68e29f70f6eff8551c6c776f68080dbf88d6501bb4cdfad144f9c14456b632d6b7186a7c0fac83c4e2'
            'c674ac961295b3726677e261dd48bc45975d97cc835d2af5b8ceda6154368629dbb9c4fa4a51bdfa5571e9025aa58881f7c513966227ba32d94f13ad1632a980'
            '0d4aacea6bd9a3fd2fb0a65f8deb54f7e01f8e038a7b8ebb357de5c7dd711446f0234160d35de98564288cfafd8b608ac4cf9a845723a47170fb647d1e1cdfdc'
            'd49282c9c94aade87c90702d66274f06a55ab5513cdf045ea785a9dab5f2e0569eaf2bb296702620c6ad10a153b23d11e5927b62adae629167784779ad6db58e'
            'a1b608a18d333d7b7a38b7e281007fcd979d8fc61ee2e35a0bc21baa0d341c9f1afe7d712c1ebc3ca7488a68660f747d757a2a5df9927b329af6f36ed9b4ebd5'
            '5a568950255cb24f9ed8e97f157108aa6dc939f0f9733f2ee45deabc0d3c2fa57ed42c1302306ac58523889c9eb0d960b47a47e8bc0af0094518395f17390cf0'
            '9dbc16cfc19e0e40eae29a721261ebbfdfab8861bcf9abf05f1048d73567a2c6608b52cbb95128a876f8784de13cf91441da0af2196445f62c008b0405d9faab'
            '580394cace278ccdda85ab20207b525c1bb30bf03982294624dba2bbb30b78093956560a4dac0cd683137489a16a1f005384e455bb1bb13c19234f40cd014b4c'
            '7c0bccf25d24ce3a54b2aea37cfea33139d87daaa5814ee450e9b72e1b0cefa72216aa914d791c7bca6d22446bc84642b6d65faaa24692c7ef18b1d2b4e158f3'
            '0f72ab773cd0fd029babb4b8616a2c1f2bf298acc0a6d684b7c111b3596dfc36963f5e84062034b5b54a24f4418e7807c235d42319d5e285bf2f1065b5280bdf'
            '3f7a9b722cf70eb8992ed41f79eb8343670227948010aeb603981acfc077e189502201e9ffe93520134bf4a20087d02c4803589f79bdefc888f0d0e7a272859a'
            '2e5d37fcbd4e190e9fd8a1661f220a413e67551f78eef161d29ce88ac1cf23e655eead773c12e811194f4b4627590cfe24e0741b3a9946482af479bc4008c271'
            'b627379565450e69cd5c589b10844d4020d786a5887f77e33d0c49c13a4caa9b1110b2f1970531811663ce63b7a680dcaca0007fe9f2dd03d6bb5152d4cf4519'
            'f7928347a5d1ed4e87807a7bdb5a213cc27110d4e438ff2ef3e61bfb03e4826249a6cb6cfbe6d6d4ce34d72e661ddb15d460d15dc5914ce0a55837ffb368a721'
            '23035d8561e8dac308aa4bddae742967ee8d8bdb21ee7ad8b038c28c4cc04f0c2113c28a7a503e744c1335cb8aa761721b0c60717786df07de47ad1b64beaeb6'
            '9dea16dbb2de3a54e598c8a894e3fafae385115b952fe15090cf6964acbc91a583802194b17fd012e219cb360026dd14ce0fdfdf8f1b1235d53d5a41e3d2d919'
            '3a65e4a9af80c78060e8585dbf17e4c71b17f1bcdf4e80d83be8c8edf4851e11b0591206206fd1d40af303adf6d0611ca58f900a35cbd52e2cba36392baa47ca'
            '019c0c62d97935363cd1c4491d1f4706746db85acdcefbc62d2c894a817a0b91119a8c205710ceeeccefa626b5315e3d28d035357c73ba99ae39007bf780a67f'
            'cb21fc64c995f81d3bd63530000ea93d7a754afeda0a1186727827cd581979ce1a44d8af6c2675583ef378dd414542d02cd70dd39b9563f1f6d98bfe51bdd4ad'
            '3e62903a42e0ef7f1e1d505682d2265b6965c665e91b6bae3f9e0bc41db8578db927b23a71d5d2368de8cdf89acd64a72b775380278b65905f41d078d54c4a86'
            'c109a715d26fedf0988bde2bc59d71ad777daa25ff72b52cfb8ce618e5d40ffd8d10bbd21fda392f48db41e7ca7b0ff74cb6aed2141e25418e3bfacc0307fe5f'
            '0cf517f49731ff84155d107f7a4395e831472f2e6e59add23f3bb1015ae407f4aabe20d3b0d2cdaa67681d5787d4a3c9d6e2ee62f64624b69ba1b7bb517cbe2a'
            'f8081ff7351dab63c57cdd01f8c0ac4bc336b938e459fb814e2b2f33d7358346155ed7ec639df2f704b1478c6fe7c549173d749d02ae797b0c8fad199e365989'
            '704db298cb8ac2e4a4be1e7bc97d40af2f6dae2afd5c8d95a9d2664ebe330b3b7afb003d4af68e24cad1886a85c4b9ce4c8e4c98d6bbf44dbd57257c56f4a7c7'
            '806320d55b9ddf4d6553e33dafa02f59077e98195730817f610b7141562e6647d8b206464be090e4506e1ce4471c5db1e180bef555db02edd6199b79b4ee522b'
            '45cace25db06c29ecc71f1d5c36549a19482791e1adb48a47337a9a0fe83440915f0c69276c70c8fd3d76813f87afb9b73d2fc0528d3b7a01376d44cb5421725'
            '04790eb258b6cff286ab21e49d03ab337c2acdffef867ab1da26027bb88900505a035f760ee10933bcfcb4012c9b5a8683882b2565531eafae327537efa10203'
            '2f6657adb3c2f07f8019038e4b2e0884d7cfdb6dfcd5af564c55ebbecb696d6bedc9eb9b1a0f00b3b7b11803bb6723b6bb4cac18be2ce820121582bf143a1bea'
            'bd7a9b33a47ccbe18422f4001d7d3bd26de2f4fc7c8d4df5899b052bdf5dba6288f1c2aa2d5588ceb21207cb8f580082ae4621ca0c9126b1ba0847ae5cb3508b'
            '6a514ecbdba45d0eba46b2b15c163d194ed26047f823ecb8926c36ead2fa3ee7a4d67f7b6b7899f8d60142f0df05c3b30180f0e576bf8fbabf0e57f8a8961af8'
            '60ce4ab8bba5df45076b49825c36c7ad031e8763ebe444a52ff1e60155a10e2db488c775d41f345a098054bbcdf20f9c10c14eb7f795accff2717c2cf69c0341'
            '9bc9f1ba0145467af8e576c054d4d14f6e7ec1cd2d0973ec833783c9325e1d9f9766d88dd95149d0b24246372f63ce03720f4b20b18c2927d0cc396839afecee'
            '5ee61e5132a41f097ed1baa656491472127b532245c0a1d392005545e12d4d19a7b9de7a3659cca008f7c49fff105015e02067597a1c1ded50079017bffbc9a6'
            'e3116f989453acc4290bafda837da1cc7fb3d3ea722a7644a49ea43906ed7c7981fc46928a27a8f0a8fb9eafccdcbbc2dd65500a45535251a80600d8d7d0d46f'
            'b433fad7dd79f9ef0a7991fc2792275b9e46441d67f4cd3c2f2b5623917de14f586f7fe6d0edcb3572cd4e457fa7c117433f4eca534a6178f74f33397a61a511'
            '54960e93304c79f092d7b5e47f88e47df4786cfd491d7c9ce808e1d6ce62db9a0daa1b473e7a4176c86481e204dda3ec15be2d6c8e32241f9458f283e23bfc00'
            '1eb62092a36f637b1f7392917df9d17249e57a0327ae41267dd9325c3eb5338f8b68eb2884029fbe65e14149a020c5bea111c7c4e3582f113b284727080ba1a8'
            'eb31a2e7249e5d67c0dea8cad1d7c6f7e7d97da350145285f82ef4a238420cdcafbad851a469413d1c70264928b2e5a61720e877d5334e3628c060d4a275a22a'
            '5ed5d4132ead0bfa8fb83d2beaff819c2cb976ad5eeb94a6e94abd373a192d8545d5123fb3d9aafbf3a12f3e82e9912501c2d0fcf83503bf2bb27c0e1e3f2ceb'
            '0f64c1a9b1cd29c4c8c5781f3db5f8a3a532562791a6c0a91aa3b3649721da7493261b0e3498a1480c5cc809490f55bf86939f09f36e0b8bf77c33189250b5b3'
            'd73872fa9c3a009dcb2a53a168cda5d5d19a85c43fdb8016a6bb6c71fec3237d126a04952147b3d8eaabc41d89f93c70fe22264e83492c280915b5e4631b9518'
            '0fb8ad2bebdf174597c7e9a1ccb74b5351c6dcbf9267b17b7d891b80ce13d3d0f1f3e3edfe3f7dcb374e42ff20b8ca00980e42715be61fed7ddf1d9b0840a11c'
            '2b68b75fc91b9f0286e804616f00d97b40e02be14d4ba7f874e27cf47c6d1f7bb47863eb8e776b859cfaa91d339c55b04fac3b1106084076c9a41412b738de40'
            '4f5272a28efc6fe5657a6b56a6e86291bcd8fbfde65fd165ffd75aa6ae75b07c9c0c2a7dac69d2ece739bf5e00fe1c0b7970c68a92a8a64abb0002fafe627233'
            '6a83c38f0d784e248fe6ec38878a4e4e8322e1fd555b174e74aaf36a3cdc6ce5c601e1e80ef184d219bcc1b7e277f72dc3bc915e3526eb4573e7de1971a74a08'
            'ff6675271cc64aa1952064e92561cf5729b7f00e4307602d126a593b2da595b0253bf6fceaf57afa57e6e11901424883d3f681afe297a8f34fbe3a6cce173f23'
            'f3bdf6bba16405da1c9330297de126e93a2e9606e4eb591b8776e5379324abdba5bc9cb923f286ef34c7b7fba51ab6d2f7033f2094f3fdd1ed9ebb1303125f0f'
            '56047c7854896e9111ce1ac0a461193fb6fe8db2a6cc81cb0d497b45588ab0d67171e9394f1b1564cb4f0265313ffb23e50b575131eaff19a598d6c2cc1b7708'
            '053d1f49ef5623426ece6eebccdd87aecf2cbf4b8490d471e6ce37d4debdc9d1678cbfe820784b79952dfdfea6d264ff8a69ef1d4f5a930b088e3698955b224a'
            '8ba35aa456a4ac062a9d08cebc0e31a16934263f7a1cfcd077e192d5ce12cb3c5998eff7877046427fbb957a6af886371d39ac7a1ec2bd7077781578a73290cf'
            '5c76db88eaa89fc146c0a28a12c3f4f615037bff848f65b839bb273f34d0830b8ee740bf1273c5cc8facf8519caae97bda563f5ff3e422269f9212537eb22e67'
            'c1ef253f70a82ab1a49d83da5a78e4e1a1b36444dec5c30f846c12d89b0d6c84ee332d5774eff0ad10cfe104fe92d2bcce6c5ade195210371e3adeac2b0769b4'
            '12dab0e4a5dba09c25b3d57313460a6b210d7b95c4c14c3222c740e5e8a2a692aab4f5ab4c753391c92a720c04b73b840171ed7b5e8e7865f70aea5bcdce227b'
            '8dfb54e7e2b47120a91d3a30f35ef9fd580bed48a4b74f8a2c0c9a414ebc6af244278f301cc45ca894436684a3712c4a609242b12b646aa7ca34b42f54eb621f'
            '57e343fec82fbfc3a4ef1b1ba2c655ede756f7b2b1d45705110c5484a960aa4fd7260d4741eb70abb0de2c6dea6c83dc374836f07786bd38a79901d131ef08a7'
            '2447c08f02bd33026768cc738e2310e5ae0464307dcbe581bcf83de734c8fc24fb20c0140072c4b80e8f35dc9ff8a34ad45d5eb41cc2f6619007624a420b3009'
            '0da0ce733270d1d40c95f4eb90655efe95ff2d22e6ac882391b442fc0aea1654c2b0c683bed1c57ba52ab54539af50de376be77b9df5613ffd6cf93aa44ac313'
            '348f3431f94c99c0f774204da106a0186c041114fcbaa9c865e9b028079e8726f09d5d46d75dbd814df3989cc0f93ec765e31f616549148d1b92f592978ed491'
            '728f33814d9a358012091be24ecc7e60c333ada93722f1c8836423a87957a8a427951c0305ddc850c41ad1263de5de9b5115f4540ba9b1286cd923546983c571'
            'adf99f33fa74fe79f68ea05b7f64486e9ce0ee329e36ef3d9558a897642f33e859011ec638ca50e02a54f661bdd3ac10a17812fa3f56bf8a80f662a8d7067933'
            'c4fbba17427c069f01f02d4604f605f41c5eafb4630777565090c2c6834a1c0191425014bbaff19ad886d90c51cf8f8de6570260bdab5f3f4462606c6c10a975'
            'ed5ca916f92b8bf09af1ba8dbd0e6164d05cd5f77d6c2b04ad59d75c9a5c9140a82f5aeae8305201788a6e28ea45f08209da4ce42af4f157b3d420d4da203f32'
            'd8e7cecf091a5c11638dd6c773001a832100cf388f8d5a7eea83917ac2b7d74b12262ebd4a90a85f978403f3eb3f7c11b7d6ced19a7895c0f4cb4bcce0eee146'
            '0073be603a752de4e0065b4337e381d854997c6f3be22867b141fe2840b154793452eae1d68fd4098becf043fe5eb65b61283fc59d8fd433cf794ff69a4fbe2a'
            '974fbf13d0f81892ccea42c0295625b0f9b0964aa397a5a628838699c70c4454e2b4cec748a800fa874f5e043ed72943cc2817c9b46c09500960c8dbccf5521d'
            '79543f2af6d0202cd3550a007faa68554b1da56a6b21f14e78be756a6eeb18b0634f7d7e575e17e6e96002739c1d59ae16b9885084083a645ac4a6667e3f2dcc'
            '6436f525fc46108861f65f5985f8529ddc101aa10ec05170b5f8b5755e41e84cd0d66eb52c0cff5798abcdf495b08cfa95da5d260e2299d14925f67c1bea2573'
            'e8de6cc852238f67d13e70f2839aa80ccaa33ed615912a8fc3c14540b3f0ec48c547add3864e253f3c9d9783ed6789f1145b16a2ef99c3b89d315788857ffd0e'
            'a43b21340bf262a139f3ad01baf75e37392619b596a5119aa9505c90b5619614f89293a8a37a8454f76331295dc99ea0e2f778417d6512288fb036957265f60f'
            '2d18b8ca39f9ba955365e8d59cdedcc6e5f7ea238c7cb36d000a8b739fc0a40b45a14520bfe6039bcd24cdd3efc76e7bc0b19b052e741ebdd578a27a02555ab2'
            '46d0128e3859978a2e389717bcb4ff77b0399d604e38da931d0a3b9625fd2a4ab88b30acff22cc8cef6c457190cfc26a753265afe747693ff25f81602670e2e9'
            'd077e3d423db5180d51393ddca9b56d4585e0952ae0de86d5f645e9c4083885550164357a1fa000fe78a9fe2b4e219321a31694062526044e2a6605ed2b02335'
            '9f2da5722adfae75f3bf07d3395b2c87bed5ee585c133b285bf834549810f97c734e413dc786e1d71e8c85cd59d31c907f1c2d5a25a358b0fc66e6dcb999b4ba'
            'e464934793ad5bd72382dcfee6f68a2ab68c457d9f99d0e7aa1c42dd93839a67710492e26effd9018eb4966c66de6bd174f374587396061cc94394e408eacbc2'
            '1565c75ad9d639658435243effe27ef5b20f417a692eaf5e80584630ea5eec7e7d264880d6b10dcb76bd178e666885afbbec492d30976d3ef23ffbb8cff21c72'
            'b5fdfa42c87acd0c4678f349b8b27d10eb9ea37574bf322a2a310c98034e99bd00a157f6f72777147574425f32c64bf699639b3291e0b15e9c30c5cea0acea63'
            'd83008065cd119f77f2700472248ba38028ab9116eb34cf9e25cdb67b0af4ce19029398f56c90cd1621f0a606c278d0ef093448c65cef88ed356100ec9e4d62b'
            '31d0ca8e43a6df9396319b86c9bc2aca8896738ecd46ed271ed9216943fbdb29323b4e8d78313e7b6993c81148d434496257695affc2c43cb1aeb2020e632c2f'
            'c79ef2a7740e8cc022ff5d44b38870e45f4d43bcf74c965060469762802b800a762a390d9642f75ffa747cb70dba51f66ef06a0b6894a5d3136345b9d651a6c3'
            '750cb780405f8433552bdc0e58d6d43b43be21950ba301de297d110ce8b79d113cc8b355a2d2dceef6b19147a529eb7253867edda152b662347d25d080aecffc'
            '36f165e0841c76b6c181fba1536e69a8d28d554e4e04a3eed05925906870122ae21cb4811bbc3c9e29304884e9a765b08b6dd32000eb861c3db2ea817c96d511'
            '6d1cd6f0815694e3f6dfcb10ac7082752f479ac5e5b6ae6f1cadeda79c531dd41114e5ebd2b8ff987a8e136d9311ef77fe78c1992f983a774937f0e65e3d9a2e'
            'a2aebe7ef10f371a56a52c29cb878274135cec914dc639b29f9433a462cf95e0b88234098ccd2fdd426f2e39ac8ae9c9504e87a55612d0e6e02b52738dbadcff')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
