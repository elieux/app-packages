# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=137.0.1
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('d51f586192343a44780cd7a0a6fa5c74cfb2482a38bcc9ab12e4d389dae324240e00f11f09afe2cf8e6e08be9db83a785e938954bb4b065c3550090c8cb2a687'
            '109edd0a165e0a49d807f4438919c13ac74f2807d051f90b919b03b7c83050ad8de89b9ccedf62163be455e8e5d49aa88a2fcd74cf041ffb43046f26757f8a6e'
            '3f0ac89527011b9cb1b7a1288efa34b0317924f34ff6d16f5475c3effb6bae7e865ef0b2aed4dbb793939ae6e8155f6417f75b61eb37f8741400ae9d40e0819f'
            '60b3dd31d184807cce44d5339538c72f1ddf85875c541c32ffc617a9e822d33c2a50cdefe7738431250fa5e79d3e89592c5f35bda556a02af638c3ef8f4c60a4'
            '838c5a37866e7530947c9a8221c0cfff519cf78c1c24f10dab637f33fc93d24c07db2415422591001b816c516da91bdc9805053208a597254da77f045f47cc13'
            '80296bebfc80a961906c4b19a6e1491d588fbb205f556fd62f7b8b6ce621e0406282815770402548cc12f16ec13b4fdd570c3ae0d0de1fb5f6b6ec33a9c27aef'
            '653b339066ea7d4cb52958148e38d0b88c3a3adffac20e47c9fd4c4b688cf9ffba3e3b18f9e39204dbcacd3e76f8108ac4cf60447107ea210f918ef830176bae'
            'c506174bb73893059a666cd072dcca7dc9249b8246c3be0ab0b07a290261155c0da8a9bbe1a281ba507e02fe302c284bffd4abb0d5e2f680dbc2b313d428acd5'
            '89f2b94d9fbdb28b9eaebe006cc3d51fa2e4491fed5cf47bf92e46b93201982329016f79503715686bb6308c0859fa4a1ca6b194f13ab001e3b4a78b423f1214'
            'c868dd370fd3f89b43c5392240a02a9a99e7c78b3176ec7d027fe36a2a86516adc89f2825c73c3988ee7aa75deb53cbf0331afab7411d637c6cc5881bfde49fa'
            'a2ad15c98b841e2c4b7eda9630973c9584c806064b565a04c9b37556d42fde4b2d0cda5f9d7804a2e9eaab7c662606847f3ba1cb13c354838bafc091ea5bbdbc'
            'de8eff821837e52c9eae0df4879537c87fe4700dfb5a08ae75725f823d869eaf131b75a86c9a8b69a785996aec928be52b0777e63141731de1e4ec59cf8a9fd2'
            '0f45dc61a613baa1d8021ef28dac6bd5d153bd3477d36ffb18381c89d04abb063e57f5330b33be655ac3175584949f6427af8436d17d5480b32fdafd73ddb03a'
            '8887b845f4567c741dbb3b2bd8803308f5284be594921fe697a76c6055774124ed173671e1eadc85770ccd3783b115945690a24258ae91792170339f7c9ba546'
            'e064b4b4075fec51b977e82764c084309b4f1ad6df7d5416d4339808a6158927b7e692063d9e1899f7802420bce17d9a7f6e5fedf9b2bfe7f9b679a0296767bd'
            '3b890832670f560fd86ee060bed2b9056239b95328e34a076b08e458f25693a53b160ca02dec67906fb86bd2354743aeab8f20f4eaed26d1866e6bee40aedd25'
            '57a4023f307b89efe5d68f4624fb91ddfc4abe6075efc07c2d4a6446f89672a7d3be53059aacc458849e92a1ac514575585c06cad169565549a618f9ed8ea014'
            'ba41eefb970d09269f37e6809f3103d37444c48b2e6e172fc0ea3be1f29f2b0ed78cd30c2ebbac051bef4f778fae39ec8aa556d0b97143229a69f0ed0940dff3'
            '532f8f8e914e4aa5a35961269ecb0fd22351d1061bbed45dee36bd0044d4733a028b2b112fcd27c0c3a65089b272bc01c92158cc3c7caf2e92e547e609a20d61'
            '6fff6b73a27b7804aa811edc141b076c56e058e15fb8450c95156e47525a2fd90c72718a22c3ed0f5fa1b3f89cb5dc771a8c5b2925708bca95b369426157da69'
            'a920d8ca54e8e0d1754e05ba0e3dac54d84a696a8c588940e9e0e547df9d0979a339452f9e1ae535b8def0ce2d8a0f40caa56a6a81d16d539e22cd0f75cbe51e'
            'a8862197c362c2bdd65a5bb999d2c80b3bc178e5c59d60738d77fea75c418a6b5b9b0817d4dac2345649305db6e48488ed77d92598ab992c7f1baeda31ec080b'
            '3322e569024e60819c8a6fda98d59c23982b4baa481ad209e30f26510a40e65609180dc13a53df9691939133916c5454a908496040497bbeb2862024e5260654'
            'bc5356663a2b915eb32271f0a8444ea4d61903720e2933f21e25d2900ae0ba6cfb170b910e35fe7fc462ad078dd0dfdc4aa0846ad1bb884053eed47ae11fca67'
            '793c62786d6aecce90535fc8c0c235fdc884c444d3ede62b4dcb0bcdc0a667139246240f1167eb78efecf8dacd7fd172ab0ff853d552882e111f9638ec11e852'
            'a96e75707935c3e96f4c576619a14d5d4b484381a0cc65587bfb297c77d7f2ccaf368042e4eca3cdbe2718c09aac5259a0b51e117c92ce57842dc0849ecd176a'
            'e5f7a4703a5f589b4a7b897bf3a86932ad2d2c2d2f0b2f3afb68417c524a6d0256bdee6a570be26a5ab56de34514afcb2675047557ae2bb0f8a40928bb8a512d'
            'de240259fd4ee8c41e41e983b1fd3053eb04f1e05cc2cf226833e87b73c3f64a9a2471c62ac0379e4561621132429173c6ecafa60ba441413a33bcce5a88ea99'
            '393b2bb9ab9957024efda353a14d4466258030febc43ea9d46565f77521195edc24be0836807a82958fec3ba4f18f4eefdd670f3f66899190e0c5f4ec99033ed'
            'f5a39c0cf03dbe67d9ffb937cc6f19c1ea2aee7422210d958ab2ff363e9c96fc0b94cceaf94291d98e21560629241cd0128f376173ed01e83b47febdfb6966db'
            '7cef50de3cf42a4b4a9f576293962142a57cc192a68af3c2628652cbb1ac17586cf731985c4ed8211796922dd3a3d845689d5653c21f187e7f526f5e781c2057'
            '71015bd6ba01dd216476383d1b1cc5df85001d9a1b1c36a659a870b0bac38ec04b179e407fde7eabbd8ffd158dd21dc84b591a499e17ca816d4e1031563ebf39'
            'e342106eae17e518683ffa873e1083b152d80d48ed1c477e3ce307c921cdd873b96a4a7ba7e093807aa98e188532443c673788de1654e8425c2b63999e0fb9ce'
            '3b229b15d258ead089f8d2d1d8a8d7cbbcc898612303aa7675b29b1d49b2eddde58e607d0e47442d57fb74efe20aaf1c46f9a5f26b87cbb961f041979f4d39bd'
            'aed93bec18cbb642223efdad1218e8f1484999be424009279029d13cf69455821134a4d6eea94fa9f58940b4dd73b3755e17ebf2e436896455834053d16e960f'
            'a2725b1847b449097ac4f7dfef64979574dedec8c4da51bea994a8e69c7e4641f4d5ef2369f4bc8465c620c3398cfea32d29d90ecb062a5c3bb48038cf4660c6'
            '6e632fd87f1820f83e9248e79200711f9c29507ff06db8270279d88f488faf085c5519703f2d8549675608c31d9ec447e2881db0f5736e2d4f9dd72ad4078af5'
            'e360a3ae9612e4db0c966e8db8b546474957a3262e59bc7d30f417eade36cbdb2682537d6f4756f7f44e3cb98da8729ecff54c232606a54d25ea5397b6b7d203'
            '8acb8933792bd2cc69e8ee9f2dd244e1b4ccccb073303890409e4daf6f5f1ec4b4d759af7f5fec92cc434492cc82538a04cf3f13e4ea74858692fda7b7078145'
            '66aa8ead0aa3d942961327983713f5417b3cf1ed52ce2c3f8ece9cacacdd3e2cf13f3a0e34b0bd896332177be1a06e03796d343a6ea4a32094007a3469e69e37'
            'a63e7ea115ff4f8b97ca80cfe9d51ea09c8a6e0caa7cf71f621d5ce905a77ae0e4a7705d0d8784fcc30a263c5478de924abc0940fd5039a216afdce8155058dd'
            '9921524d013a14120e7ea3c2ff87b29c934d98fe92e6d8db75db4d7150aaf9cddc3edafdaefcbe019ea7e3a426fc942c02a5d54e9e54e992c190d14948a5f5f9'
            '619a831d3a40473c8aed9f268e513d9c65406836b83c28903bfe913d7a37a6878d2a93abf1db5f0e4ac09aa699da2dd4a251223c916c8c6d14380029add88d2e'
            '203044c12a3eb0c0b66d6a1610722924f72f2274740e1c71dabdca35df200c226e92c454aee12eaa4e5df319de89d19e0a876241f554fbe6b4ec0dd4b65ced5c'
            'dade668bc29b49fd0ac6afb20fc9133bf65188c5843908d4bb6f05bb297165f2581ffb9b892e77ea3b569a4af4b537828efffbdece9fad91d4a4cf0279779fdc'
            '574ee53824d9c2ddabedb31f68ce5fb4e3e18c405bc57f653a49aac43075d34a6762a66e2099024ff857968b4833fa75d6ae108bafa9e4ebddef3878367f606e'
            'f572879eb2603b006c67b8962fdac3e103d81a10096176bf4fab622bf6be640c6800a532468e5618210919b2c0e881c6df94c391794acdb14dfa1bb1e12244b9'
            'a298f683a2fa9c724dabc425c464f33157ba7feb9ab246be0fbc33664b201fa86b033d3688813b2f1c5d50fcc184e6a1f300edcf7efce9d34aba68ca9c658160'
            '716baa8a1b8163c9f01f2ac60da3a46433ad84c9d5b869dd0ec876efb27f47e54ffaf0f31ee28e11e2d56073900cb91381a06d28b155c7cf79769b9dfeb6f9a2'
            'c9e791edf4b8b58367972421719dad9c6fd95bccede7608a64f93d76cf1331f8b1ba4abc93229e04cae453112cd3f4f9301890a36c94916f59fdcd2fa2e30310'
            '1d5b552ec77f19de61d304da58d31706f263114463586d373d6179057e56e7aa406ad6d10e5144a9dc94892cd445966bb5cef71c003003858ec70f254983f56b'
            'aa31763d94df76280da78a176bca5e2c22d3c5a0d1e5aee16c1307279061a8d8df531135dbe83eaf846374e0e91cd876c1cdd58f1ce629aa146fd34ad040cf3e'
            '2157428e90a73d7ee923ba2191072d12c72f683dee89479463a89850ccff751a5a7f5efc3bf3f167b6380fbbcda100dfbe6b3fa49e9d9f52212c51fcec2e31ab'
            '180d7bd1a9f9c331767afc8e46103808588f15ed79f66c99ee46cf5f6d51b25fcaceaf532f07f7b4fe14a2f7fac42fa538f655adece41417a4b7d6c12e907df1'
            'd880e95d32fd01b0fbc6832a20bc03480f2c90c40e8cd10b50c406db3dda457a9984a8f92b4c9673b606dd2108d3fc19a8fc435bb2ee1da8ae6e312b10088202'
            '99984807c66bd32d069b1edae6c96664144695fd66732eb36cb07608ee85744235f6402223a19fb2c1df7cac850afa190ddaffc8873a821e7a529ceffd0abe1e'
            '114ac4c09b7c4853c6584bdc944dcb4cf313237d4c610d06d63e62b6b2855e96d31bae68b2ff051075d31ff0adb45ecc5d4b13670835012a8390d0d2c7e60993'
            '5ffde15b08f9dc9e5bc4a237941379e6e640b75b4a6654644306ce885bfb7c8111f7726e7a4fe872534205170850f961dcd9825e10074a406497dab3240f4089'
            '885e147dcdc9ff9df53c5237eb61450ddb034159679a6eb3a05dd84cb52e4887b75c853be62cea8caeb4ea6a7c6746a08f9be33cb20b0e3d7744accd1b62f05c'
            '7d956c77e96be9c832584ffbc77986ce2ced93698207115df77c7aa48a363907cb2ba02d9dd84250e5640f0496512530b6421edf815448234b6e08c5c7219cbb'
            '60015d1162fbeb694b3d6fcdea3815c2f7c4ec3277ef612628d59c563b46b9a1deecf0e504f5dbada7d3c61c51affdca6bad5f0574ed6f78f675ae1f431313cb'
            'cd7eb816ea66a164847fde390f070ea9903d91e185f9ab6e2b0a8fbdac9484dd13622abb0dcaf83908749cc9396c5ebac26b1a9abbd6fba2d44adc5341fc726e'
            '8caede6387e8b97a12ba1193da7a360c4b06fc9eece6f00e8ef1d68f9b4c6569745f24d0e9d18a07705766d414f6c8e611b2841e7f9336ae4b0b4217aa4401f8'
            'e3165268129979a705a023f4f85409144d06272d55962242af5c74d1562ef30de1164faa6fbecabc3dfbc634ebc08853a1cf6bcbfdc82903ad8ab7fa0fabde95'
            '27a0d80595ad01d49f742e312da5a2604fc3d6ecdb9cb65b617af7fcab42fdfdb7a7a168a77571978713ef993709b72a86ee32b92e2d01e22a32df55571de35e'
            'ec26edd387f7b27d27ca82f14ea3a841460adf6fab951ea42acde350467e8ae2f47829a2d049a69bda5aef9ab8210798362b935495c904a80f8fddbcce956874'
            '0261d639f2c786bb611379f8864300c06d2cfad247d4d92268abd64588807f7beac1f43f56edde377bce6b29fab6bdc30da67bd9fbf601d637097cd5fb0cb832'
            '6b877a6ca91a600a9c54a3a9a1448dacfde76cba9d0fdee660fab1160055dfd81949e1c837256abbe9b9be73ca9a8ec9c64dc83823a8a15a53f4426564891d5a'
            'c8a09f09e2991b98c7af64b9c553f03fa255496949ff0bcb925e40e71b455cc86d0ba8070e0dda75be692ed5d1ff9ea671723d48343c9b7b9eefffc3568b7447'
            'ce1b87091b9b253070092b2242823cfe930ca909d45c2616b38a34b41746429a3d2d5947d3a4b2f8684d5ccb2e5c090b0f58f962148e7e163c49c011dd8f6bfa'
            '916d1c8c57f3da682bd203203c84005de0ce067c00fb8c1b037965d676a76711e4ec8659e25a140a04601e9ed5b5627e8b8207356c7594151392578be40fddb2'
            'fd516a3b800692743888c2791ee0ecd8b4b74c21cf892759e98e7367f8a9f92dad91be17f3dfc814cb71854532f932497242392204878a0404ff3728ff729d8b'
            '8449b5c9f717e0c09e11ec9ec74c321a138373b37f7188038d52bdc47a0642efee71945f1c10fa8109df2fee20bcbd5a8cb9924816115d3a5f0cc9f20bc01b88'
            '37435ef860b806a12de527807aea924005bc47ff01292f3687dec4ee2c74e9bc5ea0b97b5708d5b1b0abb5881a92d3c553d055603e14dfc4ec243c954907eb11'
            'a08062194bad7b7fed3dc507fbd3de999b06de5cb9125029d889c7174613042fa4d7a85380d465c0f8027c4a589d389ef588e9ee4b351bd0e4f1f2cd2420048b'
            '03ee656026a3764c837e64a1380db5c62c392c9a11516aa91bf1cd6d5fbdb456d977b7dc7aac378fff666a439ee57a1524faf9936810ad7705116645a88b3266'
            '2c136b8199075867a3809682fa83e99d4d8cdd4b937c33bcc591914d3d7e09851a53140dae799e28d4df485effa4487ff896a7584883642ef44a9252abd25ecb'
            '179ba52972b2200925dcfd8462cb168cc3ea309ad55f13d443038b437ea4b90be7660ee6bbf74034aa101ba4cbdccb1c7553709c967e34fa9ca182127324989f'
            '3c3b4187f806b5bc1b9370a4022791ad4ad8b596d0459ff39fcb044823ba261f770427af56e1bf280a3a52c1f6bfb058c8aea071a20804aaefec2790f52cba6a'
            '74b5b8d7480ea2b84b268739db9edced9fff6f0df8c809f292f14a7a43747dc99c721b248238f887aab78df956a7580e9be20fe23ae43b61368a85cb5a2eedcc'
            'ba99964817253a86a2b7cbf32be684d7c13bf13ef6d22a98765fed44dc881f2b59b570c28d2319ba1143e86d7045b993726460a25e15b7f0358dfd937453a2a2'
            '2b8eb2f42cadad1793158e84efe8c12d0d1db7fceafc0b46ded730bf90f8c1223b668f2308ea15a6ca92459e4fb0bd16cc7c829733775a79a23d59438ec86d9f'
            'd0019e30d039a7439afa64dfae062cd3d2f052ef9f224d480232dd178e15e936e7659a186c9c1d84bafc8d9bb239d1897b9a82ceb09932b6da368f3a483e1f0c'
            'e94b06859f0b3c423cc4ab24cc2c18cc3b0326057e665945d4508af1634219b91bb3bf318b8c47c5a8677327b494fa5bbf2a0b767f81ea3649a26767f5a93e36'
            'c1704b3d399504c0c00ec81233b9aacb5bb8ddc256cc0ce5a2e302703e0f5495d9a1033985b415a48d4be04b7960fa5b2c19934640e595b7991c12ee9662f306'
            'c43a86f79ab39b62a3da4d5a52a28e09859f09088194884a5a378bc6a77f3e1c9599cf6ce8b35822c34073e1cc3cb6902f6f217b0c5f2de12cbafae42c5bacbc'
            '9f2eb9cffba44581591d0b818d01566ebaf64e4f3350614e0b3f3523de71b2a13c265228ddf054b7cb07e9a7dddc96dfaabda5ea7531412833bbf23195e10934'
            'a7cb894644e2ee220f007388f2d1cb8fc3f786bb3f7fe3732030c005efa9ebd3c966f9a66ed7abc2cfdec41b87895d61d6dc044c5044e6128228337f33668e90'
            '41e24be6bb4f0a2384a0a125dd159388f0003a9e0fc551ec51f05d2a1df82b699fd46bfc8185079dc2c54d970dc7dbf6bbb740fb18e66a853836f670b02fc336'
            '16dd9f9a6c4f0d0b7e60ac71502c4a6fdbfc4ada1ff00aab23a3b4967ac441dbd74b51b9c8d69b609fecc82a7aee566a732c049c913357357851edd85ef6fd2a'
            '952bf703e6d3dab49e70c79b0d895c13ca105c2a81da7e12ec52237672867ace995eefc9daf732b7ac064c7c3903914a9a271286f18456ad303f1af32966481b'
            'ac41d9b6fc8480b0e80dd8c163c9219802a57b2eb287b3a0cd8633fea79c8d013a52c1779b4e28ed22162e5be1a6703999e4eebb0cfd3a048294ddfca2a38aa9'
            '57385c99b10831f3032bc8ccfa6ba9a0859b89f93774733fe69e7ff2ee76b27146ae6a61ba97606cdce3463eccab2dba785614c044d764f14d297871cbb55885'
            '1fa38ca646cf16f06bb4e32adc630dc311d7978949ea4e2cb8beda405a384339a08f563bc14b629e64fb82bbf28c5f1dec6a57232f17456235c52a41897c6a13'
            '2195c19702b13a32832a37af2a3c6eeedc9442fbe59c0d1d7cd408c9c3cc7ce7552e201fa273d7d03086cafb8cde96be76a44226a57fefd2b938fe1fc2d22f90'
            '2c0476f059a9abbd0054857404b7adbd58dd169ae41da4f5bf52603e176e8c70966a08d483f47829e95d1b6d13ac2df69815484075fb8fafb1974482e95da756'
            '7cbe92a8c347fe5819e85bd78946ab20d9f194c38ed0982de49a4d02ea602e9aa3dd81b8fa811c6eea2783e61d0a25b579c329e607e2d464271fb4375f4e5f04'
            '7b6d614bba77eaa78666a9f56c8dd6935b13399713ffba3e6391a972bd330afae3770b04ccc210e0715e607f76bf5222247ed6d2a5a21a27daa80eb4b7278100'
            '9cbd88029dd4bb1cd127839dfb27e3923f6535714dd2159c782f28da09809320748fe0752512a45b2d86ff9276a6683ebde89d80bd52846b7e8d38eb16ba0631'
            'e1a1b481edd4877be88dac4e4ac36d74405d52f9472a1e59148e27dd50a3a0319cf49ea88f07b6c16fe075adfbf3b3000e71a30b79b02d54f334e8900da11817'
            '081f34845821a5d98794b51457579e73c085cfc615ffe501fdef71443efadf1c191cb1a2f17f941588b032330c6ce7199afa909842526ee900a8414a80106b39'
            'e96c752ed17169fb138437fb304d1d3f78f7afb454a7221a4153e875262cc29450efceab8c3fa60447e43b27d6797ff903af7cc58b62801fc23997eeafadd7c7'
            'be24144f63372510d6ffcb2623353672f5fb38a0a0fa2b0a665b5db0a63ce2e60b645046f522cd2324f64c376ab16eac6424322bc6fdf3ee6f8cd9689bf957eb')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
