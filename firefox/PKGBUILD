# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # choco version format: 93.0.0
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=106.0.5
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('7a748a2651bb003b0af41b1fa49263364a4bd0db598cfbba5197190e7f352fb608c5c0b09797825a26329a5c86b1c789889a7b53c6a9af46ce24605338828d33'
            '989a52559baeab98583137dcf737d0df5fa039d6d2b1720a13c828c0c871fd2914fa82b907e1683b1975aad0a9fdb2e8c4e5dcd8769e666ab64579c3d8f55923'
            '4297e1685cf35d5a722a7789528953818705961ac2eace517f72837e6dee1a5b40a5fc3ce2273835591da9661869148d2434bf6e2740a2fc3ab1bf3245519aa6'
            '20fb66e5fb04b3a76299397434df21030234a5db0bd8bb1471f52baf9a35e4f65802c4a25d322e4b3ba09cd2e571a751cf85790fe9d11ad1c6a0eee3728d67dc'
            '18bc61f4e711a6de18da01819712f54a3d63baeb9a4d6482244fe19fe8b8476cec269cd7a95985d88b9ee721d369bf20009115baa9b86d69b9904cee7ae434fc'
            '187383816596fd2e75ecd99cbda2d90c3043c56a8bbeddcc3f401bdb989cc2614dd5a0d5e977ce557370b26aa50e4fb9831b2c2fd50bc0ab2685e98457e9e164'
            '125bb03c7ecfd9d03f976577b43bc95afeb97fbe58eb03e65d5db95531653dd202acfa0ebfc6515186e4a3a419deeee8f4654b186214e897313d2e64b443b993'
            'e5d4c9c759142029772b9b0b3ecf062f00ba65ed35e97aa03324174dedbb9e60f6de45235a167346f0136a96e84c828afb7df847be88dfae0d43fd9c93ea0736'
            'ed7d62ce2803e785c30113591b6bddfd18acdeaf49505fa6d5dc94f5c5ecfdc7b81d8edc5f8ba69fc623fab01bdf2af6b38fdede5fd92d736f184293dae2855a'
            '512a9713d95f724d4373fe610401f68f65009d5f521f590aedee2e5f5310c8242eb4c540cff4413303bcb91439622b35bd114dfd2bd1e22ab22049da917ad105'
            '1d246872fbd8dacdb6766bef83d90f6e424f7a68b59cbe69144072a080cfde4f5e4d3497e941468b7c403a5430932aa02e2e95877f920f836c9f62bdb7de7a43'
            '08d3dee0621be4794b54c1a2ee4124db5400b700b3b32ab20952e9aa36ace53ff2d9a7e54c3f0c7afb5cbf6813e8760eb4577e31c14b0536c781188d318670c9'
            '62b0c413e7204ef76e5cfdb4f54ccff0b0a11272d61ed0a50f00c8242e25aced12cb432ae9721ad5315f8011a22c5647b4fc51a713445434e9c3b06b96715710'
            '1927624fc5deabaa28ffff7021b012cef86dbae2b97b5761ab872399e08bfef155df55e2c3e9d9c9d202fef0796a160315f2114e184ee0615d7d73da50c48ff0'
            '10ff1850133ed3df93d92ad918c969e61b27c39d48c20d98c3e7d94dadc1f0d26b42a731a5f190024386fd95ab7f73770237c7f17ebe61e6378edaad7255255b'
            '69a9b3e9aa43ebbc5efd3df68689c39f65f8ed1b69d450245a15649dcdeb0bae57a94c73936b2d8eec8ec01fa67fcb7f99e8ae96d5dded2c815dfdb19244d98c'
            'e03b3ca3263fb9700c4c3c196db20bd5d5f79103b11a749bca6c94ef9074580cee2e714f5daacb489fc3f2b297dea7377d2be48e111de212c4b5c165b590205b'
            '0eb2656b92cbb8221afe0c305cba6d6a58d70e12f30b2234f5e137b385efa00125cd12478ea7bd9884d75a8309d5bb27e52929cafb0a909b83fb4bbd061d2ddc'
            '2aa7502602c90e46f8e09c24959ce2d82251d3e883b24dee7bea2406c704fd3e08ee0171d1754b90938a976361532432948b0b1ad643fcfd948b942769c1bd0b'
            '854487150d1d16acede7db4ec14474f0d8fe3033c8159e14ab4ae790fd5ae55a55dfcafc7b403de26a6c047260bd6d6d242b5d09dbe478a80a236ec72c917838'
            'c94e5fb8408770e607c41b70d66ef594df27a5391648754d43f8100e6b456d8c9d5e82862571ac934ae7740d0fc2935f47220a383b8d3e210e047a64f3dd291f'
            '4bc0f77cc7672195a0991281ce04ac72613cee6513d9f26ab9b68871b1b6aabe7bc31a8ad24612fe2a711bc177416a950c3acbe46ae6df033cbca19d8afcdf87'
            '0fb4220ada4f45995df7ae947f09c75b77be887f59e29aba9a879e37feed3a69002db8b730774dfeb539e2cc0d2de988a1d54d8b7f9ad94afcc83c84ad5bb6da'
            '1231f29f1a889935367764ce2234f3c3bf42fb3ea8b049a9161ca7dc3dc947ca9962897a14da0c3567bf59fe9529e82e9f53bff8332b5b21eca2458d40bedac9'
            '6e930b548e62d627127d12c941c2c6aae1f1f0dc1e12db8d4c0315d59f5ab7172c157851923ead23588051447250e989561e502cb3bda697eac8f3cbe4706e38'
            '1f2079eacd96c57f1bbbdfd8f81dde812a9cf75fe2971fb00f068a203e2bdc8ce673afb0a91061ed7c0a248eca9d531ebaffd06917f9bd040eef2dfa795ea0e7'
            '756f0481deee76514c2b5f944512b1f03199e311626a0d982841abbe25050f139e7fb040f87b677a75dfaee3f2c96daca6f23c664775d893e1bd8f3cf96db3de'
            '955bd318f19140884f8a23aee84e0350f411f948575cbb311eb27aebf57ae1bf37417ad338747a423c8e041daf65557dde845b8aa1831092ed3118fa60336f68'
            '7f5a3807bc17515c9a134e43e2b997ab0d13ea73b9f86a30b344ccefa97940c426b4d60cfd33157cabb8ee4d44afa88e6e397be0c6ac02b7f6d89d18d8a97869'
            '9b51d6174127883aafe1365c66b5ebf8d069173d784d72207abde9a1bccc866345c4452925cb14434792b6a25aaab408de32b66b934bb68c77185d7b3e2b0535'
            '2495d93c8b322eaba043cce0d130a7f20e01ad06f30a789c2dee39bb452461b38da39858f4c265557a66be49608ede13941d78268bdf9645669e62504df3aa88'
            '3a1897de30d86afaa9d02de85836d892a1a88d443d3ee24dae6a2b4400e35a2d77069c4c961dfc95f9c8e08251d550320d947b21bbe502c716a96daaa216ac6f'
            '506d830866e5bc3d4ab6d2cc001c5589d25be529eed4e431a189da8b62c7626e4b9043d441d5983d78fcc0acbbb4dd8b76697e0e14c647576eb3968f1b8d7eb6'
            '40878cb2020741e137b5b97e4f7a0ae84400be13609df8efd84a0b5245b5020b367216a80ae23441ed82052ff455f4dbd7796a893e75138fdf203323017400c9'
            '2df772b33566f8c78ec3a674140fa30b984644bcc119cfa8f5369d2f8e3a231f0d4d57c031db595d2230fee75b4dd6cac943638b011e35a96f334f1e01162d34'
            'ae2cf29accad018d899a72f055ed4e977c0561ec4a1885927e4f5e7cd79a224bc0c06c25603e431e589d7dbfd00c8faae60088a5d5431f4aad1f629e0856145c'
            '63f28fd7adf325ab5bda438df0ee8b0202a052a999cecb626f381c2ab39e7097dc2f0e43c2fc7f9f7736d6884f6d24e49cd9b8a995a2d14c5b1034e7d0123455'
            '9ea72384a445fefdb372e09b8bfaea75aef3f8cbc7b0b512c2fb57a9715953fb3720dd1ca099853c94b3c2f0700c44276d95afe55ba31ab78d751f4254fd320a'
            'f2290a5cda8ae73d86890cb9d5533ef3145d1180a19d562e3c2f27c8ed1fbee64e2b2a8fcc2e74035337b8ee037cf217e11ff3f621fe240aca7c5a7df221064b'
            '93290132e49bcb49479f8e25a5da71079b4412ccfe41e5abc085782342414201a88558a490b8695ed56debb763b548dab82268dfd25cbff08738f6175e78317c'
            'ecc4937e0fe5883735d4295b3cdd43871c75615277f9242564385d2a71b710200c91eef7be0088100024359ec7af6cb2efea965011a61d1616edd9ab62d63681'
            '09a96c117fdc88eadf49c9c775ee5fcbb0ddf4215045e9058806a3e7a4511d60ea1a9eaba6b111e86bad6bcb0e6899393513f57076e61181b671846840c9353c'
            '83414fdd1782e47d916fe6c3c3b6245d6c1f3d08f4c6f5be12ac6bf218b611f99e485ff02a39fbc554dcf7303517e30d6c899437bb39d70bdb7df5c1be0c6c7b'
            '71129e6403dbe4bf4a0a04bf1804de0b043207a553eed2277f56ec4a4cc6908b1854d0c11733f27d4faf426e65f24c933794c763e60d6dbde3a7ec1a1120b33f'
            'ac8f13d21664f1dbd826b63fe20c605448432427fc1cd46dd4112ee1bf47bafdd5db33dc2df33dec10a3048afbaf6bb57775f9e6d0e389c760d1bc488e1f51fb'
            'f0e9f25fd3f214f8558c7a2a81cabb81cf93cbae1726897bd981f1481f2765b91092fefb5f43ab6a49894ccde2559c75bff9bb6e62d35f6e47bacf9b36c18455'
            'a7160a126a93a59bc83de487a57e053c1cdfb252a8b4119b961f4ab33d1a8468e3567affefdf293f682762397fb6c774c2a77236b651752ae4986e32158c3f33'
            '45d9a7830c004f4d68effa895fb5fa5c4fe19c2a4bae7e2b395b5e9ff5b7c4f281e0ea3895a3a9804c11c19343b304d6421172b08cfd6e76c0800f883463b94e'
            'be5f5df01bf46840a0805fa565053253fcbbd3da6571e11899850feeaf5112715431fd518f0ccc03a7581a38e1214165d1fbaa70026558c816b3e5e1f7eb08ce'
            'cdbf650a8b267a46b83e8c343fbacc6936f21109f8ae701ee78d31dacd29bb6f538d9fd2b0c79dbeba65500298dfe3027d32115b7edc42bb660d42cd485b562d'
            '43a3490ab6bbbd4377b867e6a0f9509a9c309b020f8b6cd02b24308f4c0e9a67365925100c197563cf7cd6c3f8d2048fd4202c09d311a4f53c09b4fd4211f020'
            '5a00550ee0acb443b30cd17589c6de9273a2266c7dd83ea1808ec58c4e8a01006120d137a075f820a86b410f7aacb29e3bcb4a7c926c7201e12d2d0dab0839e8'
            '13a4dbcf91d06b7b00f3f46bd8b2a69815e60b12c3f6703ffcfebf7fd6ab55cb1b2fbaefbcf4cd14a7cf1ed2ee60b3b4e9fe9ccc54342c827f6d808551336f37'
            'fa6c9d60dbc00a4cbe400e5bb99f8b2a7804a6b6a4f35afb2386ff0c279ebba911bc00c5625c821cdfbb24ee39d36ab35c7abfda12cd782c4a4480a35826b233'
            '0e87e271f22900da932e397895b2b4ffaed0b1f54fb774b46f9c5a0f0f63b34afa3f37af5a49391e324865c6b0c8bd5238d26612f12881f46b6bd5595cf0ac7e'
            'f9e21e08ca3900bfd547fd0c62260b1306dd1654d7a42fac27b0385b1ffd108c6907cf617093e4a2c87560f9189db67bab66bc6f59dac7637e6e21a42d647ab8'
            '5c7682f213cfd289bb314910ad8ec27bf34f619969cbc1577f4783c06381dc4d458410b020e208f566155acb15fd36a7b65d2fffca964e3910793446fb99554a'
            'c444b6179484829944ef415f897cd91629473436879779351c3347b979bffe5786c7d357a5f8d5e147ec2ac9160f17f56b752fbe3d7e49b357d10a63162b6dc6'
            'b2deb5dc97271d293aea6745ca778b0365a5aacc584d0a6bbaf3c664c20ee175cdbec6922cdee69b39d63aea933effd5ad0efe39382929662531bd59386bc603'
            '629145846d89adcde1bbe44babcdc5b80d8dee8ca7d3387c61c587f089cb672537e5dffa584927c2933ebf9b1797fa461351a8a1e8e0b03f412eaf5697fa25cd'
            'b709952d31326b5865e125c8e6ba244fe3ced420dd1d375b3399be18986c81ee644493f51dc62a3c76e8f07f073292cb51fc48617da0217566cbf0978030997f'
            '0c4c19610acdd1debdb9dbfe03ef72b3ecf5a0ee199c36ce44b209e09a23eaff762b3712feb5cfbc639136e2ed9ac4516fc7c44044abc51f07b7ed26b741b879'
            'ccfc3a35554ba08cb823c2585d16e5d9ecf1634f8a7274bb0710941341f63478b29f25eca512e27b186c6c3152376450a9a7266159e34f553e700aec3a1850ec'
            '81f21ca063f790fc46dbfb06434e90dbd3ba959f46155abfe0b7265715a0c93379362c934fa3d18933202b58a26b9f73a39008c8f1e0676af27fdbc9c89e8702'
            '42aafc9ea3928921debe84d6b660784b94abae8b9ab5c891c852108ed97213264b6abf7727d59a54f5eb1ec547b4ebb97af88d077ec886abb25645fa159c8b2d'
            '672350062c9e928919c8ddf2f785ec4e53aa1881a973b470810575749e74c8f7516391989380615dbd17ce9d33ece7aecc3aba0ef50a9413dd764fc8e82c0717'
            'e881a890bacacad23b530602ce671a500bf56632d712f085014d0d81fc8937cc609ccde7ecef8c0ed797c2fbecfc6a5741bf568e2c70ed733dad4ec064a26017'
            '8deeaa8f36c4b1bd84dc7acfd6d857228719dbe0d1e5351f71f6b8a86f2554d97ac74d43166eefc5c83720c81050b0934c0a0e742652ab95eb7083c5c3bd0941'
            '177695e949f83583873b9a3057c0448fab85af4668ad4bac7412e42b353b2f6394107abebefbd0322af3fd7c82c97693bc9d682e172caa6e9581911d0c7e66f3'
            '9a9cc0e337448728f9122fb5eee34197f5599adb08b12c2ab2476927298467fcee60913c6bef0f4b18f207caa4a3b23b9b5811bbd79ea031d130a4a66997d522'
            '7cce02ef634bbba9c988eaa62b8b6a460a8fa761da65f2b452006cae2643333502b6220592c21536b36cdf9d12f673e216fc91223d1663102290d4c0be4ffa2b'
            'aa4d1467f9d8aa1ca55a29607a6d788eb37225d8e5c4e2aff2e7befbac6edcae5b42b350186f689be0b3a9021c580ad941e128d0ca5f00d4728d5641784d2990'
            'e2f9a8c9dd84aa10b415c5e7d837e123503059f806c76d9c29ae7f15d50704b49ef4fff3603defec0a24277012e495271eb113b887114235a3ddf9161de5fc2b'
            '76c8f4fb02acc531654cf779043fa5800473e2e079f04339ff4ada7a020ffac57c6dc8381bc7add56e28a6ee86d38a987bc4e463c142e3fddca3154d29bb34d5'
            '1dc522ae3b927952a42cd81bc514b134b54dcf01ce5a919345228dcdc410693e63c0f15127aee1a81730a26d3ec4a411ef089f10bc3cc03d464dfb07c6284dda'
            'fed46c3a08d3a3e3c3038341a09c3488da9f98ebb81365e977134ee964308dfe6a83f8b98b76e728a2a2f2bf8395d1e05f0f4baeb13eb9369c4e7fe628871439'
            'c2c4ff14e671c51fde2d48698a6d9d6739758b14c29aefc6f6b400b524b96896a950c66c404fd9fa97c395205f4e61a852142608bc0b1e7c2d115239303d4c49'
            'd68f4fedfa5b9bb02a3670ff06463d931db938cb0bea2dc677849fa41c60cf47ae62d11b736d031ebae846d7d8539ca6ed01defd198ecb20e1414412e2e76f9d'
            'add05d95b33e3b58f0a87c8f7dc537f7ce9e4083db30d79fa8343c14a21d11a28965362ae0ce3aaffde82a4dcb489b83c7d5e73708d7298fff77edf6ddedff87'
            '171379ddeaaa0ca74a77dfb38b6a6b050c85f1196cce7f201eeec91dd420d7727e87585ec2ee909a8c87260007fc864472d4ddd00d4e050b13068219dbf3d361'
            'bb461cd7a7b6f90494b1c99dfd7b99f1dffee7454c1adafc89c00fffa25c2ce17c45b1a99f0bf3b7955ae9c172b8f31ce0adc6e0686d7a7bda41550b34b1922b'
            'fa03ba54882abc6951d44011679d3446465973799675feea44189643e52e504042a2d8e19ea940508ca2e2c2233135f936258510b8d58e023597c26206d3ae9c'
            '14f2c51e030a2a71170a4a83e847a80c00e6e7e06e1e5ac9e5c13ac9e3f32157ded5504f1b7060cce49343a6640ac9516d68c6d12c2acd41877e42ac38d920bb'
            '190b07ac194854474155d6962906f3acbc27cea8a97e447a506030f6fba436e266f67147c426fbe14d0d4026f4c24d1f3e21dfe22c09fa22aa5e28a1dd29a73d'
            '417ac990e19ad5792b4b4e5f36961a8d2e5563288dab6e983a141ada9700bb01d3a1df1aa694811f2760b59223800034a8debf0f30eab56199755ea6950046ef'
            '19a4da3d44c0dcdba287fea0345f909278ed73192e9d7eee33cc263caf7f30b0c1f4b425941f0c355abb931c7863dc43479d3c8c70f90b3262aaf0f913aeedec'
            '92a69e5a448a72724ce09ed05f33833c5de4e5c3c2b6bef12c6eb5551700a260c119f7891abe8b048ca3d28b40c0f872a89cff8d138d674b10c164880cca7c77'
            '9663021e2d9007d6bc15c52e53ab99efe841ac1b810a4e6ecb5ef0de088506c0e8928d29f7d6b5ce94cf6c4b7dbea8d03879f1832808c18d5a7bd69de58d81fb'
            '6117c8f99c7297e27f77fc62a18645a57d62f53e40fd88e1377af7ea640c6e469dbbfe7d6d72b54fae493c8e21c54bb13667b9864f708d1268b671e4692c7187'
            'bd8b4fada5b0ef7df2e5e7a842a1b681902cff5d9c86dd3ecf915af675440bc47b2e4fcae9affd34d1baccde192a1d3c56d2bea99b44c0d57e816d53c4fb3a00'
            '5e38b6adeac66d64d727097008cf3eae3915a1298993a964f5aee72c48e52cb76e52aa0ecac8cf7ab7aab6c6baa3e542e7f80739daf4a5981becd0d785a2c9d9'
            'c6e2298a21625c56480279f1f9df8996cd245bf3d353c311c3564247de36649368c552cb7bd3b18ee55dd7f734066aa92ef069b7cab6a422a72fe1215e1889c1'
            '2a5bc9a511eb139bcce10f8655fd0311a00507e362003a0d4396dd406339d706c6383685723741822e12dd24574cd925eae1ff527568834343b887d8e5654081'
            '1dd97f6db124789cefd2b80ea41c7e808ae3de06c70bb66342aa3bd0c4f398ea56d9ed61df5e6052ebefd967d1ec24a32adc278246b39a8de5634d470373758b'
            'cb8f2c166889281e2412fa34248688b0f6c732d503e22074685891c1404f8ba250ec79f799248f96c8a777f9e7a55bd057202238f146e683cf893e1030c212fd'
            '63c3e69251ba65cdedbcc06cc1a70bb40235eeef5be86b2220571f23aadc8fe293ef80a75972187f5b4ae64e7ba325283cb07c917f68aaba9fdbf03a53156336'
            '0c85f12a7fc443f48f6b1c3a50acd54feceb65216124bde64f47d02f921e9a33369b611b205c21468a69bd7315f0b2c553a727b9819a816da76fb11ed13a4dd0'
            '54261aaee801365967968f97f3658bc34a91a8c068c563fc31de54f5fbe5e4d20bc8be4995ea5a74719b9efd2d0b38719c5ff19b2826f042db5ded80f1847e27'
            '73ebf18f10a31877e9423c9bd1a04c0bcca9a091a3d8cdcadcb6a11cf9f5b29c94b7c19b57560734ee71f79ca296b0e589f85054527498cb7c5027ebb246353f')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_[0-9])?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(VCRUNTIME|MSVCP)140.dll/d' -e '/api-ms-win-[0-9a-z-]+.dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
