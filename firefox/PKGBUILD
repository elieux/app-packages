# Maintainer: David Macek <david.macek.0@gmail.com>

_chocover() {
    # 93.0.0 -> 93.0
    # 93.0.1 -> 93.0.1
    echo "${1}" | sed -r 's/^([0-9]+)[.]0[.]0$/\1.0/'
}

_realname=firefox
_choconame=Firefox
pkgbase="app-${_realname}"
pkgname=("app-x86_64-${_realname}")
epoch=1
pkgver=141.0.2
pkgrel=1
pkgdesc="Standalone, easy to customize web browser"
url="https://www.mozilla.org/firefox/"
arch=('any')
license=('GPL' 'LGPL' 'MPL')
replaces=("app-i686-${_realname}")
makedepends=("p7zip")
provides=("${pkgbase}")
options=(!strip)
source=("FirefoxSetup.exe::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/en-US/Firefox%20Setup%20${pkgver}.exe"
        "ach.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ach.xpi"
        "af.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/af.xpi"
        "an.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/an.xpi"
        "ar.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ar.xpi"
        "ast.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ast.xpi"
        "az.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/az.xpi"
        "be.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/be.xpi"
        "bg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bg.xpi"
        "bn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bn.xpi"
        "br.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/br.xpi"
        "bs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/bs.xpi"
        "ca-valencia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca-valencia.xpi"
        "ca.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ca.xpi"
        "cak.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cak.xpi"
        "cs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cs.xpi"
        "cy.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/cy.xpi"
        "da.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/da.xpi"
        "de.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/de.xpi"
        "dsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/dsb.xpi"
        "el.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/el.xpi"
        "en-CA.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-CA.xpi"
        "en-GB.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-GB.xpi"
        "en-US.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/en-US.xpi"
        "eo.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eo.xpi"
        "es-AR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-AR.xpi"
        "es-CL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-CL.xpi"
        "es-ES.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-ES.xpi"
        "es-MX.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/es-MX.xpi"
        "et.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/et.xpi"
        "eu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/eu.xpi"
        "fa.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fa.xpi"
        "ff.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ff.xpi"
        "fi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fi.xpi"
        "fr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fr.xpi"
        "fur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fur.xpi"
        "fy-NL.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/fy-NL.xpi"
        "ga-IE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ga-IE.xpi"
        "gd.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gd.xpi"
        "gl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gl.xpi"
        "gn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gn.xpi"
        "gu-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/gu-IN.xpi"
        "he.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/he.xpi"
        "hi-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hi-IN.xpi"
        "hr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hr.xpi"
        "hsb.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hsb.xpi"
        "hu.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hu.xpi"
        "hy-AM.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/hy-AM.xpi"
        "ia.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ia.xpi"
        "id.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/id.xpi"
        "is.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/is.xpi"
        "it.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/it.xpi"
        "ja.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ja.xpi"
        "ka.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ka.xpi"
        "kab.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kab.xpi"
        "kk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kk.xpi"
        "km.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/km.xpi"
        "kn.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/kn.xpi"
        "ko.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ko.xpi"
        "lij.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lij.xpi"
        "lt.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lt.xpi"
        "lv.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/lv.xpi"
        "mk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mk.xpi"
        "mr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/mr.xpi"
        "ms.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ms.xpi"
        "my.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/my.xpi"
        "nb-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nb-NO.xpi"
        "ne-NP.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ne-NP.xpi"
        "nl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nl.xpi"
        "nn-NO.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/nn-NO.xpi"
        "oc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/oc.xpi"
        "pa-IN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pa-IN.xpi"
        "pl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pl.xpi"
        "pt-BR.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-BR.xpi"
        "pt-PT.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/pt-PT.xpi"
        "rm.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/rm.xpi"
        "ro.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ro.xpi"
        "ru.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ru.xpi"
        "sat.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sat.xpi"
        "sc.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sc.xpi"
        "sco.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sco.xpi"
        "si.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/si.xpi"
        "sk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sk.xpi"
        "skr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/skr.xpi"
        "sl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sl.xpi"
        "son.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/son.xpi"
        "sq.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sq.xpi"
        "sr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sr.xpi"
        "sv-SE.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/sv-SE.xpi"
        "szl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/szl.xpi"
        "ta.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ta.xpi"
        "te.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/te.xpi"
        "tg.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tg.xpi"
        "th.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/th.xpi"
        "tl.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tl.xpi"
        "tr.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/tr.xpi"
        "trs.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/trs.xpi"
        "uk.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uk.xpi"
        "ur.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/ur.xpi"
        "uz.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/uz.xpi"
        "vi.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/vi.xpi"
        "xh.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/xh.xpi"
        "zh-CN.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-CN.xpi"
        "zh-TW.xpi::https://ftp.mozilla.org/pub/firefox/releases/${pkgver}/win64/xpi/zh-TW.xpi")
sha512sums=('3d79a1aae098d892f191b888b9dd70be016da91fd940ba20b1889b7ea0d09b513a1602114f272acc05d3f0568c695bc570abebb3b5effe1ae04ee3e3b2d02b0c'
            '18bce72dbdce20e80c3a8c6a8123cd3e757916a8b680d39be35c806c575d7b9ea510087ebb677be1e8c1117813e901d9074255ffcd22db4c694481feed0d4d27'
            'cc7767968319510bfe40ffe90f81520cc935a6bb4e39b6c942500f0331f245a7402271a811fd083ac106e90d224076e7bb1ccc834ac3edbc2737004b250b4d74'
            '8698ef1b6beb79f860e56625a8d9b2c7b750274b6200e2b0aea14478915401e4ef2c5f946f1740981e57e6490bcca0b62428b07c8022a43f3ede9b297ca5bfea'
            '52780ca225c25a7f4acfb4e385f34bd695a2b2b5c97e44870d4ea78e685262c432d9cd37ef5ff5f70a27911284b99fdccb35543b649eefddc1ea7dd5e43b636e'
            'e65216ef0f0d3a62ffb1f895407c2f1cdd2257fecd07fcac8e640e481ff94b5097a72cbda04b3438fbf813ae0953703b3f7c5fee8c7ed11543ad8d39302de5e0'
            'f169e0962d8c1c86d2639543ae65a6b38b4c112560b883315f9707907a8fb440961ea6c8ea37ee2c2505dcdaf67b4e9156a885d12f4f97c6b52c08cb06dec92d'
            'c2ba168ed95288911a0ff5c0df785f835f07fabfc07cc8d80bbe584294ab3ba4c76ec5829723247d571cff8cf8d2cc68935b8c121a69afa49c53f89d56eef918'
            '3bce4c4a8201ba1255b0837e29a99a127193c0019547659dc8341a4d1ed7b8df0b667286116a19475ed325d3fb52ca2e5b89ba56b11a6abe21264c7f5f28daab'
            '913b2f997e2cb17b7b5802bd22c1e5b26757fc78c5be70714bae577702b9ac7415c13e771e62f23d41e64355ef30a9b53107164d945b43f51107e554ddcc2ab7'
            '7c36c2bc5bcf690c16a43217e87b847efc975461c948a97243becacfc360cffc2a0655d7041183ccf0468d6002a0aa0593777ccf875155fada63206e6860d71e'
            '4239f2bf5509d02d7ac24ec9571f9cf95904ede457b9a5687ab989eb2a823f9f46383966c70dab567fc705e16ef40f5042b235c8074f209d1cf854cf0caa5a5d'
            'b4bd3c3ae8b07cc51547603f455b9209d4fe94ce94454c6905d90d947179411aaccbd84eb66f2d1a1f97485ac3f6ce17a2dec19138f265f43e713d53a362352d'
            '57847f261af8c4cbd2bccb0ee6eadcaf1813a284b5390ab4ba2f3449ac01f522049e277d4cd8c3e4b042083c420bd75f3de6b126c7aa081ea1182803e04b3c08'
            '6593e53f2185fb157786409407c46434a89baa834912a4e327024ad44d7cb6be400340a037960107128ed94d338205174d1cc7eead59917dfb5209c6e8c7e156'
            'ee3c28ba5245ab9d1b35203dd6c67f5dc838c01e40759b513afb890f3d3364123dc647d87305fc8e92141c532f40b64609e746e820806f2408159a900afb9543'
            'ec7c9b74b5e93f3d63ba410f48de20ce2be7769e0b3c0e7ef3d2e972a9b84099b9c525617704265755b9b431c459ed49feab1271ed4517fd77067a6a586e9a20'
            '99f7ddb5953147f0254bd80d1d73ab48189eda19e2e95f9df0da72d3ec87c0dc7f6c72140d6a7cacf463108c9baaeec78223805fd795b381734d9b551ab58378'
            'ed9bcc85342c532d72f57ed3467ffe12e95a6debe674e40074859a11c3309ac04d9672e09ebacc1200c0cf824d98cdabba9e6f4ac8205d66c17b6c3d728c289a'
            '055c7c50906d17c938307d60aa4f087a2ab122d94128634dc570d549f0e9c71ff0012ae0a18acde48c5dd71a3b71da9d80ca0a8c631afd866268e5674dab07e5'
            '9d09a44ceb6066ea478890da96b1344c95136f29f6beb1ce00ec481948bbd77b642a761128dd581d19ced3179c2937b9d53f86c77e0fd88f13ab286d1afabb05'
            '18eb67e193532abeef83c9886aa8e875a9e3b0018b3b220b0af9e87146683f1f68d174186e2fb473abc61a6313d49408a2d4804deaa54b7fd23fc100d038e9df'
            'fc61f95bcb6362bb02dba9fb385aa557a87923552c80db3f78a26a668a7409578fd39d70ec5d703f87b1ce8b66bef41ec054cc011c3dd6b781a6d4c6cb710b2c'
            '3324fb1fdb288c8ca86eaa2cc53a54d17e8d20bc20e8c11026d994a308e730699be23d0078594633e14425a9c069a5c63da35cbdcaf7f3ab35816e268b59fbb8'
            'faf26d11ec9b0c3d432f60f5c94fff044c4e246e17edd3ea16c00802c8648a995853d0a09509c8ed6b8a7218786ae902ea95bb4086bd9249074162bb0a053bfe'
            '93ccdd419a5da7490428f51ce689adc74a7189fa85a7d504a6d131a685d4bc3c48b8c59b2b4346782336e8b7c69ed650effc08282073a48085a4cf784b5cd4f2'
            'e70d56fa9db65f79b77fb13be7ddaa734d21cffcd98ad67c81931f9aa929caa7f31720d4eb6101d4d8472d7b6ac72086f0f17d2964d58d2e5a9c4cd1f6263e22'
            '283c173bf3c199ef75108f98be1c3b6de253200ed142b2e1cc95ba31ccbc5cdc58cc9ace0b7c822641cefdeae66af8b139871cc8cd27ed8d163d28a49d745dd9'
            '3f9767f16b2c312afde7adc72afbd215836132ca83a517622320637bfb075f2cd8da3b477ec80a576cfe3f90919ad35a6ddbf7fc84cfee8bba234137645cff5a'
            '7e8355e15094a61e76f2d607d77a9ef9c4d6f476aedbd7c65d535f7e48a406b0e15803cc0a431519ac0252523ef08f5cfa92c948103a6056e58e140232fc605d'
            'f1799dabfa287eca9e4c1fe7df687935f8f4765555049a8a0ac437edc9c2eefcfc923fa28b518e8192e4a56b6c52881826db788c99c83bc2fe5e1f2fc618cbd5'
            '4fc613c7a86938145cbf16b23362197e1d974cdac4bb685ed4217c9b59b9039bbb08fb48f3fec382d3ecb1dcab84d4aa65dfec4ebb48e6f1fac77c20ae1e66f6'
            '8d690d4ede2bd7dfd295a6af25c6146deb1941d9f4cbe69151e473439e6d92686055b29f82544b6d719d5d734842f8fbf352ceeaa73b41b9f84709830da711a1'
            '358acdcdc31fa935bff8ebbe9029cef19cc38ccf22d9aaedf19e2df3e64a9729ec81b948579a5259d822d6f94e61f929ed04ac7dd9e35b9d7aafbd2ced528c36'
            '258a6a8932359209020a513c4f0758da1192a64048017c832f104c0311f6c3b724d16e476ba074da6f75dc1e6061450bb4d4eb94b813c9a38b216b5b20c6ceac'
            '60c8e7af0ae402b37ba21d407a3e1e817095ea655c0a1af8c9e4bb1a8a2dc75013d8e882aa743d90fbfe093f62198370c26c7175d74c0d55a316f5114f9fe89d'
            '100bbbb4df4384c41c6ad396297ad67a80cc20c9353d0cdf228ac9a0a296884fa02d547fe6ab0535bacd4464b16f2e0efd695377eeaa66a018ee1f151cbcd66b'
            '8b29f9584abdf90cebd20ce0289b6d1e43999d5622f4a5c9db0cdcb573feb7c399ab315a18915174e240f07d0f7c76df3c9b6f7979b870f5f2acbeeeecc37d32'
            '2256267827305064ae1415a9ffba87302e5d8bdcee8845c3f4283cfdc82ea68dda97021b3170ed0c03f38c81c441c6905c8c12c4ee9b161485c358288bc6e475'
            '8d7dc25e6128bf2f36b2947fdf10e07cbaa8c5025f25a5c23a53b69ae6a5d0ab764f33846de1f0cb5c881c429b99bbc20753de65e7f93035dcbcf31de8b736b5'
            'e8d4565797039f50041acf6e8454e34afddd672e27e643bd779ca8f9cd6241d620d1133e3984b59bcd8c675118cd370b2a2dc6528813dad6e27fc3a5294613de'
            '5ecfaf3fe54ffc96116870699fa28491ce99396c3a15f22096b299d881565a934281dffe3877f70ac2c8e7d5208c630c705b6fa513151145aadf5f71374aafd6'
            '05a484164c7626ec65ac9cf5c0a7c2e9199b1c787ec624f02e76a9cc4e9a8fda89a64887eb0429095a31eb931e0dd819e9699c5a6303e09afcefd0961755c422'
            '8388163e69a99b750489c654b05617f747d3194073bd0fe712eed59ba91bef74371dbe998b6f969d4fc01f7f82eaabc2d2f5a062d6fc38d410ab85df600af574'
            '48fdcdb860fa8830483f5f558fff120b21041e87c9d4ddd696338fc6b486b8099a5060693d12490b165969df0709c7a5f5b94179b06e200503ffe571a130513a'
            'e0b324f198c03214ed35d706eff975ba4a9bb6de843639cac9ad9f13bfba47547f7e9a0df6368023c503c35887b68772c9956939ce4d14380eeb52fdc07ba29e'
            'd29c71339a7a0953e53cc56b23aa545f778896d2f9e2e1efbe9d721881e02e08441fe84267ebd4c7d218c31a65d078b5639bc5092da6dd57991be9a2f1ab6dcf'
            'e62d36e824ec115af788a80bfc19ea37234d9f6ee1c42712cf73aff3226586d631af9776c630d86dbc5ef95dcded1ac57295af8daab1f3fab269351e406c8844'
            '575017920ab555edcb723ec4e2a6d5abb45a8c8488e5be8e601b7b98be621682387e59d9b5bf3af3e44c1d175d69ea48149c3a4cc8f5a31f73f3199cf4403b21'
            'e5d1b76b04b5a2fe521152ae25d5a6745b5d4fed17e8a96ed83940ddc3b4fa9aa87d84c34cbabc9da3e76dbddff512bf5d550b9d53b54103f772164b189f0f59'
            '55bf76b724056753ed78eb7a73b4950df012ecf09edd134d8461ea5a67b441a224e1f0c5a55993e2727fe9360ac0c0eef167e5f6e822240b940a16077ce92b21'
            '404c18d3fe7efe8fe9a8ef978a50451cb1288fc26972b85e93d0eab9b162dec5077a6129e3aa2b1928b3fc6cd84643271da873abe1aab1929433d6c8d9f76711'
            '9bb296f62aedf6f1fc376f0af190ddd19d365ea4c3f3a16abc4a227e740e5506ebbfda0762c0e0045a8cda75f0e8180845b32612e4aa386da3a7d72202e95c6b'
            '4642fdd1aec117a96e32449d7cb173569c613b44f737f920a43894df16f7dc32ec46893f324996eb6f02d32006f7d4bbe3a4ea418a58d8c3fa27d9ae26905187'
            '2bee33473218bff4cc09f5decbc304da41ea7f6af52aba7067b6a7dc76ae4780b34722b97785c4778ac9c2653ca729fe53a19d8083de088a238d3cb887e3b0fa'
            '69e61b9724c5d11f770603a48f6562d8cdb169b40b30f6d80c115e3ca25f9852bbd80675cb7c3e09d5960b231676048a1098e6e5f17b202faea30b985d9dd138'
            '109a4156a981019c23c11a0c6e18748d3de436164287d16e7d890026453beda033be68fff40a2d14d33f60358cc3e1e5eaa8b20619060e9a079ad322dd43f6db'
            'dc23b1ff270c85f31b5bd866a38096dc50612df4296dd972c21306784de9f93bf7cc1b64f53989b3babc8ef25b2da4a133b09e2d1447a7bfa74b9f0b56f3ca53'
            '073c569d9c57fcf33d9335365cab9f4f077799d1de25bd7a8f89f62369a5a19d45fab9676fb34ba60162912e781927579a127e1f36e6d47f2bfe18f1752374d5'
            '3546999742ba022d1a83905feea41c03394dd459c295c07aa089b3bb14b5e4c8f4c0e32032ace39a520a363dc867da67d1ad9e133f02b10fe24d660db683c516'
            '8d23507332513894e9de098c4996375321a91b906eeb04dd05272903524dded99bc4a71f24b53a12f67db32fe18c4d5290dac00fd1add50f3007bb0fddbdc2ea'
            '752ff620fc8aa6c222969251a53ab1c0a529ef6f2898d6a894673ead259d19bb43b953caabbcb37ce4d5ff1c7eef5aae7800b1562cee882a477b41065cf8d081'
            'beb49672852abbd34460c638f28eb207e3a93d456f36869844ff3491517613d74e328e3a4489d4a531485786842ada8ae824deabf1657b5cc26eb3a672e90386'
            '9be5b152d0a3cf287134fe6fc5d96afa83a66d3162a900baf6a76287aed718d45f1983955580fd1823422377bb1132bbcc39876ad93ac528ed4276a3f654978d'
            'e5b310fbb9ba06e23fa4373883ec67d63ab9c61f00220306d56856796443356d2f5b8ee1be7ebbd57bba39bddccc5a5a8816285f6f594a993556ea39760324c0'
            '0e92e922b59defb57d63ed2cbf165b81e2b15d5e9f113c65b453e8652470c2232366851ec051ea0bfd97300bf321796a50e08dc4b38acf1f5f5b05e2d2a04ce1'
            'babdc91ed23e0c6601b46c066a43c2510697d0306e1798eaf5071ab316eac3a85cb9cf61a568a34130e4aa7436176de2bb7193f015611c9760fb45d860ba739f'
            '001b77bf326d1b1ef1a7a10bba460ff103d0c63d3e58e1f6084979eecbcb43d7ae13d6d5d6e2cedb54088fea70aa0a3e2808667fb099b645ce0969c07a6e0024'
            'f9c962328316a474ae112aacb8d7e81c80c71e62aaf3d3c7252e468f23c67138ec5c1c7e6729d2506a9ffc300b90e327bc57c123de64cab39aaf62367bd8a353'
            '8205781bb5d272efd171e41f8885970636bfc99e5d378c9867e8e26a779768d013f9b53a8e6cafe9f6d1c3b2fb64f4003286b4b689ab9221bcabbc4376e29221'
            '77b63b942b92a09c74465b0663fd167a33aeb510e4283bbaccda0b896edfc89b31e09a561ccbe97ff76fca796340b250d9e7cb9f51eb739c64035235f34e2674'
            '08b32bf8560e4f2cf34b0add0960bd1728f51b7fc397e64b056fd2758598131d47f92a3348ee18b568910b75131f43b879700ef5077c36a663550c83ed91953d'
            'aece69f4ca83df6ec00a9b8d1e822387e41ed2dcd0eda719e6a0d5b6842f98cba05a9159035a7fde63a775a81c048f171988929ddae02927f5dee68ff3690395'
            'a083b4a0814d99ae5311cfb77b32efe89cdaf3c3cc609f503e5c4851c92431ae559df4398419926350b438c24eab9419732329cc216bb7e256a596baaff97a8f'
            '074ff0a77ab4638677db5157405738d3574b7b741fbbcbc0083e80a3624c8c695fce69358cf31a0ce1f919253a5b63b2f5ac19bc0dcacaa2637dc608614c1163'
            'a3999366dcaac3073c86ea4bbce7297310c7691859769236d52e24cbd8f27febd72c41a00cfe1edf7e0b3dda4b35cdca42fcfb85e78027a93863b024df0c5336'
            '818334b6b575be8490df8ae9a99daa2cc3629b2f8199e3796296f34bcef1eeb8352cd44ba026d673d790d0591caa1791a277e5345a8f6641b6a457d51a5ae12a'
            'c564493fd5ee5f8b017db6e135e05ab29759c6ca6dbeed70e2903f343ef800f6cf9a8123c319d5699c9bb7aeea885fb06c4c899c29c19fe1e2e525dca2f753e0'
            '9c1ebc67e348c10ae616a3464cea814ebd4f52b40b42a4e9c24ad5456a58877eed0751987e9d998044627bfd7440e7049beb564ca8f7fa6259fdc41f5b08218c'
            '7d1557c8c3df21b5159ea78f2ae7b8b77d555e748e93678f11f83f35e4cd807209969500b2db71df26ac60426d8f35535d7c84b5de807a5f862914b5bd83f004'
            '1040054ec8c28fa50f058ac2f00519d7cbf39109d8f6b9974ea0a0eb9dfe66c09bf42020dcaa4ab7bc0ad556c1a902f39c78c3e28335c27edadd88208ffe7186'
            '77b740bfa3a90077db96e7b5c51ad57f0e57b33d4622b6980ea3e3c592cba3fb665cf180d32619b001ee822b388db9592fb5a5f1bf2e104fca2e8dc08da65c72'
            '918e6903b8b72de7d0f1791dc99c9a834cf7e0e771eecaf1217be5ddbad6e03f6ceefb45b4581478dcca164e4c9c9b5cb4e5c9831ce467e23dcef784d03ec52e'
            '153fbf505b771c76bd7977531b769f1aebf7cb2144fd7c4e0ae40af58d844d3e88e50b0eec1a62a0f8b37bc55fe5429b9a59d8237e5aee451dd3983098878e67'
            'e67f386cce775e0f5a1cb530629929095b00bc6a46786cb21b46fbaf7e578952da502ec39b92e14617f243afc32c7de0f9d68a4c77b4e1299cded76bd89bbd2a'
            'fc0f55cabb2b9ecf9ee28cd9275b030c54c842f98daf90194cd1e29d232f8c55bd966e0a160cd72348a4c57db6f7987206e38d7123c632d43b33b4d33ad58651'
            'b3426266b228adc165316f466bd944e8b7b1596923336aee88aa04080b3c728a689439d3c51b7053c2255f275a097166ed93d1903aed6244f0724233a5b2565e'
            '717f2d1139cde2c6e98ab1d3ef1b077b188dde93698ad0b9e83dc9bb347e0c869dff5982cf547d9000180573f4e6c761abe5a1a2b4fd93464046b9893527d6b0'
            '3bff0f95427073e0a2877c04e9a55ad51e6a990821bd2e81d8e946d59405595d55e833d73ca6fad2a579b42e6314b75355bf867bfd48c78c3c83328abe028848'
            '9b6b20a1356e5a58dd57235f5298c5dd4d5d8d94e4e9501f9e1329780a8218bea1344bae74808e9b4015d5074d8f76adec6b21c43c9d2a918d6c0610a5bb6fd1'
            'c2868e54d352d1b89e9b33aff012a1faf11640a998abe7ec3fbf3d08ec619d1974f963dcfdf082bff9c97e61913015e9f4873543c23c317170c82f43b72779af'
            '66097ca9a5e4cc50c0c9703923e6495e26c2cf1eb73b3525e8ba9244b48408394c6770a085afc713cac6d34ccb976cb24f10d5e144ffbd4b528482ff0576ea74'
            'e4de77a4f237bc7c4ec33b70e1ca3bed69508153a3572fdab37ce0e5fb09029387da48fd094e57e61154dc047f5e4cc722e97f0847955640fb2b9aa13b854ba7'
            '5a451a68cf84975459c7c65f3b12dbd2fea9f02b88a2d042c2d82fd930492cf9b142b8dd86b600194981146c245e679bf96a3e59e90ee3772b9937253287123e'
            'cc4750da3d5d24e2bb1fb1f6682c573a8848254733db7717f13cbc74d244114a9da3f89bcf273635176b8f762480e0caedb95987277ee90d241b9d5a5e65e230'
            '7149aaf230bd905a655ba6c5d2c9c6c018890edbc32996840411dae9c6501a881abcda6d212aa62a56b8d76f67ab5376562d4e2a0506a7dba12cc6ee73cfdcf7'
            '7497c2d3b623fe4172986bf069276f15dad15c079d5a98147355c3a74ada0cdecafd28828a680d0a94a51ee01265a8924252a4f60d036d67e8a305b7782d9056'
            '1f6c419125c99052b639daa4e9d40afd35d20d97822fa6e6f50449f08fea2347a9283659d1d5cc74ec66a3e3271e2628e7a9621a8ea8a32f1d6106a10da3d294'
            'cfb0b7fee59a3fd29bbe76e3e6ddc27c9feb029dde98b6c1e6152655629aedebc44d381d987061d220671e140bf68ed31dd409cd5f431b3b20a88165ea5be522'
            '4aac8ff21e5dcd2dae22ca5122d687110ee98f04edaa0d1b36bb21685a0a412f2518179c24415a55a232a4b3ecc9310380a4dbc8182065e1274d87a0c17a1bc7'
            'a6d829a4c72174b579f661913fe1a538a6e7d9cc9d7fbe680d1486245146fe67c64ad13603a64617cb691e3589ec4ed98de2cbfafcc610c7b5c653f9ff3072bc'
            '9e2844257beede45a4412cf959187cf96c1433e4e6d351cf50f7d65a319bd49a5cc50576835bfb47b7a515ef7753efdcb327d0ed568b338c994a67b061c17880'
            '81077b18e151b88be151de1e1e8ccfa1b10c6ce89790a8d890e02c81244fd8da11c0e9dee798258c547c1a52b69a799c8b34cb5be7cd00ee775246f2254a26c0'
            'aea9061e444367761e75a1e9f8b657d31e0266723c92e676996af529964b3c5c7d378619b13b55a64de77917453e4860c0f617bb0abb73d34b0b8f9398a5064c')
noextract=("${source[@]%%::*}")

_lc() {
    local d f n

    for f in "${@}"
    do
        d="$(dirname "${f}")"
        f="$(basename "${f}")"
        n="$(echo "${f}" | tr 'A-Z' 'a-z')"
        if test "${f}" != "${n}"
        then
            mv "${d}/${f}" "${d}/${n}"
        fi
    done
}

_rmmsdll() {
    local ms

    ms=("msvbvm[0-9]+"
        "ucrtbase"
        "mfcm?[0-9]+[a-z]+"
        "msvc[rp][0-9]+(_([0-9]|codecvt_ids|atomic_wait))?"
        "vc([ao]mp|corlib|runtime)[0-9]+(_([0-9]|threads))?"
        "concrt[0-9]+"
        "pgort[0-9]+"
        "api-ms-win-[0-9a-z-]+")
    find "${1}" -iname '*.dll' | grep -Eif <(for m in "${ms[@]}"; do echo "/${m}[.]dll$"; done) | xargs -r rm
}

prepare() {
    7z x -y -bd "FirefoxSetup.exe" -o"FirefoxSetup.dir" > /dev/null
}

package() {
    local a="${pkgdir}/apps/${_realname}"
    mkdir -p "${a}"
    cp -R "FirefoxSetup.dir/core"/* "${a}"
    rm "${a}"/maintenanceservice{,_installer}.exe

    # remove system DLLs
    _rmmsdll "${a}"
    sed -r -e '/(vcruntime|msvcp)140(_1)?[.]dll/d' -i "${a}/dependentlibs.list"

    mkdir "${a}/browser/extensions"
    local f
    for f in *.xpi
    do
        cp "${f}" "${a}/browser/extensions/langpack-${f%%.xpi}@firefox.mozilla.org.xpi"
    done

    _lc "${a}"/*
}
